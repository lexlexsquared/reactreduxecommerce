/*! For license information please see main.js.LICENSE.txt */
(()=>{var e={874:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(81),i=n.n(r),s=n(645),o=n.n(s)()(i());o.push([e.id,'body{font-family:"Open Sans Condensed",sans-serif;padding:20px 60px}a{text-decoration:none;color:#000}',""]);const a=o},177:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(81),i=n.n(r),s=n(645),o=n.n(s)()(i());o.push([e.id,".collection-item{width:22%;display:flex;flex-direction:column;height:350px;align-items:center}.collection-item .image{width:100%;height:95%;background-size:cover;background-position:center;margin-bottom:5px}.collection-item .collection-footer{width:100%;height:5%;display:flex;justify-content:space-between;font-size:18px}.collection-item .collection-footer .name{width:90%;margin-bottom:15px}.collection-item .collection-footer .price{width:10%}",""]);const a=o},35:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(81),i=n.n(r),s=n(645),o=n.n(s)()(i());o.push([e.id,".collection-preview{display:flex;flex-direction:column;margin-bottom:30px}.collection-preview .title{font-size:28px;margin-bottom:25px}.collection-preview .preview{display:flex;justify-content:space-between}",""]);const a=o},656:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(81),i=n.n(r),s=n(645),o=n.n(s)()(i());o.push([e.id,'.custom-button{min-width:165px;width:auto;height:50px;letter-spacing:.5px;line-height:50px;padding:0 35px 0 35px;font-size:15px;background-color:#000;color:#fff;text-transform:uppercase;font-family:"Open Sans Condensed";font-weight:bolder;border:none;cursor:pointer}.custom-button:hover{background-color:#fff;color:#000;border:1px solid #000}',""]);const a=o},173:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(81),i=n.n(r),s=n(645),o=n.n(s)()(i());o.push([e.id,".directory-menu{width:100%;display:flex;flex-wrap:wrap;justify-content:space-between}",""]);const a=o},970:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(81),i=n.n(r),s=n(645),o=n.n(s)()(i());o.push([e.id,".group{position:relative;margin:45px 0}.group .form-input{background:none;background-color:#fff;color:gray;font-size:18px;padding:10px 10px 10px 5px;display:block;width:100%;border:none;border-radius:0;border-bottom:1px solid gray;margin:25px 0}.group .form-input:focus{outline:none}.group .form-input:focus~.form-input-label{top:-14px;font-size:12px;color:#000}.group input[type=password]{letter-spacing:.3em}.group .form-input-label{color:gray;font-size:16px;font-weight:normal;position:absolute;pointer-events:none;left:5px;top:10px;transition:300ms ease all}.group .form-input-label.shrink{top:-14px;font-size:12px;color:#000}",""]);const a=o},628:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(81),i=n.n(r),s=n(645),o=n.n(s)()(i());o.push([e.id,".header{height:70px;width:100%;display:flex;justify-content:space-between;margin-bottom:25px}.header .logo-container{height:100%;width:70px;padding:25px}.header .options{width:50%;height:100%;display:flex;align-items:center;justify-content:flex-end}.header .options .option{padding:10px 15px}",""]);const a=o},91:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(81),i=n.n(r),s=n(645),o=n.n(s)()(i());o.push([e.id,".menu-item{min-width:30%;height:240px;flex:1 1 auto;display:flex;align-items:center;justify-content:center;border:1px solid #000;margin:0 7.5px 15px;overflow:hidden}.menu-item:hover{cursor:pointer}.menu-item:hover .background-image{transform:scale(1.1);transition:transform 6s cubic-bezier(0.25, 0.45, 0.45, 0.95)}.menu-item:hover .content{opacity:.9}.menu-item.large{height:380px}.menu-item:first-child{margin-right:7.5px}.menu-item:last-child{margin-left:7.5px}.menu-item .background-image{width:100%;height:100%;background-position:center;background-size:cover}.menu-item .content{height:90px;padding:0 25px;display:flex;flex-direction:column;align-items:center;justify-content:center;border:1px solid #000;background-color:#fff;opacity:.7;position:absolute}.menu-item .content .title{font-weight:bold;margin-bottom:6px;font-size:22px;color:#4a4a4a}.menu-item .content .subtitle{font-weight:lighter;font-size:16px}",""]);const a=o},201:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(81),i=n.n(r),s=n(645),o=n.n(s)()(i());o.push([e.id,".homepage{display:flex;flex-direction:column;align-items:center;padding:20px 80px}",""]);const a=o},841:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(81),i=n.n(r),s=n(645),o=n.n(s)()(i());o.push([e.id,"",""]);const a=o},491:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(81),i=n.n(r),s=n(645),o=n.n(s)()(i());o.push([e.id,".sign-in{width:30vw;display:flex;flex-direction:column}.sign-in .title{margin:10px 0}",""]);const a=o},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,s){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(r)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(o[l]=!0)}for(var u=0;u<e.length;u++){var c=[].concat(e[u]);r&&o[c[0]]||(void 0!==s&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=s),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),t.push(c))}},t}},81:e=>{"use strict";e.exports=function(e){return e[1]}},139:e=>{"use strict";function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},620:(e,t,n)=>{"use strict";var r=n(139);e.exports=r},815:(e,t,n)=>{"use strict";var r="__global_unique_id__";e.exports=function(){return n.g[r]=(n.g[r]||0)+1}},679:(e,t,n)=>{"use strict";var r=n(864),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?o:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=o;var u=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var o=c(n);h&&(o=o.concat(h(n)));for(var a=l(t),m=l(n),g=0;g<o.length;++g){var y=o[g];if(!(s[y]||r&&r[y]||m&&m[y]||a&&a[y])){var v=d(n,y);try{u(t,y,v)}catch(e){}}}}return t}},418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,s){for(var o,a,l=i(e),u=1;u<arguments.length;u++){for(var c in o=Object(arguments[u]))n.call(o,c)&&(l[c]=o[c]);if(t){a=t(o);for(var h=0;h<a.length;h++)r.call(o,a[h])&&(l[a[h]]=o[a[h]])}}return l}},703:(e,t,n)=>{"use strict";var r=n(414);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,s,o){if(o!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},697:(e,t,n)=>{e.exports=n(703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},448:(e,t,n)=>{"use strict";var r=n(294),i=n(418),s=n(840);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var a=new Set,l={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)a.add(t[e])}var h=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,p={},m={};function g(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function w(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(m,e)||!f.call(p,e)&&(d.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,w);y[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,w);y[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,w);y[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,I=60106,k=60107,T=60108,S=60114,C=60109,N=60110,A=60112,x=60113,R=60120,O=60115,P=60116,D=60121,L=60128,M=60129,U=60130,F=60131;if("function"==typeof Symbol&&Symbol.for){var V=Symbol.for;E=V("react.element"),I=V("react.portal"),k=V("react.fragment"),T=V("react.strict_mode"),S=V("react.profiler"),C=V("react.provider"),N=V("react.context"),A=V("react.forward_ref"),x=V("react.suspense"),R=V("react.suspense_list"),O=V("react.memo"),P=V("react.lazy"),D=V("react.block"),V("react.scope"),L=V("react.opaque.id"),M=V("react.debug_trace_mode"),U=V("react.offscreen"),F=V("react.legacy_hidden")}var j,q="function"==typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=q&&e[q]||e["@@iterator"])?e:null}function z(e){if(void 0===j)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var $=!1;function W(e,t){if(!e||$)return"";$=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=a);break}}}finally{$=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function H(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return W(e.type,!1);case 11:return W(e.type.render,!1);case 22:return W(e.type._render,!1);case 1:return W(e.type,!0);default:return""}}function K(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case k:return"Fragment";case I:return"Portal";case S:return"Profiler";case T:return"StrictMode";case x:return"Suspense";case R:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case O:return K(e.type);case D:return K(e._render);case P:t=e._payload,e=e._init;try{return K(e(t))}catch(e){}}return null}function G(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function J(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function se(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ue(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,me,ge=(me=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ve={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ve.hasOwnProperty(e)&&ve[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ve).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ve[t]=ve[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ie(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(o(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ce=null,Ne=null;function Ae(e){if(e=ni(e)){if("function"!=typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=ii(t),Se(e.stateNode,e.type,t))}}function xe(e){Ce?Ne?Ne.push(e):Ne=[e]:Ce=e}function Re(){if(Ce){var e=Ce,t=Ne;if(Ne=Ce=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Oe(e,t){return e(t)}function Pe(e,t,n,r,i){return e(t,n,r,i)}function De(){}var Le=Oe,Me=!1,Ue=!1;function Fe(){null===Ce&&null===Ne||(De(),Re())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}var je=!1;if(h)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){je=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(me){je=!1}function Be(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var ze=!1,$e=null,We=!1,He=null,Ke={onError:function(e){ze=!0,$e=e}};function Ge(e,t,n,r,i,s,o,a,l){ze=!1,$e=null,Be.apply(Ke,arguments)}function Qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Ye(e){if(Qe(e)!==e)throw Error(o(188))}function Xe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Qe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ye(i),e;if(s===r)return Ye(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,st=[],ot=null,at=null,lt=null,ut=new Map,ct=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ft(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":ot=null;break;case"dragenter":case"dragleave":at=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ut.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ct.delete(t.pointerId)}}function mt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e=ft(t,n,r,i,s),null!==t&&null!==(t=ni(t))&&tt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ti(e.target);if(null!==t){var n=Qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){s.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ni(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function vt(e,t,n){yt(e)&&n.delete(t)}function wt(){for(it=!1;0<st.length;){var e=st[0];if(null!==e.blockedOn){null!==(e=ni(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&st.shift()}null!==ot&&yt(ot)&&(ot=null),null!==at&&yt(at)&&(at=null),null!==lt&&yt(lt)&&(lt=null),ut.forEach(vt),ct.forEach(vt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,wt)))}function _t(e){function t(t){return bt(t,e)}if(0<st.length){bt(st[0],e);for(var n=1;n<st.length;n++){var r=st[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ot&&bt(ot,e),null!==at&&bt(at,e),null!==lt&&bt(lt,e),ut.forEach(t),ct.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)gt(n),null===n.blockedOn&&ht.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var It={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},kt={},Tt={};function St(e){if(kt[e])return kt[e];if(!It[e])return e;var t,n=It[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return kt[e]=n[t];return e}h&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete It.animationend.animation,delete It.animationiteration.animation,delete It.animationstart.animation),"TransitionEvent"in window||delete It.transitionend.transition);var Ct=St("animationend"),Nt=St("animationiteration"),At=St("animationstart"),xt=St("transitionend"),Rt=new Map,Ot=new Map,Pt=["abort","abort",Ct,"animationEnd",Nt,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",xt,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ot.set(r,t),Rt.set(r,i),u(i,[r])}}(0,s.unstable_now)();var Lt=8;function Mt(e){if(0!=(1&e))return Lt=15,1;if(0!=(2&e))return Lt=14,2;if(0!=(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!=(32&e)?(Lt=11,32):0!=(t=192&e)?(Lt=10,t):0!=(256&e)?(Lt=9,256):0!=(t=3584&e)?(Lt=8,t):0!=(4096&e)?(Lt=7,4096):0!=(t=4186112&e)?(Lt=6,t):0!=(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!=(134217728&e)?(Lt=3,134217728):0!=(t=805306368&e)?(Lt=2,t):0!=(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Ut(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,s=e.expiredLanes,o=e.suspendedLanes,a=e.pingedLanes;if(0!==s)r=s,i=Lt=15;else if(0!=(s=134217727&n)){var l=s&~o;0!==l?(r=Mt(l),i=Lt):0!=(a&=s)&&(r=Mt(a),i=Lt)}else 0!=(s=n&~o)?(r=Mt(s),i=Lt):0!==a&&(r=Mt(a),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-zt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&o)){if(Mt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-zt(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=jt(24&~t))?Vt(10,t):e;case 10:return 0===(e=jt(192&~t))?Vt(8,t):e;case 8:return 0===(e=jt(3584&~t))&&0===(e=jt(4186112&~t))&&(e=512),e;case 2:return 0===(t=jt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function jt(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-zt(t)]=n}var zt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-($t(e)/Wt|0)|0},$t=Math.log,Wt=Math.LN2,Ht=s.unstable_UserBlockingPriority,Kt=s.unstable_runWithPriority,Gt=!0;function Qt(e,t,n,r){Me||De();var i=Yt,s=Me;Me=!0;try{Pe(i,e,t,n,r)}finally{(Me=s)||Fe()}}function Jt(e,t,n,r){Kt(Ht,Yt.bind(null,e,t,n,r))}function Yt(e,t,n,r){var i;if(Gt)if((i=0==(4&t))&&0<st.length&&-1<dt.indexOf(e))e=ft(null,e,t,n,r),st.push(e);else{var s=Xt(e,t,n,r);if(null===s)i&&pt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=ft(s,e,t,n,r),void st.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ot=mt(ot,e,t,n,r,i),!0;case"dragenter":return at=mt(at,e,t,n,r,i),!0;case"mouseover":return lt=mt(lt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return ut.set(s,mt(ut.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ct.set(s,mt(ct.get(s)||null,e,t,n,r,i)),!0}return!1}(s,e,t,n,r))return;pt(e,r)}Dr(e,t,r,null,n)}}}function Xt(e,t,n,r){var i=Te(r);if(null!==(i=ti(i))){var s=Qe(i);if(null===s)i=null;else{var o=s.tag;if(13===o){if(null!==(i=Je(s)))return i;i=null}else if(3===o){if(s.stateNode.hydrate)return 3===s.tag?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Dr(e,t,r,i,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function sn(){return!0}function on(){return!1}function an(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?sn:on,this.isPropagationStopped=on,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=sn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=sn)},persist:function(){},isPersistent:sn}),t}var ln,un,cn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=an(hn),fn=i({},hn,{view:0,detail:0}),pn=an(fn),mn=i({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(ln=e.screenX-cn.screenX,un=e.screenY-cn.screenY):un=ln=0,cn=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:un}}),gn=an(mn),yn=an(i({},mn,{dataTransfer:0})),vn=an(i({},fn,{relatedTarget:0})),wn=an(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=an(bn),En=an(i({},hn,{data:0})),In={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function Cn(){return Sn}var Nn=i({},fn,{key:function(e){if(e.key){var t=In[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=an(Nn),xn=an(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=an(i({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),On=an(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(Pn),Ln=[9,13,27,32],Mn=h&&"CompositionEvent"in window,Un=null;h&&"documentMode"in document&&(Un=document.documentMode);var Fn=h&&"TextEvent"in window&&!Un,Vn=h&&(!Mn||Un&&8<Un&&11>=Un),jn=String.fromCharCode(32),qn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var $n=!1,Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Kn(e,t,n,r){xe(r),0<(t=Mr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Qn=null;function Jn(e){Nr(e,0)}function Yn(e){if(Y(ri(e)))return e}function Xn(e,t){if("change"===e)return t}var Zn=!1;if(h){var er;if(h){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"==typeof nr.oninput}er=tr}else er=!1;Zn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Gn&&(Gn.detachEvent("onpropertychange",ir),Qn=Gn=null)}function ir(e){if("value"===e.propertyName&&Yn(Qn)){var t=[];if(Kn(t,Qn,e,Te(e)),e=Jn,Me)e(t);else{Me=!0;try{Oe(e,t)}finally{Me=!1,Fe()}}}}function sr(e,t,n){"focusin"===e?(rr(),Qn=n,(Gn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&rr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Qn)}function ar(e,t){if("click"===e)return Yn(t)}function lr(e,t){if("input"===e||"change"===e)return Yn(t)}var ur="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},cr=Object.prototype.hasOwnProperty;function hr(e,t){if(ur(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!cr.call(t,n[r])||!ur(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function pr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=h&&"documentMode"in document&&11>=document.documentMode,vr=null,wr=null,br=null,_r=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==vr||vr!==X(r)||(r="selectionStart"in(r=vr)&&gr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&hr(br,r)||(br=r,0<(r=Mr(wr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(Pt,2);for(var Ir="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),kr=0;kr<Ir.length;kr++)Ot.set(Ir[kr],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,u){if(Ge.apply(this,arguments),ze){if(!ze)throw Error(o(198));var c=$e;ze=!1,$e=null,We||(We=!0,He=c)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Cr(i,a,u),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Cr(i,a,u),s=l}}}if(We)throw e=He,We=!1,He=null,e}function Ar(e,t){var n=si(t),r=e+"__bubble";n.has(r)||(Pr(t,e,2,!1),n.add(r))}var xr="_reactListening"+Math.random().toString(36).slice(2);function Rr(e){e[xr]||(e[xr]=!0,a.forEach((function(t){Sr.has(t)||Or(t,!1,e,null),Or(t,!0,e,null)})))}function Or(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,s=n;if("selectionchange"===e&&9!==n.nodeType&&(s=n.ownerDocument),null!==r&&!t&&Sr.has(e)){if("scroll"!==e)return;i|=2,s=r}var o=si(s),a=e+"__"+(t?"capture":"bubble");o.has(a)||(t&&(i|=4),Pr(s,e,i,t),o.add(a))}function Pr(e,t,n,r){var i=Ot.get(t);switch(void 0===i?2:i){case 0:i=Qt;break;case 1:i=Jt;break;default:i=Yt}n=i.bind(null,t,n,e),i=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Dr(e,t,n,r,i){var s=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=ti(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}!function(e,t,n){if(Ue)return e();Ue=!0;try{Le(e,t,n)}finally{Ue=!1,Fe()}}((function(){var r=s,i=Te(n),o=[];e:{var a=Rt.get(e);if(void 0!==a){var l=dn,u=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":l=An;break;case"focusin":u="focus",l=vn;break;case"focusout":u="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Rn;break;case Ct:case Nt:case At:l=wn;break;case xt:l=On;break;case"scroll":l=pn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=xn}var c=0!=(4&t),h=!c&&"scroll"===e,d=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&null!=(m=Ve(p,d))&&c.push(Lr(p,m,f))),h)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,i),o.push({event:a,listeners:c}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(u=n.relatedTarget||n.fromElement)||!ti(u)&&!u[Zr])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?ti(u):null)&&(u!==(h=Qe(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=gn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=xn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:ri(l),f=null==u?a:ri(u),(a=new c(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,ti(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=f,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(d=u,p=0,f=c=l;f;f=Ur(f))p++;for(f=0,m=d;m;m=Ur(m))f++;for(;0<p-f;)c=Ur(c),p--;for(;0<f-p;)d=Ur(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Ur(c),d=Ur(d)}c=null}else c=null;null!==l&&Fr(o,a,l,c,!1),null!==u&&null!==h&&Fr(o,h,u,c,!0)}if("select"===(l=(a=r?ri(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Xn;else if(Hn(a))if(Zn)g=lr;else{g=or;var y=sr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ar);switch(g&&(g=g(e,r))?Kn(o,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ie(a,"number",a.value)),y=r?ri(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(vr=y,wr=r,br=null);break;case"focusout":br=wr=vr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,Er(o,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":Er(o,n,i)}var v;if(Mn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else $n?Bn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Vn&&"ko"!==n.locale&&($n||"onCompositionStart"!==w?"onCompositionEnd"===w&&$n&&(v=nn()):(en="value"in(Zt=i)?Zt.value:Zt.textContent,$n=!0)),0<(y=Mr(r,w)).length&&(w=new En(w,e,null,n,i),o.push({event:w,listeners:y}),(v||null!==(v=zn(n)))&&(w.data=v))),(v=Fn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(qn=!0,jn);case"textInput":return(e=t.data)===jn&&qn?null:e;default:return null}}(e,n):function(e,t){if($n)return"compositionend"===e||!Mn&&Bn(e,t)?(e=nn(),tn=en=Zt=null,$n=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Mr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v)}Nr(o,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Ve(e,n))&&r.unshift(Lr(e,s,i)),null!=(s=Ve(e,t))&&r.push(Lr(e,s,i))),e=e.return}return r}function Ur(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Fr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=Ve(n,s))&&o.unshift(Lr(n,l,a)):i||null!=(l=Ve(n,s))&&o.push(Lr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var jr=null,qr=null;function Br(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function zr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var $r="function"==typeof setTimeout?setTimeout:void 0,Wr="function"==typeof clearTimeout?clearTimeout:void 0;function Hr(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function Kr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Gr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Qr=0,Jr=Math.random().toString(36).slice(2),Yr="__reactFiber$"+Jr,Xr="__reactProps$"+Jr,Zr="__reactContainer$"+Jr,ei="__reactEvents$"+Jr;function ti(e){var t=e[Yr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zr]||n[Yr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Gr(e);null!==e;){if(n=e[Yr])return n;e=Gr(e)}return t}n=(e=n).parentNode}return null}function ni(e){return!(e=e[Yr]||e[Zr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ri(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ii(e){return e[Xr]||null}function si(e){var t=e[ei];return void 0===t&&(t=e[ei]=new Set),t}var oi=[],ai=-1;function li(e){return{current:e}}function ui(e){0>ai||(e.current=oi[ai],oi[ai]=null,ai--)}function ci(e,t){ai++,oi[ai]=e.current,e.current=t}var hi={},di=li(hi),fi=li(!1),pi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function gi(e){return null!=e.childContextTypes}function yi(){ui(fi),ui(di)}function vi(e,t,n){if(di.current!==hi)throw Error(o(168));ci(di,t),ci(fi,n)}function wi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in e))throw Error(o(108,K(t)||"Unknown",s));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,pi=di.current,ci(di,e),ci(fi,fi.current),!0}function _i(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=wi(e,t,pi),r.__reactInternalMemoizedMergedChildContext=e,ui(fi),ui(di),ci(di,e)):ui(fi),ci(fi,n)}var Ei=null,Ii=null,ki=s.unstable_runWithPriority,Ti=s.unstable_scheduleCallback,Si=s.unstable_cancelCallback,Ci=s.unstable_shouldYield,Ni=s.unstable_requestPaint,Ai=s.unstable_now,xi=s.unstable_getCurrentPriorityLevel,Ri=s.unstable_ImmediatePriority,Oi=s.unstable_UserBlockingPriority,Pi=s.unstable_NormalPriority,Di=s.unstable_LowPriority,Li=s.unstable_IdlePriority,Mi={},Ui=void 0!==Ni?Ni:function(){},Fi=null,Vi=null,ji=!1,qi=Ai(),Bi=1e4>qi?Ai:function(){return Ai()-qi};function zi(){switch(xi()){case Ri:return 99;case Oi:return 98;case Pi:return 97;case Di:return 96;case Li:return 95;default:throw Error(o(332))}}function $i(e){switch(e){case 99:return Ri;case 98:return Oi;case 97:return Pi;case 96:return Di;case 95:return Li;default:throw Error(o(332))}}function Wi(e,t){return e=$i(e),ki(e,t)}function Hi(e,t,n){return e=$i(e),Ti(e,t,n)}function Ki(){if(null!==Vi){var e=Vi;Vi=null,Si(e)}Gi()}function Gi(){if(!ji&&null!==Fi){ji=!0;var e=0;try{var t=Fi;Wi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Fi=null}catch(t){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ti(Ri,Ki),t}finally{ji=!1}}}var Qi=_.ReactCurrentBatchConfig;function Ji(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Yi=li(null),Xi=null,Zi=null,es=null;function ts(){es=Zi=Xi=null}function ns(e){var t=Yi.current;ui(Yi),e.type._context._currentValue=t}function rs(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function is(e,t){Xi=e,es=Zi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Mo=!0),e.firstContext=null)}function ss(e,t){if(es!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(es=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Zi){if(null===Xi)throw Error(o(308));Zi=t,Xi.dependencies={lanes:0,firstContext:t,responders:null}}else Zi=Zi.next=t;return e._currentValue}var os=!1;function as(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ls(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function us(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cs(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function hs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ds(e,t,n,r){var s=e.updateQueue;os=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(null!==l){s.shared.pending=null;var u=l,c=u.next;u.next=null,null===a?o=c:a.next=c,a=u;var h=e.alternate;if(null!==h){var d=(h=h.updateQueue).lastBaseUpdate;d!==a&&(null===d?h.firstBaseUpdate=c:d.next=c,h.lastBaseUpdate=u)}}if(null!==o){for(d=s.baseState,a=0,h=c=u=null;;){l=o.lane;var f=o.eventTime;if((r&l)===l){null!==h&&(h=h.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(l=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){d=p.call(f,d,l);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(l="function"==typeof(p=m.payload)?p.call(f,d,l):p))break e;d=i({},d,l);break e;case 2:os=!0}}null!==o.callback&&(e.flags|=32,null===(l=s.effects)?s.effects=[o]:l.push(o))}else f={eventTime:f,lane:l,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===h?(c=h=f,u=d):h=h.next=f,a|=l;if(null===(o=o.next)){if(null===(l=s.shared.pending))break;o=l.next,l.next=null,s.lastBaseUpdate=l,s.shared.pending=null}}null===h&&(u=d),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=h,Fa|=a,e.lanes=a,e.memoizedState=d}}function fs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(o(191,i));i.call(r)}}}var ps=(new r.Component).refs;function ms(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var gs={isMounted:function(e){return!!(e=e._reactInternals)&&Qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ul(),i=cl(e),s=us(r,i);s.payload=t,null!=n&&(s.callback=n),cs(e,s),hl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ul(),i=cl(e),s=us(r,i);s.tag=1,s.payload=t,null!=n&&(s.callback=n),cs(e,s),hl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ul(),r=cl(e),i=us(n,r);i.tag=2,null!=t&&(i.callback=t),cs(e,i),hl(e,r,n)}};function ys(e,t,n,r,i,s,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!(t.prototype&&t.prototype.isPureReactComponent&&hr(n,r)&&hr(i,s))}function vs(e,t,n){var r=!1,i=hi,s=t.contextType;return"object"==typeof s&&null!==s?s=ss(s):(i=gi(t)?pi:di.current,s=(r=null!=(r=t.contextTypes))?mi(e,i):hi),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=gs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ws(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&gs.enqueueReplaceState(t,t.state,null)}function bs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ps,as(e);var s=t.contextType;"object"==typeof s&&null!==s?i.context=ss(s):(s=gi(t)?pi:di.current,i.context=mi(e,s)),ds(e,n,i,r),i.state=e.memoizedState,"function"==typeof(s=t.getDerivedStateFromProps)&&(ms(e,t,s,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&gs.enqueueReplaceState(i,i.state,null),ds(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var _s=Array.isArray;function Es(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===ps&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Is(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function ks(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=zl(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Kl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Es(e,t,n),r.return=e,r):((r=$l(n.type,n.key,n.props,null,e.mode,r)).ref=Es(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Wl(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Kl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case E:return(n=$l(t.type,t.key,t.props,null,e.mode,n)).ref=Es(e,null,t),n.return=e,n;case I:return(t=Gl(t,e.mode,n)).return=e,t}if(_s(t)||B(t))return(t=Wl(t,e.mode,n,null)).return=e,t;Is(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===k?h(e,t,n.props.children,r,i):u(e,t,n,r):null;case I:return n.key===i?c(e,t,n,r):null}if(_s(n)||B(n))return null!==i?null:h(e,t,n,r,null);Is(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===k?h(t,e,r.props.children,i,r.key):u(t,e,r,i);case I:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(_s(r)||B(r))return h(t,e=e.get(n)||null,r,i,null);Is(t,r)}return null}function m(i,o,a,l){for(var u=null,c=null,h=o,m=o=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,a[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),o=s(y,o,m),null===c?u=y:c.sibling=y,c=y,h=g}if(m===a.length)return n(i,h),u;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(o=s(h,o,m),null===c?u=h:c.sibling=h,c=h);return u}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=s(g,o,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(i,e)})),u}function g(i,a,l,u){var c=B(l);if("function"!=typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var h=c=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var w=f(i,m,v.value,u);if(null===w){null===m&&(m=y);break}e&&m&&null===w.alternate&&t(i,m),a=s(w,a,g),null===h?c=w:h.sibling=w,h=w,m=y}if(v.done)return n(i,m),c;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,u))&&(a=s(v,a,g),null===h?c=v:h.sibling=v,h=v);return c}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=s(v,a,g),null===h?c=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),c}return function(e,r,s,l){var u="object"==typeof s&&null!==s&&s.type===k&&null===s.key;u&&(s=s.props.children);var c="object"==typeof s&&null!==s;if(c)switch(s.$$typeof){case E:e:{for(c=s.key,u=r;null!==u;){if(u.key===c){if(7===u.tag){if(s.type===k){n(e,u.sibling),(r=i(u,s.props.children)).return=e,e=r;break e}}else if(u.elementType===s.type){n(e,u.sibling),(r=i(u,s.props)).ref=Es(e,u,s),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}s.type===k?((r=Wl(s.props.children,e.mode,l,s.key)).return=e,e=r):((l=$l(s.type,s.key,s.props,null,e.mode,l)).ref=Es(e,r,s),l.return=e,e=l)}return a(e);case I:e:{for(u=s.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===s.containerInfo&&r.stateNode.implementation===s.implementation){n(e,r.sibling),(r=i(r,s.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Gl(s,e.mode,l)).return=e,e=r}return a(e)}if("string"==typeof s||"number"==typeof s)return s=""+s,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,s)).return=e,e=r):(n(e,r),(r=Kl(s,e.mode,l)).return=e,e=r),a(e);if(_s(s))return m(e,r,s,l);if(B(s))return g(e,r,s,l);if(c&&Is(e,s),void 0===s&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,K(e.type)||"Component"))}return n(e,r)}}var Ts=ks(!0),Ss=ks(!1),Cs={},Ns=li(Cs),As=li(Cs),xs=li(Cs);function Rs(e){if(e===Cs)throw Error(o(174));return e}function Os(e,t){switch(ci(xs,t),ci(As,e),ci(Ns,Cs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fe(null,"");break;default:t=fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ui(Ns),ci(Ns,t)}function Ps(){ui(Ns),ui(As),ui(xs)}function Ds(e){Rs(xs.current);var t=Rs(Ns.current),n=fe(t,e.type);t!==n&&(ci(As,e),ci(Ns,n))}function Ls(e){As.current===e&&(ui(Ns),ui(As))}var Ms=li(0);function Us(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fs=null,Vs=null,js=!1;function qs(e,t){var n=ql(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Bs(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function zs(e){if(js){var t=Vs;if(t){var n=t;if(!Bs(e,t)){if(!(t=Kr(n.nextSibling))||!Bs(e,t))return e.flags=-1025&e.flags|2,js=!1,void(Fs=e);qs(Fs,n)}Fs=e,Vs=Kr(t.firstChild)}else e.flags=-1025&e.flags|2,js=!1,Fs=e}}function $s(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Fs=e}function Ws(e){if(e!==Fs)return!1;if(!js)return $s(e),js=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!zr(t,e.memoizedProps))for(t=Vs;t;)qs(e,t),t=Kr(t.nextSibling);if($s(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Vs=Kr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Vs=null}}else Vs=Fs?Kr(e.stateNode.nextSibling):null;return!0}function Hs(){Vs=Fs=null,js=!1}var Ks=[];function Gs(){for(var e=0;e<Ks.length;e++)Ks[e]._workInProgressVersionPrimary=null;Ks.length=0}var Qs=_.ReactCurrentDispatcher,Js=_.ReactCurrentBatchConfig,Ys=0,Xs=null,Zs=null,eo=null,to=!1,no=!1;function ro(){throw Error(o(321))}function io(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function so(e,t,n,r,i,s){if(Ys=s,Xs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qs.current=null===e||null===e.memoizedState?Oo:Po,e=n(r,i),no){s=0;do{if(no=!1,!(25>s))throw Error(o(301));s+=1,eo=Zs=null,t.updateQueue=null,Qs.current=Do,e=n(r,i)}while(no)}if(Qs.current=Ro,t=null!==Zs&&null!==Zs.next,Ys=0,eo=Zs=Xs=null,to=!1,t)throw Error(o(300));return e}function oo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===eo?Xs.memoizedState=eo=e:eo=eo.next=e,eo}function ao(){if(null===Zs){var e=Xs.alternate;e=null!==e?e.memoizedState:null}else e=Zs.next;var t=null===eo?Xs.memoizedState:eo.next;if(null!==t)eo=t,Zs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Zs=e).memoizedState,baseState:Zs.baseState,baseQueue:Zs.baseQueue,queue:Zs.queue,next:null},null===eo?Xs.memoizedState=eo=e:eo=eo.next=e}return eo}function lo(e,t){return"function"==typeof t?t(e):t}function uo(e){var t=ao(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Zs,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=a=s=null,u=i;do{var c=u.lane;if((Ys&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(a=l=h,s=r):l=l.next=h,Xs.lanes|=c,Fa|=c}u=u.next}while(null!==u&&u!==i);null===l?s=r:l.next=a,ur(r,t.memoizedState)||(Mo=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function co(e){var t=ao(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ur(s,t.memoizedState)||(Mo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ys&e)===e)&&(t._workInProgressVersionPrimary=r,Ks.push(t))),e)return n(t._source);throw Ks.push(t),Error(o(350))}function fo(e,t,n,r){var i=xa;if(null===i)throw Error(o(349));var s=t._getVersion,a=s(t._source),l=Qs.current,u=l.useState((function(){return ho(i,t,n)})),c=u[1],h=u[0];u=eo;var d=e.memoizedState,f=d.refs,p=f.getSnapshot,m=d.source;d=d.subscribe;var g=Xs;return e.memoizedState={refs:f,source:t,subscribe:r},l.useEffect((function(){f.getSnapshot=n,f.setSnapshot=c;var e=s(t._source);if(!ur(a,e)){e=n(t._source),ur(h,e)||(c(e),e=cl(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var l=31-zt(o),u=1<<l;r[l]|=e,o&=~u}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=cl(g);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),ur(p,n)&&ur(m,t)&&ur(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:lo,lastRenderedState:h}).dispatch=c=xo.bind(null,Xs,e),u.queue=e,u.baseQueue=null,h=ho(i,t,n),u.memoizedState=u.baseState=h),h}function po(e,t,n){return fo(ao(),e,t,n)}function mo(e){var t=oo();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:lo,lastRenderedState:e}).dispatch=xo.bind(null,Xs,e),[t.memoizedState,e]}function go(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Xs.updateQueue)?(t={lastEffect:null},Xs.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function yo(e){return e={current:e},oo().memoizedState=e}function vo(){return ao().memoizedState}function wo(e,t,n,r){var i=oo();Xs.flags|=e,i.memoizedState=go(1|t,n,void 0,void 0===r?null:r)}function bo(e,t,n,r){var i=ao();r=void 0===r?null:r;var s=void 0;if(null!==Zs){var o=Zs.memoizedState;if(s=o.destroy,null!==r&&io(r,o.deps))return void go(t,n,s,r)}Xs.flags|=e,i.memoizedState=go(1|t,n,s,r)}function _o(e,t){return wo(516,4,e,t)}function Eo(e,t){return bo(516,4,e,t)}function Io(e,t){return bo(4,2,e,t)}function ko(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function To(e,t,n){return n=null!=n?n.concat([e]):null,bo(4,2,ko.bind(null,t,e),n)}function So(){}function Co(e,t){var n=ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&io(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function No(e,t){var n=ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&io(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ao(e,t){var n=zi();Wi(98>n?98:n,(function(){e(!0)})),Wi(97<n?97:n,(function(){var n=Js.transition;Js.transition=1;try{e(!1),t()}finally{Js.transition=n}}))}function xo(e,t,n){var r=ul(),i=cl(e),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?s.next=s:(s.next=o.next,o.next=s),t.pending=s,o=e.alternate,e===Xs||null!==o&&o===Xs)no=to=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,l=o(a,n);if(s.eagerReducer=o,s.eagerState=l,ur(l,a))return}catch(e){}hl(e,i,r)}}var Ro={readContext:ss,useCallback:ro,useContext:ro,useEffect:ro,useImperativeHandle:ro,useLayoutEffect:ro,useMemo:ro,useReducer:ro,useRef:ro,useState:ro,useDebugValue:ro,useDeferredValue:ro,useTransition:ro,useMutableSource:ro,useOpaqueIdentifier:ro,unstable_isNewReconciler:!1},Oo={readContext:ss,useCallback:function(e,t){return oo().memoizedState=[e,void 0===t?null:t],e},useContext:ss,useEffect:_o,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,wo(4,2,ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wo(4,2,e,t)},useMemo:function(e,t){var n=oo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=oo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=xo.bind(null,Xs,e),[r.memoizedState,e]},useRef:yo,useState:mo,useDebugValue:So,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return _o((function(){var t=Js.transition;Js.transition=1;try{r(e)}finally{Js.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return yo(e=Ao.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=oo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},fo(r,e,t,n)},useOpaqueIdentifier:function(){if(js){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Qr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0==(2&Xs.mode)&&(Xs.flags|=516,go(5,(function(){n("r:"+(Qr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Qr++).toString(36)),t},unstable_isNewReconciler:!1},Po={readContext:ss,useCallback:Co,useContext:ss,useEffect:Eo,useImperativeHandle:To,useLayoutEffect:Io,useMemo:No,useReducer:uo,useRef:vo,useState:function(){return uo(lo)},useDebugValue:So,useDeferredValue:function(e){var t=uo(lo),n=t[0],r=t[1];return Eo((function(){var t=Js.transition;Js.transition=1;try{r(e)}finally{Js.transition=t}}),[e]),n},useTransition:function(){var e=uo(lo)[0];return[vo().current,e]},useMutableSource:po,useOpaqueIdentifier:function(){return uo(lo)[0]},unstable_isNewReconciler:!1},Do={readContext:ss,useCallback:Co,useContext:ss,useEffect:Eo,useImperativeHandle:To,useLayoutEffect:Io,useMemo:No,useReducer:co,useRef:vo,useState:function(){return co(lo)},useDebugValue:So,useDeferredValue:function(e){var t=co(lo),n=t[0],r=t[1];return Eo((function(){var t=Js.transition;Js.transition=1;try{r(e)}finally{Js.transition=t}}),[e]),n},useTransition:function(){var e=co(lo)[0];return[vo().current,e]},useMutableSource:po,useOpaqueIdentifier:function(){return co(lo)[0]},unstable_isNewReconciler:!1},Lo=_.ReactCurrentOwner,Mo=!1;function Uo(e,t,n,r){t.child=null===e?Ss(t,null,n,r):Ts(t,e.child,n,r)}function Fo(e,t,n,r,i){n=n.render;var s=t.ref;return is(t,i),r=so(e,t,n,r,s,i),null===e||Mo?(t.flags|=1,Uo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,na(e,t,i))}function Vo(e,t,n,r,i,s){if(null===e){var o=n.type;return"function"!=typeof o||Bl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=$l(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,jo(e,t,o,r,i,s))}return o=e.child,0==(i&s)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?na(e,t,s):(t.flags|=1,(e=zl(o,r)).ref=t.ref,e.return=t,t.child=e)}function jo(e,t,n,r,i,s){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Mo=!1,0==(s&i))return t.lanes=e.lanes,na(e,t,s);0!=(16384&e.flags)&&(Mo=!0)}return zo(e,t,n,r,s)}function qo(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},wl(0,n);else{if(0==(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},wl(0,e),null;t.memoizedState={baseLanes:0},wl(0,null!==s?s.baseLanes:n)}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,wl(0,r);return Uo(e,t,i,n),t.child}function Bo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function zo(e,t,n,r,i){var s=gi(n)?pi:di.current;return s=mi(t,s),is(t,i),n=so(e,t,n,r,s,i),null===e||Mo?(t.flags|=1,Uo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,na(e,t,i))}function $o(e,t,n,r,i){if(gi(n)){var s=!0;bi(t)}else s=!1;if(is(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),vs(t,n,r),bs(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;u="object"==typeof u&&null!==u?ss(u):mi(t,u=gi(n)?pi:di.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;h||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==r||l!==u)&&ws(t,o,r,u),os=!1;var d=t.memoizedState;o.state=d,ds(t,r,o,i),l=t.memoizedState,a!==r||d!==l||fi.current||os?("function"==typeof c&&(ms(t,n,c,r),l=t.memoizedState),(a=os||ys(t,n,a,r,d,l,u))?(h||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4)):("function"==typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):("function"==typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ls(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Ji(t.type,a),o.props=u,h=t.pendingProps,d=o.context,l="object"==typeof(l=n.contextType)&&null!==l?ss(l):mi(t,l=gi(n)?pi:di.current);var f=n.getDerivedStateFromProps;(c="function"==typeof f||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==h||d!==l)&&ws(t,o,r,l),os=!1,d=t.memoizedState,o.state=d,ds(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||fi.current||os?("function"==typeof f&&(ms(t,n,f,r),p=t.memoizedState),(u=os||ys(t,n,u,r,d,p,l))?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Wo(e,t,n,r,s,i)}function Wo(e,t,n,r,i,s){Bo(e,t);var o=0!=(64&t.flags);if(!r&&!o)return i&&_i(t,n,!1),na(e,t,s);r=t.stateNode,Lo.current=t;var a=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ts(t,e.child,null,s),t.child=Ts(t,null,a,s)):Uo(e,t,a,s),t.memoizedState=r.state,i&&_i(t,n,!0),t.child}function Ho(e){var t=e.stateNode;t.pendingContext?vi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vi(0,t.context,!1),Os(e,t.containerInfo)}var Ko,Go,Qo,Jo={dehydrated:null,retryLane:0};function Yo(e,t,n){var r,i=t.pendingProps,s=Ms.current,o=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&s)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(s|=1),ci(Ms,1&s),null===e?(void 0!==i.fallback&&zs(t),e=i.children,s=i.fallback,o?(e=Xo(t,e,s,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,e):"number"==typeof i.unstable_expectedLoadTime?(e=Xo(t,e,s,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,t.lanes=33554432,e):((n=Hl({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=function(e,t,n,r,i){var s=t.mode,o=e.child;e=o.sibling;var a={mode:"hidden",children:n};return 0==(2&s)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=a,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=zl(o,a),null!==e?r=zl(e,r):(r=Wl(r,s,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,i.children,i.fallback,n),o=t.child,s=e.child.memoizedState,o.memoizedState=null===s?{baseLanes:n}:{baseLanes:s.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Jo,i):(n=function(e,t,n,r){var i=e.child;return e=i.sibling,n=zl(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,i.children,n),t.memoizedState=null,n))}function Xo(e,t,n,r){var i=e.mode,s=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==s?(s.childLanes=0,s.pendingProps=t):s=Hl(t,i,0,null),n=Wl(n,i,r,null),s.return=e,n.return=e,s.sibling=n,e.child=s,n}function Zo(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),rs(e.return,t)}function ea(e,t,n,r,i,s){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=s)}function ta(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Uo(e,t,r.children,n),0!=(2&(r=Ms.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Zo(e,n);else if(19===e.tag)Zo(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ci(Ms,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Us(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ea(t,!1,i,n,s,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Us(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ea(t,!0,n,null,s,t.lastEffect);break;case"together":ea(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function na(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fa|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=zl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ra(e,t){if(!js)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ia(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&yi(),null;case 3:return Ps(),ui(fi),ui(di),Gs(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ws(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ls(t);var s=Rs(xs.current);if(n=t.type,null!==e&&null!=t.stateNode)Go(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Rs(Ns.current),Ws(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Yr]=t,r[Xr]=a,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Ar(Tr[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,a),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ar("invalid",r);break;case"textarea":le(r,a),Ar("invalid",r)}for(var u in Ie(n,a),e=null,a)a.hasOwnProperty(u)&&(s=a[u],"children"===u?"string"==typeof s?r.textContent!==s&&(e=["children",s]):"number"==typeof s&&r.textContent!==""+s&&(e=["children",""+s]):l.hasOwnProperty(u)&&null!=s&&"onScroll"===u&&Ar("scroll",r));switch(n){case"input":J(r),re(r,a,!0);break;case"textarea":J(r),ce(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(u=9===s.nodeType?s:s.ownerDocument,e===he&&(e=de(n)),e===he?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[Yr]=t,e[Xr]=r,Ko(e,t),t.stateNode=e,u=ke(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),s=r;break;case"iframe":case"object":case"embed":Ar("load",e),s=r;break;case"video":case"audio":for(s=0;s<Tr.length;s++)Ar(Tr[s],e);s=r;break;case"source":Ar("error",e),s=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),s=r;break;case"details":Ar("toggle",e),s=r;break;case"input":ee(e,r),s=Z(e,r),Ar("invalid",e);break;case"option":s=se(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":le(e,r),s=ae(e,r),Ar("invalid",e);break;default:s=r}Ie(n,s);var c=s;for(a in c)if(c.hasOwnProperty(a)){var h=c[a];"style"===a?_e(e,h):"dangerouslySetInnerHTML"===a?null!=(h=h?h.__html:void 0)&&ge(e,h):"children"===a?"string"==typeof h?("textarea"!==n||""!==h)&&ye(e,h):"number"==typeof h&&ye(e,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(l.hasOwnProperty(a)?null!=h&&"onScroll"===a&&Ar("scroll",e):null!=h&&b(e,a,h,u))}switch(n){case"input":J(e),re(e,r,!1);break;case"textarea":J(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?oe(e,!!r.multiple,a,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof s.onClick&&(e.onclick=Vr)}Br(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Qo(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(o(166));n=Rs(xs.current),Rs(Ns.current),Ws(t)?(r=t.stateNode,n=t.memoizedProps,r[Yr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Yr]=t,t.stateNode=r)}return null;case 13:return ui(Ms),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ws(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Ms.current)?0===La&&(La=3):(0!==La&&3!==La||(La=4),null===xa||0==(134217727&Fa)&&0==(134217727&Va)||ml(xa,Oa))),(r||n)&&(t.flags|=4),null);case 4:return Ps(),null===e&&Rr(t.stateNode.containerInfo),null;case 10:return ns(t),null;case 19:if(ui(Ms),null===(r=t.memoizedState))return null;if(a=0!=(64&t.flags),null===(u=r.rendering))if(a)ra(r,!1);else{if(0!==La||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(u=Us(e))){for(t.flags|=64,ra(r,!1),null!==(a=u.updateQueue)&&(t.updateQueue=a,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ci(Ms,1&Ms.current|2),t.child}e=e.sibling}null!==r.tail&&Bi()>za&&(t.flags|=64,a=!0,ra(r,!1),t.lanes=33554432)}else{if(!a)if(null!==(e=Us(u))){if(t.flags|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ra(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate&&!js)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>za&&1073741824!==n&&(t.flags|=64,a=!0,ra(r,!1),t.lanes=33554432);r.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=r.last)?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,t=Ms.current,ci(Ms,a?1&t|2:1&t),n):null;case 23:case 24:return bl(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function sa(e){switch(e.tag){case 1:gi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ps(),ui(fi),ui(di),Gs(),0!=(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ls(e),null;case 13:return ui(Ms),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ui(Ms),null;case 4:return Ps(),null;case 10:return ns(e),null;case 23:case 24:return bl(),null;default:return null}}function oa(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function aa(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Ko=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Go=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Rs(Ns.current);var o,a=null;switch(n){case"input":s=Z(e,s),r=Z(e,r),a=[];break;case"option":s=se(e,s),r=se(e,r),a=[];break;case"select":s=i({},s,{value:void 0}),r=i({},r,{value:void 0}),a=[];break;case"textarea":s=ae(e,s),r=ae(e,r),a=[];break;default:"function"!=typeof s.onClick&&"function"==typeof r.onClick&&(e.onclick=Vr)}for(h in Ie(n,r),n=null,s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&null!=s[h])if("style"===h){var u=s[h];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(l.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in r){var c=r[h];if(u=null!=s?s[h]:void 0,r.hasOwnProperty(h)&&c!==u&&(null!=c||null!=u))if("style"===h)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(h,n)),n=c;else"dangerouslySetInnerHTML"===h?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(h,c)):"children"===h?"string"!=typeof c&&"number"!=typeof c||(a=a||[]).push(h,""+c):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(l.hasOwnProperty(h)?(null!=c&&"onScroll"===h&&Ar("scroll",e),a||u===c||(a=[])):"object"==typeof c&&null!==c&&c.$$typeof===L?c.toString():(a=a||[]).push(h,c))}n&&(a=a||[]).push("style",n);var h=a;(t.updateQueue=h)&&(t.flags|=4)}},Qo=function(e,t,n,r){n!==r&&(t.flags|=4)};var la="function"==typeof WeakMap?WeakMap:Map;function ua(e,t,n){(n=us(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ka||(Ka=!0,Ga=r),aa(0,t)},n}function ca(e,t,n){(n=us(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return aa(0,t),r(i)}}var s=e.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Qa?Qa=new Set([this]):Qa.add(this),aa(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ha="function"==typeof WeakSet?WeakSet:Set;function da(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Ul(e,t)}else t.current=null}function fa(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Hr(t.stateNode.containerInfo))}throw Error(o(163))}function pa(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Dl(n,e),Pl(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&fs(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}fs(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Br(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))))}throw Error(o(163))}function ma(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ga(e,t){if(Ii&&"function"==typeof Ii.onCommitFiberUnmount)try{Ii.onCommitFiberUnmount(Ei,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Dl(t,n);else{r=t;try{i()}catch(e){Ul(r,e)}}n=n.next}while(n!==e)}break;case 1:if(da(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Ul(t,e)}break;case 5:da(t);break;case 4:Ea(e,t)}}function ya(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function va(e){return 5===e.tag||3===e.tag||4===e.tag}function wa(e){e:{for(var t=e.return;null!==t;){if(va(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||va(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?ba(e,n,t):_a(e,n,t)}function ba(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(ba(e,t,n),e=e.sibling;null!==e;)ba(e,t,n),e=e.sibling}function _a(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(_a(e,t,n),e=e.sibling;null!==e;)_a(e,t,n),e=e.sibling}function Ea(e,t){for(var n,r,i=t,s=!1;;){if(!s){s=i.return;e:for(;;){if(null===s)throw Error(o(160));switch(n=s.stateNode,s.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}s=s.return}s=!0}if(5===i.tag||6===i.tag){e:for(var a=e,l=i,u=l;;)if(ga(a,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===l)break e;for(;null===u.sibling;){if(null===u.return||u.return===l)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(a=n,l=i.stateNode,8===a.nodeType?a.parentNode.removeChild(l):a.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ga(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(s=!1)}i.sibling.return=i.return,i=i.sibling}}function Ia(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var s=t.updateQueue;if(t.updateQueue=null,null!==s){for(n[Xr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),ke(e,i),t=ke(e,r),i=0;i<s.length;i+=2){var a=s[i],l=s[i+1];"style"===a?_e(n,l):"dangerouslySetInnerHTML"===a?ge(n,l):"children"===a?ye(n,l):b(n,a,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ue(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(s=r.value)?oe(n,!!r.multiple,s,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ba=Bi(),ma(t.child,!0)),void ka(t);case 19:return void ka(t);case 23:case 24:return void ma(t,null!==t.memoizedState)}throw Error(o(163))}function ka(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ha),t.forEach((function(t){var r=Vl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ta(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var Sa=Math.ceil,Ca=_.ReactCurrentDispatcher,Na=_.ReactCurrentOwner,Aa=0,xa=null,Ra=null,Oa=0,Pa=0,Da=li(0),La=0,Ma=null,Ua=0,Fa=0,Va=0,ja=0,qa=null,Ba=0,za=1/0;function $a(){za=Bi()+500}var Wa,Ha=null,Ka=!1,Ga=null,Qa=null,Ja=!1,Ya=null,Xa=90,Za=[],el=[],tl=null,nl=0,rl=null,il=-1,sl=0,ol=0,al=null,ll=!1;function ul(){return 0!=(48&Aa)?Bi():-1!==il?il:il=Bi()}function cl(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===zi()?1:2;if(0===sl&&(sl=Ua),0!==Qi.transition){0!==ol&&(ol=null!==qa?qa.pendingLanes:0),e=sl;var t=4186112&~ol;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=zi(),e=Vt(0!=(4&Aa)&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),sl)}function hl(e,t,n){if(50<nl)throw nl=0,rl=null,Error(o(185));if(null===(e=dl(e,t)))return null;Bt(e,t,n),e===xa&&(Va|=t,4===La&&ml(e,Oa));var r=zi();1===t?0!=(8&Aa)&&0==(48&Aa)?gl(e):(fl(e,n),0===Aa&&($a(),Ki())):(0==(4&Aa)||98!==r&&99!==r||(null===tl?tl=new Set([e]):tl.add(e)),fl(e,n)),qa=e}function dl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function fl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-zt(a),u=1<<l,c=s[l];if(-1===c){if(0==(u&r)||0!=(u&i)){c=t,Mt(u);var h=Lt;s[l]=10<=h?c+250:6<=h?c+5e3:-1}}else c<=t&&(e.expiredLanes|=u);a&=~u}if(r=Ut(e,e===xa?Oa:0),t=Lt,0===r)null!==n&&(n!==Mi&&Si(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&Si(n)}15===t?(n=gl.bind(null,e),null===Fi?(Fi=[n],Vi=Ti(Ri,Gi)):Fi.push(n),n=Mi):14===t?n=Hi(99,gl.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Hi(n,pl.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function pl(e){if(il=-1,ol=sl=0,0!=(48&Aa))throw Error(o(327));var t=e.callbackNode;if(Ol()&&e.callbackNode!==t)return null;var n=Ut(e,e===xa?Oa:0);if(0===n)return null;var r=n,i=Aa;Aa|=16;var s=Il();for(xa===e&&Oa===r||($a(),_l(e,r));;)try{Sl();break}catch(t){El(e,t)}if(ts(),Ca.current=s,Aa=i,null!==Ra?r=0:(xa=null,Oa=0,r=La),0!=(Ua&Va))_l(e,0);else if(0!==r){if(2===r&&(Aa|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(n=Ft(e))&&(r=kl(e,n))),1===r)throw t=Ma,_l(e,0),ml(e,n),fl(e,Bi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Al(e);break;case 3:if(ml(e,n),(62914560&n)===n&&10<(r=Ba+500-Bi())){if(0!==Ut(e,0))break;if(((i=e.suspendedLanes)&n)!==n){ul(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=$r(Al.bind(null,e),r);break}Al(e);break;case 4:if(ml(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-zt(n);s=1<<a,(a=r[a])>i&&(i=a),n&=~s}if(n=i,10<(n=(120>(n=Bi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Sa(n/1960))-n)){e.timeoutHandle=$r(Al.bind(null,e),n);break}Al(e);break;default:throw Error(o(329))}}return fl(e,Bi()),e.callbackNode===t?pl.bind(null,e):null}function ml(e,t){for(t&=~ja,t&=~Va,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),r=1<<n;e[n]=-1,t&=~r}}function gl(e){if(0!=(48&Aa))throw Error(o(327));if(Ol(),e===xa&&0!=(e.expiredLanes&Oa)){var t=Oa,n=kl(e,t);0!=(Ua&Va)&&(n=kl(e,t=Ut(e,t)))}else n=kl(e,t=Ut(e,0));if(0!==e.tag&&2===n&&(Aa|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(t=Ft(e))&&(n=kl(e,t))),1===n)throw n=Ma,_l(e,0),ml(e,t),fl(e,Bi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Al(e),fl(e,Bi()),null}function yl(e,t){var n=Aa;Aa|=1;try{return e(t)}finally{0===(Aa=n)&&($a(),Ki())}}function vl(e,t){var n=Aa;Aa&=-2,Aa|=8;try{return e(t)}finally{0===(Aa=n)&&($a(),Ki())}}function wl(e,t){ci(Da,Pa),Pa|=t,Ua|=t}function bl(){Pa=Da.current,ui(Da)}function _l(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==Ra)for(n=Ra.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&yi();break;case 3:Ps(),ui(fi),ui(di),Gs();break;case 5:Ls(r);break;case 4:Ps();break;case 13:case 19:ui(Ms);break;case 10:ns(r);break;case 23:case 24:bl()}n=n.return}xa=e,Ra=zl(e.current,null),Oa=Pa=Ua=t,La=0,Ma=null,ja=Va=Fa=0}function El(e,t){for(;;){var n=Ra;try{if(ts(),Qs.current=Ro,to){for(var r=Xs.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}to=!1}if(Ys=0,eo=Zs=Xs=null,no=!1,Na.current=null,null===n||null===n.return){La=1,Ma=t,Ra=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=Oa,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l;if(0==(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.lanes=c.lanes):(a.updateQueue=null,a.memoizedState=null)}var h=0!=(1&Ms.current),d=o;do{var f;if(f=13===d.tag){var p=d.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var m=d.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!h)}}if(f){var g=d.updateQueue;if(null===g){var y=new Set;y.add(u),d.updateQueue=y}else g.add(u);if(0==(2&d.mode)){if(d.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=us(-1,1);v.tag=2,cs(a,v)}a.lanes|=1;break e}l=void 0,a=t;var w=s.pingCache;if(null===w?(w=s.pingCache=new la,l=new Set,w.set(u,l)):void 0===(l=w.get(u))&&(l=new Set,w.set(u,l)),!l.has(a)){l.add(a);var b=Fl.bind(null,s,u,a);u.then(b,b)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);l=Error((K(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==La&&(La=2),l=oa(l,a),d=o;do{switch(d.tag){case 3:s=l,d.flags|=4096,t&=-t,d.lanes|=t,hs(d,ua(0,s,t));break e;case 1:s=l;var _=d.type,E=d.stateNode;if(0==(64&d.flags)&&("function"==typeof _.getDerivedStateFromError||null!==E&&"function"==typeof E.componentDidCatch&&(null===Qa||!Qa.has(E)))){d.flags|=4096,t&=-t,d.lanes|=t,hs(d,ca(d,s,t));break e}}d=d.return}while(null!==d)}Nl(n)}catch(e){t=e,Ra===n&&null!==n&&(Ra=n=n.return);continue}break}}function Il(){var e=Ca.current;return Ca.current=Ro,null===e?Ro:e}function kl(e,t){var n=Aa;Aa|=16;var r=Il();for(xa===e&&Oa===t||_l(e,t);;)try{Tl();break}catch(t){El(e,t)}if(ts(),Aa=n,Ca.current=r,null!==Ra)throw Error(o(261));return xa=null,Oa=0,La}function Tl(){for(;null!==Ra;)Cl(Ra)}function Sl(){for(;null!==Ra&&!Ci();)Cl(Ra)}function Cl(e){var t=Wa(e.alternate,e,Pa);e.memoizedProps=e.pendingProps,null===t?Nl(e):Ra=t,Na.current=null}function Nl(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=ia(n,t,Pa)))return void(Ra=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Pa)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=sa(t)))return n.flags&=2047,void(Ra=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ra=t);Ra=t=e}while(null!==t);0===La&&(La=5)}function Al(e){var t=zi();return Wi(99,xl.bind(null,e,t)),null}function xl(e,t){do{Ol()}while(null!==Ya);if(0!=(48&Aa))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,s=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,l=e.expirationTimes;0<s;){var u=31-zt(s),c=1<<u;i[u]=0,a[u]=-1,l[u]=-1,s&=~c}if(null!==tl&&0==(24&r)&&tl.has(e)&&tl.delete(e),e===xa&&(Ra=xa=null,Oa=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Aa,Aa|=32,Na.current=null,jr=Gt,gr(a=mr())){if("selectionStart"in a)l={start:a.selectionStart,end:a.selectionEnd};else e:if(l=(l=a.ownerDocument)&&l.defaultView||window,(c=l.getSelection&&l.getSelection())&&0!==c.rangeCount){l=c.anchorNode,s=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{l.nodeType,u.nodeType}catch(e){l=null;break e}var h=0,d=-1,f=-1,p=0,m=0,g=a,y=null;t:for(;;){for(var v;g!==l||0!==s&&3!==g.nodeType||(d=h+s),g!==u||0!==c&&3!==g.nodeType||(f=h+c),3===g.nodeType&&(h+=g.nodeValue.length),null!==(v=g.firstChild);)y=g,g=v;for(;;){if(g===a)break t;if(y===l&&++p===s&&(d=h),y===u&&++m===c&&(f=h),null!==(v=g.nextSibling))break;y=(g=y).parentNode}g=v}l=-1===d||-1===f?null:{start:d,end:f}}else l=null;l=l||{start:0,end:0}}else l=null;qr={focusedElem:a,selectionRange:l},Gt=!1,al=null,ll=!1,Ha=r;do{try{Rl()}catch(e){if(null===Ha)throw Error(o(330));Ul(Ha,e),Ha=Ha.nextEffect}}while(null!==Ha);al=null,Ha=r;do{try{for(a=e;null!==Ha;){var w=Ha.flags;if(16&w&&ye(Ha.stateNode,""),128&w){var b=Ha.alternate;if(null!==b){var _=b.ref;null!==_&&("function"==typeof _?_(null):_.current=null)}}switch(1038&w){case 2:wa(Ha),Ha.flags&=-3;break;case 6:wa(Ha),Ha.flags&=-3,Ia(Ha.alternate,Ha);break;case 1024:Ha.flags&=-1025;break;case 1028:Ha.flags&=-1025,Ia(Ha.alternate,Ha);break;case 4:Ia(Ha.alternate,Ha);break;case 8:Ea(a,l=Ha);var E=l.alternate;ya(l),null!==E&&ya(E)}Ha=Ha.nextEffect}}catch(e){if(null===Ha)throw Error(o(330));Ul(Ha,e),Ha=Ha.nextEffect}}while(null!==Ha);if(_=qr,b=mr(),w=_.focusedElem,a=_.selectionRange,b!==w&&w&&w.ownerDocument&&pr(w.ownerDocument.documentElement,w)){null!==a&&gr(w)&&(b=a.start,void 0===(_=a.end)&&(_=b),"selectionStart"in w?(w.selectionStart=b,w.selectionEnd=Math.min(_,w.value.length)):(_=(b=w.ownerDocument||document)&&b.defaultView||window).getSelection&&(_=_.getSelection(),l=w.textContent.length,E=Math.min(a.start,l),a=void 0===a.end?E:Math.min(a.end,l),!_.extend&&E>a&&(l=a,a=E,E=l),l=fr(w,E),s=fr(w,a),l&&s&&(1!==_.rangeCount||_.anchorNode!==l.node||_.anchorOffset!==l.offset||_.focusNode!==s.node||_.focusOffset!==s.offset)&&((b=b.createRange()).setStart(l.node,l.offset),_.removeAllRanges(),E>a?(_.addRange(b),_.extend(s.node,s.offset)):(b.setEnd(s.node,s.offset),_.addRange(b))))),b=[];for(_=w;_=_.parentNode;)1===_.nodeType&&b.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"==typeof w.focus&&w.focus(),w=0;w<b.length;w++)(_=b[w]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Gt=!!jr,qr=jr=null,e.current=n,Ha=r;do{try{for(w=e;null!==Ha;){var I=Ha.flags;if(36&I&&pa(w,Ha.alternate,Ha),128&I){b=void 0;var k=Ha.ref;if(null!==k){var T=Ha.stateNode;Ha.tag,b=T,"function"==typeof k?k(b):k.current=b}}Ha=Ha.nextEffect}}catch(e){if(null===Ha)throw Error(o(330));Ul(Ha,e),Ha=Ha.nextEffect}}while(null!==Ha);Ha=null,Ui(),Aa=i}else e.current=n;if(Ja)Ja=!1,Ya=e,Xa=t;else for(Ha=r;null!==Ha;)t=Ha.nextEffect,Ha.nextEffect=null,8&Ha.flags&&((I=Ha).sibling=null,I.stateNode=null),Ha=t;if(0===(r=e.pendingLanes)&&(Qa=null),1===r?e===rl?nl++:(nl=0,rl=e):nl=0,n=n.stateNode,Ii&&"function"==typeof Ii.onCommitFiberRoot)try{Ii.onCommitFiberRoot(Ei,n,void 0,64==(64&n.current.flags))}catch(e){}if(fl(e,Bi()),Ka)throw Ka=!1,e=Ga,Ga=null,e;return 0!=(8&Aa)||Ki(),null}function Rl(){for(;null!==Ha;){var e=Ha.alternate;ll||null===al||(0!=(8&Ha.flags)?Ze(Ha,al)&&(ll=!0):13===Ha.tag&&Ta(e,Ha)&&Ze(Ha,al)&&(ll=!0));var t=Ha.flags;0!=(256&t)&&fa(e,Ha),0==(512&t)||Ja||(Ja=!0,Hi(97,(function(){return Ol(),null}))),Ha=Ha.nextEffect}}function Ol(){if(90!==Xa){var e=97<Xa?97:Xa;return Xa=90,Wi(e,Ll)}return!1}function Pl(e,t){Za.push(t,e),Ja||(Ja=!0,Hi(97,(function(){return Ol(),null})))}function Dl(e,t){el.push(t,e),Ja||(Ja=!0,Hi(97,(function(){return Ol(),null})))}function Ll(){if(null===Ya)return!1;var e=Ya;if(Ya=null,0!=(48&Aa))throw Error(o(331));var t=Aa;Aa|=32;var n=el;el=[];for(var r=0;r<n.length;r+=2){var i=n[r],s=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"==typeof a)try{a()}catch(e){if(null===s)throw Error(o(330));Ul(s,e)}}for(n=Za,Za=[],r=0;r<n.length;r+=2){i=n[r],s=n[r+1];try{var l=i.create;i.destroy=l()}catch(e){if(null===s)throw Error(o(330));Ul(s,e)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Aa=t,Ki(),!0}function Ml(e,t,n){cs(e,t=ua(0,t=oa(n,t),1)),t=ul(),null!==(e=dl(e,1))&&(Bt(e,1,t),fl(e,t))}function Ul(e,t){if(3===e.tag)Ml(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Ml(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Qa||!Qa.has(r))){var i=ca(n,e=oa(t,e),1);if(cs(n,i),i=ul(),null!==(n=dl(n,1)))Bt(n,1,i),fl(n,i);else if("function"==typeof r.componentDidCatch&&(null===Qa||!Qa.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Fl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ul(),e.pingedLanes|=e.suspendedLanes&n,xa===e&&(Oa&n)===n&&(4===La||3===La&&(62914560&Oa)===Oa&&500>Bi()-Ba?_l(e,0):ja|=n),fl(e,t)}function Vl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===zi()?1:2:(0===sl&&(sl=Ua),0===(t=jt(62914560&~sl))&&(t=4194304))),n=ul(),null!==(e=dl(e,t))&&(Bt(e,t,n),fl(e,n))}function jl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function ql(e,t,n,r){return new jl(e,t,n,r)}function Bl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zl(e,t){var n=e.alternate;return null===n?((n=ql(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function $l(e,t,n,r,i,s){var a=2;if(r=e,"function"==typeof e)Bl(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case k:return Wl(n.children,i,s,t);case M:a=8,i|=16;break;case T:a=8,i|=1;break;case S:return(e=ql(12,n,t,8|i)).elementType=S,e.type=S,e.lanes=s,e;case x:return(e=ql(13,n,t,i)).type=x,e.elementType=x,e.lanes=s,e;case R:return(e=ql(19,n,t,i)).elementType=R,e.lanes=s,e;case U:return Hl(n,i,s,t);case F:return(e=ql(24,n,t,i)).elementType=F,e.lanes=s,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case C:a=10;break e;case N:a=9;break e;case A:a=11;break e;case O:a=14;break e;case P:a=16,r=null;break e;case D:a=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=ql(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Wl(e,t,n,r){return(e=ql(7,e,r,t)).lanes=n,e}function Hl(e,t,n,r){return(e=ql(23,e,r,t)).elementType=U,e.lanes=n,e}function Kl(e,t,n){return(e=ql(6,e,null,t)).lanes=n,e}function Gl(e,t,n){return(t=ql(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ql(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function Jl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:I,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Yl(e,t,n,r){var i=t.current,s=ul(),a=cl(i);e:if(n){t:{if(Qe(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(gi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(o(171))}if(1===n.tag){var u=n.type;if(gi(u)){n=wi(n,u,l);break e}}n=l}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=us(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),cs(i,t),hl(i,a,s),a}function Xl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Zl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eu(e,t){Zl(e,t),(e=e.alternate)&&Zl(e,t)}function tu(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ql(e,t,null!=n&&!0===n.hydrate),t=ql(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,as(t),e[Zr]=n.current,Rr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function nu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ru(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s._internalRoot;if("function"==typeof i){var a=i;i=function(){var e=Xl(o);a.call(e)}}Yl(t,o,e,i)}else{if(s=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tu(e,0,t?{hydrate:!0}:void 0)}(n,r),o=s._internalRoot,"function"==typeof i){var l=i;i=function(){var e=Xl(o);l.call(e)}}vl((function(){Yl(t,o,e,i)}))}return Xl(o)}function iu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nu(t))throw Error(o(200));return Jl(e,t,null,n)}Wa=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||fi.current)Mo=!0;else{if(0==(n&r)){switch(Mo=!1,t.tag){case 3:Ho(t),Hs();break;case 5:Ds(t);break;case 1:gi(t.type)&&bi(t);break;case 4:Os(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ci(Yi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Yo(e,t,n):(ci(Ms,1&Ms.current),null!==(t=na(e,t,n))?t.sibling:null);ci(Ms,1&Ms.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return ta(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ci(Ms,Ms.current),r)break;return null;case 23:case 24:return t.lanes=0,qo(e,t,n)}return na(e,t,n)}Mo=0!=(16384&e.flags)}else Mo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),is(t,n),i=so(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var s=!0;bi(t)}else s=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,as(t);var a=r.getDerivedStateFromProps;"function"==typeof a&&ms(t,r,a,e),i.updater=gs,t.stateNode=i,i._reactInternals=t,bs(t,r,e,n),t=Wo(null,t,r,!0,s,n)}else t.tag=0,Uo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(s=i._init)(i._payload),t.type=i,s=t.tag=function(e){if("function"==typeof e)return Bl(e)?1:0;if(null!=e){if((e=e.$$typeof)===A)return 11;if(e===O)return 14}return 2}(i),e=Ji(i,e),s){case 0:t=zo(null,t,i,e,n);break e;case 1:t=$o(null,t,i,e,n);break e;case 11:t=Fo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Ji(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,zo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,$o(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(Ho(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ls(e,t),ds(t,r,null,n),(r=t.memoizedState.element)===i)Hs(),t=na(e,t,n);else{if((s=(i=t.stateNode).hydrate)&&(Vs=Kr(t.stateNode.containerInfo.firstChild),Fs=t,s=js=!0),s){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(s=e[i])._workInProgressVersionPrimary=e[i+1],Ks.push(s);for(n=Ss(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Uo(e,t,r,n),Hs();t=t.child}return t;case 5:return Ds(t),null===e&&zs(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,zr(r,i)?a=null:null!==s&&zr(r,s)&&(t.flags|=16),Bo(e,t),Uo(e,t,a,n),t.child;case 6:return null===e&&zs(t),null;case 13:return Yo(e,t,n);case 4:return Os(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ts(t,null,r,n):Uo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return Uo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Uo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value;var l=t.type._context;if(ci(Yi,l._currentValue),l._currentValue=s,null!==a)if(l=a.value,0==(s=ur(l,s)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,s):1073741823))){if(a.children===i.children&&!fi.current){t=na(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){a=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&s)){1===l.tag&&((c=us(-1,n&-n)).tag=2,cs(l,c)),l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),rs(l.return,n),u.lanes|=n;break}c=c.next}}else a=10===l.tag&&l.type===t.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===t){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}Uo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(s=t.pendingProps).children,is(t,n),r=r(i=ss(i,s.unstable_observedBits)),t.flags|=1,Uo(e,t,r,n),t.child;case 14:return s=Ji(i=t.type,t.pendingProps),Vo(e,t,i,s=Ji(i.type,s),r,n);case 15:return jo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,bi(t)):e=!1,is(t,n),vs(t,r,i),bs(t,r,i,n),Wo(null,t,r,!0,e,n);case 19:return ta(e,t,n);case 23:case 24:return qo(e,t,n)}throw Error(o(156,t.tag))},tu.prototype.render=function(e){Yl(e,this._internalRoot,null,null)},tu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Yl(null,e,null,(function(){t[Zr]=null}))},et=function(e){13===e.tag&&(hl(e,4,ul()),eu(e,4))},tt=function(e){13===e.tag&&(hl(e,67108864,ul()),eu(e,67108864))},nt=function(e){if(13===e.tag){var t=ul(),n=cl(e);hl(e,n,t),eu(e,n)}},rt=function(e,t){return t()},Se=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ii(r);if(!i)throw Error(o(90));Y(r),ne(r,i)}}}break;case"textarea":ue(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Oe=yl,Pe=function(e,t,n,r,i){var s=Aa;Aa|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(Aa=s)&&($a(),Ki())}},De=function(){0==(49&Aa)&&(function(){if(null!==tl){var e=tl;tl=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,fl(e,Bi())}))}Ki()}(),Ol())},Le=function(e,t){var n=Aa;Aa|=2;try{return e(t)}finally{0===(Aa=n)&&($a(),Ki())}};var su={Events:[ni,ri,ii,xe,Re,Ol,{current:!1}]},ou={findFiberByHostInstance:ti,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},au={bundleType:ou.bundleType,version:ou.version,rendererPackageName:ou.rendererPackageName,rendererConfig:ou.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:ou.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lu.isDisabled&&lu.supportsFiber)try{Ei=lu.inject(au),Ii=lu}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=su,t.createPortal=iu,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Aa;if(0!=(48&n))return e(t);Aa|=1;try{if(e)return Wi(99,e.bind(null,t))}finally{Aa=n,Ki()}},t.hydrate=function(e,t,n){if(!nu(t))throw Error(o(200));return ru(null,e,t,!0,n)},t.render=function(e,t,n){if(!nu(t))throw Error(o(200));return ru(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nu(e))throw Error(o(40));return!!e._reactRootContainer&&(vl((function(){ru(null,null,e,!1,(function(){e._reactRootContainer=null,e[Zr]=null}))})),!0)},t.unstable_batchedUpdates=yl,t.unstable_createPortal=function(e,t){return iu(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ru(e,t,n,!1,r)},t.version="17.0.2"},935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(448)},921:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case h:case s:case a:case o:case f:return e;default:switch(e=e&&e.$$typeof){case u:case d:case g:case m:case l:return e;default:return t}}case i:return t}}}function E(e){return _(e)===h}t.AsyncMode=c,t.ConcurrentMode=h,t.ContextConsumer=u,t.ContextProvider=l,t.Element=r,t.ForwardRef=d,t.Fragment=s,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=a,t.StrictMode=o,t.Suspense=f,t.isAsyncMode=function(e){return E(e)||_(e)===c},t.isConcurrentMode=E,t.isContextConsumer=function(e){return _(e)===u},t.isContextProvider=function(e){return _(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===d},t.isFragment=function(e){return _(e)===s},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===a},t.isStrictMode=function(e){return _(e)===o},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===s||e===h||e===a||e===o||e===f||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===u||e.$$typeof===d||e.$$typeof===v||e.$$typeof===w||e.$$typeof===b||e.$$typeof===y)},t.typeOf=_},864:(e,t,n)=>{"use strict";e.exports=n(921)},137:(e,t,n)=>{"use strict";t.__esModule=!0;var r=n(294),i=(o(r),o(n(697))),s=o(n(815));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}o(n(620));var c=1073741823;function h(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}t.default=function(e,t){var n,o,d="__create-react-context-"+(0,s.default)()+"__",f=function(e){function n(){var t,r;a(this,n);for(var i=arguments.length,s=Array(i),o=0;o<i;o++)s[o]=arguments[o];return t=r=l(this,e.call.apply(e,[this].concat(s))),r.emitter=h(r.props.value),l(r,t)}return u(n,e),n.prototype.getChildContext=function(){var e;return(e={})[d]=this.emitter,e},n.prototype.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n=this.props.value,r=e.value,i=void 0;((s=n)===(o=r)?0!==s||1/s==1/o:s!=s&&o!=o)?i=0:(i="function"==typeof t?t(n,r):c,0!=(i|=0)&&this.emitter.set(e.value,i))}var s,o},n.prototype.render=function(){return this.props.children},n}(r.Component);f.childContextTypes=((n={})[d]=i.default.object.isRequired,n);var p=function(t){function n(){var e,r;a(this,n);for(var i=arguments.length,s=Array(i),o=0;o<i;o++)s[o]=arguments[o];return e=r=l(this,t.call.apply(t,[this].concat(s))),r.state={value:r.getValue()},r.onUpdate=function(e,t){0!=((0|r.observedBits)&t)&&r.setState({value:r.getValue()})},l(r,e)}return u(n,t),n.prototype.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?c:t},n.prototype.componentDidMount=function(){this.context[d]&&this.context[d].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?c:e},n.prototype.componentWillUnmount=function(){this.context[d]&&this.context[d].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[d]?this.context[d].get():e},n.prototype.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return p.contextTypes=((o={})[d]=i.default.object,o),{Provider:f,Consumer:p}},e.exports=t.default},428:(e,t,n)=>{"use strict";t.__esModule=!0;var r=s(n(294)),i=s(n(137));function s(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.createContext||i.default,e.exports=t.default},585:e=>{e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},658:(e,t,n)=>{var r=n(585);e.exports=function e(t,n,i){return r(n)||(i=n||i,n=[]),i=i||{},t instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return c(e,t)}(t,n):r(t)?function(t,n,r){for(var i=[],s=0;s<t.length;s++)i.push(e(t[s],n,r).source);return c(new RegExp("(?:"+i.join("|")+")",h(r)),n)}(t,n,i):function(e,t,n){return d(s(e,n),t,n)}(t,n,i)},e.exports.parse=s,e.exports.compile=function(e,t){return a(s(e,t),t)},e.exports.tokensToFunction=a,e.exports.tokensToRegExp=d;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function s(e,t){for(var n,r=[],s=0,o=0,a="",c=t&&t.delimiter||"/";null!=(n=i.exec(e));){var h=n[0],d=n[1],f=n.index;if(a+=e.slice(o,f),o=f+h.length,d)a+=d[1];else{var p=e[o],m=n[2],g=n[3],y=n[4],v=n[5],w=n[6],b=n[7];a&&(r.push(a),a="");var _=null!=m&&null!=p&&p!==m,E="+"===w||"*"===w,I="?"===w||"*"===w,k=n[2]||c,T=y||v;r.push({name:g||s++,prefix:m||"",delimiter:k,optional:I,repeat:E,partial:_,asterisk:!!b,pattern:T?u(T):b?".*":"[^"+l(k)+"]+?"})}}return o<e.length&&(a+=e.substr(o)),a&&r.push(a),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function a(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"==typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",h(t)));return function(t,i){for(var s="",a=t||{},l=(i||{}).pretty?o:encodeURIComponent,u=0;u<e.length;u++){var c=e[u];if("string"!=typeof c){var h,d=a[c.name];if(null==d){if(c.optional){c.partial&&(s+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(r(d)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var f=0;f<d.length;f++){if(h=l(d[f]),!n[u].test(h))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(h)+"`");s+=(0===f?c.prefix:c.delimiter)+h}}else{if(h=c.asterisk?encodeURI(d).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):l(d),!n[u].test(h))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+h+'"');s+=c.prefix+h}}else s+=c}return s}}function l(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function c(e,t){return e.keys=t,e}function h(e){return e&&e.sensitive?"":"i"}function d(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,s=!1!==n.end,o="",a=0;a<e.length;a++){var u=e[a];if("string"==typeof u)o+=l(u);else{var d=l(u.prefix),f="(?:"+u.pattern+")";t.push(u),u.repeat&&(f+="(?:"+d+f+")*"),o+=f=u.optional?u.partial?d+"("+f+")?":"(?:"+d+"("+f+"))?":d+"("+f+")"}}var p=l(n.delimiter||"/"),m=o.slice(-p.length)===p;return i||(o=(m?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=s?"$":i&&m?"":"(?="+p+"|$)",c(new RegExp("^"+o,h(n)),t)}},408:(e,t,n)=>{"use strict";var r=n(418),i=60103,s=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,a=60110,l=60112;t.Suspense=60113;var u=60115,c=60116;if("function"==typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),s=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),o=h("react.provider"),a=h("react.context"),l=h("react.forward_ref"),t.Suspense=h("react.suspense"),u=h("react.memo"),c=h("react.lazy")}var d="function"==typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var w=v.prototype=new y;w.constructor=v,r(w,g.prototype),w.isPureReactComponent=!0;var b={current:null},_=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,n){var r,s={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,r)&&!E.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(1===l)s.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===s[r]&&(s[r]=l[r]);return{$$typeof:i,type:e,key:o,ref:a,props:s,_owner:b.current}}function k(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var T=/\/+/g;function S(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,n,r,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case s:l=!0}}if(l)return o=o(l=e),e=""===r?"."+S(l,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(T,"$&/")+"/"),C(o,t,n,"",(function(e){return e}))):null!=o&&(k(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=r+S(a=e[u],u);l+=C(a,t,n,c,o)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=C(a=a.value,t,n,c=r+S(a,u++),o);else if("object"===a)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function N(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var x={current:null};function R(){var e=x.current;if(null===e)throw Error(f(321));return e}var O={ReactCurrentDispatcher:x,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error(f(143));return e}},t.Component=g,t.PureComponent=v,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,n){if(null==e)throw Error(f(267,e));var s=r({},e.props),o=e.key,a=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,l=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)_.call(t,c)&&!E.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];s.children=u}return{$$typeof:i,type:e.type,key:o,ref:a,props:s,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:a,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},294:(e,t,n)=>{"use strict";e.exports=n(408)},53:(e,t)=>{"use strict";var n,r,i,s;if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,c=null,h=function(){if(null!==u)try{var e=t.unstable_now();u(!0,e),u=null}catch(e){throw setTimeout(h,0),e}};n=function(e){null!==u?setTimeout(n,0,e):(u=e,setTimeout(h,0))},r=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,y=-1,v=5,w=0;t.unstable_shouldYield=function(){return t.unstable_now()>=w},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,_=b.port2;b.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();w=e+v;try{g(!0,e)?_.postMessage(null):(m=!1,g=null)}catch(e){throw _.postMessage(null),e}}else m=!1},n=function(e){g=e,m||(m=!0,_.postMessage(null))},r=function(e,n){y=d((function(){e(t.unstable_now())}),n)},i=function(){f(y),y=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,t)))break e;e[r]=t,e[n]=i,n=r}}function I(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var s=2*(r+1)-1,o=e[s],a=s+1,l=e[a];if(void 0!==o&&0>T(o,n))void 0!==l&&0>T(l,o)?(e[r]=l,e[a]=n,r=a):(e[r]=o,e[s]=n,r=s);else{if(!(void 0!==l&&0>T(l,n)))break e;e[r]=l,e[a]=n,r=a}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],C=[],N=1,A=null,x=3,R=!1,O=!1,P=!1;function D(e){for(var t=I(C);null!==t;){if(null===t.callback)k(C);else{if(!(t.startTime<=e))break;k(C),t.sortIndex=t.expirationTime,E(S,t)}t=I(C)}}function L(e){if(P=!1,D(e),!O)if(null!==I(S))O=!0,n(M);else{var t=I(C);null!==t&&r(L,t.startTime-e)}}function M(e,n){O=!1,P&&(P=!1,i()),R=!0;var s=x;try{for(D(n),A=I(S);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=A.callback;if("function"==typeof o){A.callback=null,x=A.priorityLevel;var a=o(A.expirationTime<=n);n=t.unstable_now(),"function"==typeof a?A.callback=a:A===I(S)&&k(S),D(n)}else k(S);A=I(S)}if(null!==A)var l=!0;else{var u=I(C);null!==u&&r(L,u.startTime-n),l=!1}return l}finally{A=null,x=s,R=!1}}var U=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||R||(O=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return I(S)},t.unstable_next=function(e){switch(x){case 1:case 2:case 3:var t=3;break;default:t=x}var n=x;x=t;try{return e()}finally{x=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=U,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=x;x=e;try{return t()}finally{x=n}},t.unstable_scheduleCallback=function(e,s,o){var a=t.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:N++,callback:s,priorityLevel:e,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>a?(e.sortIndex=o,E(C,e),null===I(S)&&e===I(C)&&(P?i():P=!0,r(L,o-a))):(e.sortIndex=l,E(S,e),O||R||(O=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=x;return function(){var n=x;x=t;try{return e.apply(this,arguments)}finally{x=n}}}},840:(e,t,n)=>{"use strict";e.exports=n(53)},379:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var s={},o=[],a=0;a<e.length;a++){var l=e[a],u=r.base?l[0]+r.base:l[0],c=s[u]||0,h="".concat(u," ").concat(c);s[u]=c+1;var d=n(h),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==d)t[d].references++,t[d].updater(f);else{var p=i(f,r);r.byIndex=a,t.splice(a,0,{identifier:h,updater:p,references:1})}o.push(h)}return o}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var s=r(e=e||[],i=i||{});return function(e){e=e||[];for(var o=0;o<s.length;o++){var a=n(s[o]);t[a].references--}for(var l=r(e,i),u=0;u<s.length;u++){var c=n(s[u]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}s=l}}},569:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},427:e=>{e.exports="data:image/svg+xml,%3csvg width='50px' height='39px' viewBox='0 0 50 39' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e %3c!-- Generator: Sketch 53.2 (72643) - https://sketchapp.com --%3e %3ctitle%3eGroup%3c/title%3e %3cdesc%3eCreated with Sketch.%3c/desc%3e %3cg id='WiP' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3e %3cg id='Artboard' transform='translate(-90.000000, -38.000000)'%3e %3cg id='Group' transform='translate(90.000000, 38.000000)'%3e %3cpolygon id='Rectangle' fill='%23808282' points='3 14 25 26.5 47 14 40.855176 39 9.08421785 39'%3e%3c/polygon%3e %3cpolygon id='Triangle' fill-opacity='0.262838724' fill='%23101A1A' points='25 8 40 39 10 39'%3e%3c/polygon%3e %3ccircle id='Oval' fill='%235E6363' cx='2' cy='9' r='2'%3e%3c/circle%3e %3ccircle id='Oval' fill='%235E6363' cx='25' cy='2' r='2'%3e%3c/circle%3e %3ccircle id='Oval' fill='%235E6363' cx='48' cy='9' r='2'%3e%3c/circle%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/svg%3e"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={id:r,exports:{}};return e[r](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>ct,SDK_VERSION:()=>Jt,_DEFAULT_ENTRY_NAME:()=>Ft,_addComponent:()=>Bt,_addOrOverwriteComponent:()=>zt,_apps:()=>jt,_clearComponents:()=>Kt,_components:()=>qt,_getProvider:()=>Wt,_registerComponent:()=>$t,_removeServiceInstance:()=>Ht,deleteApp:()=>en,getApp:()=>Xt,getApps:()=>Zt,initializeApp:()=>Yt,onLog:()=>nn,registerVersion:()=>tn,setLogLevel:()=>rn});var t={};n.r(t);var r=n(294),i=n(935);function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,s(e,t)}var a=n(428),l=n.n(a);function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e){return"/"===e.charAt(0)}function h(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}function d(e,t){if(!e)throw new Error("Invariant failed")}function f(e){return"/"===e.charAt(0)?e:"/"+e}function p(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function m(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function g(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function y(e,t,n,r){var i;"string"==typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var s=t.indexOf("?");return-1!==s&&(n=t.substr(s),t=t.substr(0,s)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=u({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],s=e&&c(e),o=t&&c(t),a=s||o;if(e&&c(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var l=i[i.length-1];n="."===l||".."===l||""===l}else n=!1;for(var u=0,d=i.length;d>=0;d--){var f=i[d];"."===f?h(i,d):".."===f?(h(i,d),u++):u&&(h(i,d),u--)}if(!a)for(;u--;u)i.unshift("..");!a||""===i[0]||i[0]&&c(i[0])||i.unshift("");var p=i.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p}(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function v(){var e=null,t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var s="function"==typeof e?e(t,n):e;"string"==typeof s?"function"==typeof r?r(s,i):i(!0):i(!1!==s)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var w=!("undefined"==typeof window||!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}var _="popstate",E="hashchange";function I(){try{return window.history.state||{}}catch(e){return{}}}function k(e){void 0===e&&(e={}),w||d(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,s=i.forceRefresh,o=void 0!==s&&s,a=i.getUserConfirmation,l=void 0===a?b:a,c=i.keyLength,h=void 0===c?6:c,k=e.basename?m(f(e.basename)):"";function T(e){var t=e||{},n=t.key,r=t.state,i=window.location,s=i.pathname+i.search+i.hash;return k&&(s=p(s,k)),y(s,r,n)}function S(){return Math.random().toString(36).substr(2,h)}var C=v();function N(e){u(j,e),j.length=t.length,C.notifyListeners(j.location,j.action)}function A(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||O(T(e.state))}function x(){O(T(I()))}var R=!1;function O(e){R?(R=!1,N()):C.confirmTransitionTo(e,"POP",l,(function(t){t?N({action:"POP",location:e}):function(e){var t=j.location,n=D.indexOf(t.key);-1===n&&(n=0);var r=D.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(R=!0,M(i))}(e)}))}var P=T(I()),D=[P.key];function L(e){return k+g(e)}function M(e){t.go(e)}var U=0;function F(e){1===(U+=e)&&1===e?(window.addEventListener(_,A),r&&window.addEventListener(E,x)):0===U&&(window.removeEventListener(_,A),r&&window.removeEventListener(E,x))}var V=!1,j={length:t.length,action:"POP",location:P,createHref:L,push:function(e,r){var i="PUSH",s=y(e,r,S(),j.location);C.confirmTransitionTo(s,i,l,(function(e){if(e){var r=L(s),a=s.key,l=s.state;if(n)if(t.pushState({key:a,state:l},null,r),o)window.location.href=r;else{var u=D.indexOf(j.location.key),c=D.slice(0,u+1);c.push(s.key),D=c,N({action:i,location:s})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",s=y(e,r,S(),j.location);C.confirmTransitionTo(s,i,l,(function(e){if(e){var r=L(s),a=s.key,l=s.state;if(n)if(t.replaceState({key:a,state:l},null,r),o)window.location.replace(r);else{var u=D.indexOf(j.location.key);-1!==u&&(D[u]=s.key),N({action:i,location:s})}else window.location.replace(r)}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=C.setPrompt(e);return V||(F(1),V=!0),function(){return V&&(V=!1,F(-1)),t()}},listen:function(e){var t=C.appendListener(e);return F(1),function(){F(-1),t()}}};return j}var T=n(658),S=n.n(T);function C(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n(864);var N=n(679),A=n.n(N),x=function(e){var t=l()();return t.Provider.displayName=e+".Provider",t.Consumer.displayName=e+".Consumer",t},R=x("Router"),O=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}o(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return r.createElement(R.Provider,{children:this.props.children||null,value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}})},t}(r.Component);r.Component,r.Component;var P={},D=0;function L(e,t){void 0===t&&(t={}),"string"==typeof t&&(t={path:t});var n=t,r=n.path,i=n.exact,s=void 0!==i&&i,o=n.strict,a=void 0!==o&&o,l=n.sensitive,u=void 0!==l&&l;return[].concat(r).reduce((function(t,n){if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=P[n]||(P[n]={});if(r[e])return r[e];var i=[],s={regexp:S()(e,i,t),keys:i};return D<1e4&&(r[e]=s,D++),s}(n,{end:s,strict:a,sensitive:u}),i=r.regexp,o=r.keys,l=i.exec(e);if(!l)return null;var c=l[0],h=l.slice(1),d=e===c;return s&&!d?null:{path:n,url:"/"===n&&""===c?"/":c,isExact:d,params:o.reduce((function(e,t,n){return e[t.name]=h[n],e}),{})}}),null)}var M=function(e){function t(){return e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this;return r.createElement(R.Consumer,null,(function(t){t||d(!1);var n=e.props.location||t.location,i=u({},t,{location:n,match:e.props.computedMatch?e.props.computedMatch:e.props.path?L(n.pathname,e.props):t.match}),s=e.props,o=s.children,a=s.component,l=s.render;return Array.isArray(o)&&0===o.length&&(o=null),"function"==typeof o&&void 0===(o=o(i))&&(o=null),r.createElement(R.Provider,{value:i},o&&!function(e){return 0===r.Children.count(e)}(o)?o:i.match?a?r.createElement(a,i):l?l(i):null:null)}))},t}(r.Component);r.Component;var U=function(e){function t(){return e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this;return r.createElement(R.Consumer,null,(function(t){t||d(!1);var n,i,s=e.props.location||t.location;return r.Children.forEach(e.props.children,(function(e){if(null==i&&r.isValidElement(e)){n=e;var o=e.props.path||e.props.from;i=o?L(s.pathname,u({},e.props,{path:o})):t.match}})),i?r.cloneElement(n,{location:s,computedMatch:i}):null}))},t}(r.Component),F=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=k(t.props),t}return o(t,e),t.prototype.render=function(){return r.createElement(O,{history:this.history,children:this.props.children})},t}(r.Component);r.Component;var V=function(e){function t(){return e.apply(this,arguments)||this}o(t,e);var n=t.prototype;return n.handleClick=function(e,t){this.props.onClick&&this.props.onClick(e),e.defaultPrevented||0!==e.button||this.props.target&&"_self"!==this.props.target||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),(this.props.replace?t.replace:t.push)(this.props.to))},n.render=function(){var e=this,t=this.props,n=t.innerRef,i=(t.replace,t.to),s=C(t,["innerRef","replace","to"]);return r.createElement(R.Consumer,null,(function(t){t||d(!1);var o="string"==typeof i?y(i,null,null,t.location):i,a=o?t.history.createHref(o):"";return r.createElement("a",u({},s,{onClick:function(n){return e.handleClick(n,t.history)},href:a,ref:n}))}))},t}(r.Component),j=n(379),q=n.n(j),B=n(795),z=n.n(B),$=n(569),W=n.n($),H=n(565),K=n.n(H),G=n(216),Q=n.n(G),J=n(589),Y=n.n(J),X=n(201),Z={};Z.styleTagTransform=Y(),Z.setAttributes=K(),Z.insert=W().bind(null,"head"),Z.domAPI=z(),Z.insertStyleElement=Q(),q()(X.Z,Z),X.Z&&X.Z.locals&&X.Z.locals;var ee=n(91),te={};te.styleTagTransform=Y(),te.setAttributes=K(),te.insert=W().bind(null,"head"),te.domAPI=z(),te.insertStyleElement=Q(),q()(ee.Z,te),ee.Z&&ee.Z.locals&&ee.Z.locals;const ne=function(e){var t=function(t){var n=t.wrappedComponentRef,i=C(t,["wrappedComponentRef"]);return r.createElement(M,{children:function(t){return r.createElement(e,u({},i,t,{ref:n}))}})};return t.displayName="withRouter("+(e.displayName||e.name)+")",t.WrappedComponent=e,A()(t,e)}((function(e){var t=e.title,n=e.imageUrl,i=e.size,s=e.history,o=e.linkUrl,a=e.match;return r.createElement("div",{className:"".concat(i," menu-item"),onClick:function(){return s.push("".concat(a.url).concat(o))}},r.createElement("div",{className:"background-image",style:{backgroundImage:"url(".concat(n,")")}}),r.createElement("div",{className:"content"},r.createElement("h1",{className:"title"},t.toUpperCase()),r.createElement("span",{className:"subtitle"},"SHOP NOW")))}));var re=n(173),ie={};function se(e){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(e)}ie.styleTagTransform=Y(),ie.setAttributes=K(),ie.insert=W().bind(null,"head"),ie.domAPI=z(),ie.insertStyleElement=Q(),q()(re.Z,ie),re.Z&&re.Z.locals&&re.Z.locals;var oe=["id"];function ae(){return ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ae.apply(this,arguments)}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(e,t){return ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ue(e,t)}function ce(e,t){if(t&&("object"===se(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function he(e){return he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},he(e)}var de=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ue(e,t)}(a,e);var t,n,i,s,o=(i=a,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=he(i);if(s){var n=he(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ce(this,e)});function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=o.call(this)).state={sections:[{title:"hats",imageUrl:"https://i.ibb.co/cvpntL1/hats.png",id:1,linkUrl:"shop/hats"},{title:"jackets",imageUrl:"https://i.ibb.co/px2tCc3/jackets.png",id:2,linkUrl:"jackets"},{title:"sneakers",imageUrl:"https://i.ibb.co/0jqHpnp/sneakers.png",id:3,linkUrl:"sneakers"},{title:"womens",imageUrl:"https://i.ibb.co/GCCdy8t/womens.png",size:"large",id:4,linkUrl:"womens"},{title:"mens",imageUrl:"https://i.ibb.co/R70vBrQ/men.png",size:"large",id:5,linkUrl:"mens"}]},e}return t=a,n=[{key:"render",value:function(){return r.createElement("div",{className:"directory-menu"},this.state.sections.map((function(e){var t=e.id,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,oe);return r.createElement(ne,ae({key:t},n))})))}}],n&&le(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.Component);const fe=de,pe=function(){return r.createElement("div",{className:"homepage"},r.createElement(fe,null))},me=[{id:1,title:"Hats",routeName:"hats",items:[{id:1,name:"Brown Brim",imageUrl:"https://i.ibb.co/ZYW3VTp/brown-brim.png",price:25},{id:2,name:"Blue Beanie",imageUrl:"https://i.ibb.co/ypkgK0X/blue-beanie.png",price:18},{id:3,name:"Brown Cowboy",imageUrl:"https://i.ibb.co/QdJwgmp/brown-cowboy.png",price:35},{id:4,name:"Grey Brim",imageUrl:"https://i.ibb.co/RjBLWxB/grey-brim.png",price:25},{id:5,name:"Green Beanie",imageUrl:"https://i.ibb.co/YTjW3vF/green-beanie.png",price:18},{id:6,name:"Palm Tree Cap",imageUrl:"https://i.ibb.co/rKBDvJX/palm-tree-cap.png",price:14},{id:7,name:"Red Beanie",imageUrl:"https://i.ibb.co/bLB646Z/red-beanie.png",price:18},{id:8,name:"Wolf Cap",imageUrl:"https://i.ibb.co/1f2nWMM/wolf-cap.png",price:14},{id:9,name:"Blue Snapback",imageUrl:"https://i.ibb.co/X2VJP2W/blue-snapback.png",price:16}]},{id:2,title:"Sneakers",routeName:"sneakers",items:[{id:10,name:"Adidas NMD",imageUrl:"https://i.ibb.co/0s3pdnc/adidas-nmd.png",price:220},{id:11,name:"Adidas Yeezy",imageUrl:"https://i.ibb.co/dJbG1cT/yeezy.png",price:280},{id:12,name:"Black Converse",imageUrl:"https://i.ibb.co/bPmVXyP/black-converse.png",price:110},{id:13,name:"Nike White AirForce",imageUrl:"https://i.ibb.co/1RcFPk0/white-nike-high-tops.png",price:160},{id:14,name:"Nike Red High Tops",imageUrl:"https://i.ibb.co/QcvzydB/nikes-red.png",price:160},{id:15,name:"Nike Brown High Tops",imageUrl:"https://i.ibb.co/fMTV342/nike-brown.png",price:160},{id:16,name:"Air Jordan Limited",imageUrl:"https://i.ibb.co/w4k6Ws9/nike-funky.png",price:190},{id:17,name:"Timberlands",imageUrl:"https://i.ibb.co/Mhh6wBg/timberlands.png",price:200}]},{id:3,title:"Jackets",routeName:"jackets",items:[{id:18,name:"Black Jean Shearling",imageUrl:"https://i.ibb.co/XzcwL5s/black-shearling.png",price:125},{id:19,name:"Blue Jean Jacket",imageUrl:"https://i.ibb.co/mJS6vz0/blue-jean-jacket.png",price:90},{id:20,name:"Grey Jean Jacket",imageUrl:"https://i.ibb.co/N71k1ML/grey-jean-jacket.png",price:90},{id:21,name:"Brown Shearling",imageUrl:"https://i.ibb.co/s96FpdP/brown-shearling.png",price:165},{id:22,name:"Tan Trench",imageUrl:"https://i.ibb.co/M6hHc3F/brown-trench.png",price:185}]},{id:4,title:"Womens",routeName:"womens",items:[{id:23,name:"Blue Tanktop",imageUrl:"https://i.ibb.co/7CQVJNm/blue-tank.png",price:25},{id:24,name:"Floral Blouse",imageUrl:"https://i.ibb.co/4W2DGKm/floral-blouse.png",price:20},{id:25,name:"Floral Dress",imageUrl:"https://i.ibb.co/KV18Ysr/floral-skirt.png",price:80},{id:26,name:"Red Dots Dress",imageUrl:"https://i.ibb.co/N3BN1bh/red-polka-dot-dress.png",price:80},{id:27,name:"Striped Sweater",imageUrl:"https://i.ibb.co/KmSkMbH/striped-sweater.png",price:45},{id:28,name:"Yellow Track Suit",imageUrl:"https://i.ibb.co/v1cvwNf/yellow-track-suit.png",price:135},{id:29,name:"White Blouse",imageUrl:"https://i.ibb.co/qBcrsJg/white-vest.png",price:20}]},{id:5,title:"Mens",routeName:"mens",items:[{id:30,name:"Camo Down Vest",imageUrl:"https://i.ibb.co/xJS0T3Y/camo-vest.png",price:325},{id:31,name:"Floral T-shirt",imageUrl:"https://i.ibb.co/qMQ75QZ/floral-shirt.png",price:20},{id:32,name:"Black & White Longsleeve",imageUrl:"https://i.ibb.co/55z32tw/long-sleeve.png",price:25},{id:33,name:"Pink T-shirt",imageUrl:"https://i.ibb.co/RvwnBL8/pink-shirt.png",price:25},{id:34,name:"Jean Long Sleeve",imageUrl:"https://i.ibb.co/VpW4x5t/roll-up-jean-shirt.png",price:40},{id:35,name:"Burgundy T-shirt",imageUrl:"https://i.ibb.co/mh3VM1f/polka-dot-shirt.png",price:25}]}];var ge=n(35),ye={};ye.styleTagTransform=Y(),ye.setAttributes=K(),ye.insert=W().bind(null,"head"),ye.domAPI=z(),ye.insertStyleElement=Q(),q()(ge.Z,ye),ge.Z&&ge.Z.locals&&ge.Z.locals;var ve=n(177),we={};we.styleTagTransform=Y(),we.setAttributes=K(),we.insert=W().bind(null,"head"),we.domAPI=z(),we.insertStyleElement=Q(),q()(ve.Z,we),ve.Z&&ve.Z.locals&&ve.Z.locals;const be=function(e){e.id;var t=e.name,n=e.price,i=e.imageUrl;return r.createElement("div",{className:"collection-item"},r.createElement("div",{className:"image",style:{backgroundImage:"url(".concat(i,")")}}),r.createElement("div",{className:"collection-footer"},r.createElement("span",{className:"name"},t),r.createElement("span",{className:"price"},n)))};var _e=["id"];function Ee(){return Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ee.apply(this,arguments)}const Ie=function(e){var t=e.title,n=e.items;return r.createElement("div",{className:"collection-preview"},r.createElement("h1",{className:"title"},t.toUpperCase()),r.createElement("div",{className:"preview"},n.filter((function(e,t){return t<4})).map((function(e){var t=e.id,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,_e);return r.createElement(be,Ee({key:t},n))}))))};function ke(e){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ke(e)}var Te=["id"];function Se(){return Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Se.apply(this,arguments)}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ne(e,t){return Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ne(e,t)}function Ae(e,t){if(t&&("object"===ke(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function xe(e){return xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},xe(e)}var Re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ne(e,t)}(a,e);var t,n,i,s,o=(i=a,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=xe(i);if(s){var n=xe(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ae(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={collections:me},t}return t=a,n=[{key:"render",value:function(){var e=this.state.collections;return r.createElement("div",{className:"shop-page"},e.map((function(e){var t=e.id,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Te);return r.createElement(Ie,Se({key:t},n))})))}}],n&&Ce(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.Component);const Oe=Re;var Pe=n(427),De=n.n(Pe),Le=n(628),Me={};Me.styleTagTransform=Y(),Me.setAttributes=K(),Me.insert=W().bind(null,"head"),Me.domAPI=z(),Me.insertStyleElement=Q(),q()(Le.Z,Me),Le.Z&&Le.Z.locals&&Le.Z.locals;const Ue=function(){return r.createElement("div",{className:"header"},r.createElement(V,{className:"logo-container",to:"/"},r.createElement("img",{src:De(),alt:"home"})),r.createElement("div",{className:"options"},r.createElement(V,{className:"option",to:"/shop"},"SHOP"),r.createElement(V,{className:"option",to:"/signin"},"SIGNIN")))};var Fe=n(841),Ve={};Ve.styleTagTransform=Y(),Ve.setAttributes=K(),Ve.insert=W().bind(null,"head"),Ve.domAPI=z(),Ve.insertStyleElement=Q(),q()(Fe.Z,Ve),Fe.Z&&Fe.Z.locals&&Fe.Z.locals;var je=n(970),qe={};qe.styleTagTransform=Y(),qe.setAttributes=K(),qe.insert=W().bind(null,"head"),qe.domAPI=z(),qe.insertStyleElement=Q(),q()(je.Z,qe),je.Z&&je.Z.locals&&je.Z.locals;var Be=["handleChange","label"];function ze(){return ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ze.apply(this,arguments)}const $e=function(e){var t=e.handleChange,n=e.label,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Be);return r.createElement("div",{className:"group"},r.createElement("input",ze({className:"form-input",onChange:t},i)),n?r.createElement("label",{className:"".concat(i.value.length?"shrink":""," form-input-label")},n):null)};var We=n(656),He={};He.styleTagTransform=Y(),He.setAttributes=K(),He.insert=W().bind(null,"head"),He.domAPI=z(),He.insertStyleElement=Q(),q()(We.Z,He),We.Z&&We.Z.locals&&We.Z.locals;var Ke=["children"];function Ge(){return Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ge.apply(this,arguments)}const Qe=function(e){var t=e.children,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Ke);return r.createElement("button",Ge({className:"custom-button"},n),t)};var Je=n(491),Ye={};Ye.styleTagTransform=Y(),Ye.setAttributes=K(),Ye.insert=W().bind(null,"head"),Ye.domAPI=z(),Ye.insertStyleElement=Q(),q()(Je.Z,Ye),Je.Z&&Je.Z.locals&&Je.Z.locals;const Xe=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ze={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const i=e[t],s=t+1<e.length,o=s?e[t+1]:0,a=t+2<e.length,l=a?e[t+2]:0,u=i>>2,c=(3&i)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Xe(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)],s=t<e.length?n[e.charAt(t)]:0;++t;const o=t<e.length?n[e.charAt(t)]:64;++t;const a=t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==s||null==o||null==a)throw Error();const l=i<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},et=function(e){return function(e){const t=Xe(e);return Ze.encodeByteArray(t,!0)}(e).replace(/\./g,"")};function tt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=tt(e[n],t[n]));return e}class nt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function rt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function it(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rt())}function st(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function ot(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function at(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function lt(){const e=rt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ut(){return"object"==typeof indexedDB}class ct extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,ct.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ht.prototype.create)}}class ht{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?function(e,t){return e.replace(dt,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",o=`${this.serviceName}: ${s} (${r}).`;return new ct(r,o,n)}}const dt=/\{\$([^}]+)}/g;function ft(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function pt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(mt(n)&&mt(s)){if(!pt(n,s))return!1}else if(n!==s)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function mt(e){return null!==e&&"object"==typeof e}function gt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function yt(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function vt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function wt(e,t){const n=new bt(e,t);return n.subscribe.bind(n)}class bt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=_t),void 0===r.error&&(r.error=_t),void 0===r.complete&&(r.complete=_t);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function _t(){}function Et(e){return e&&e._delegate?e._delegate:e}class It{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const kt="[DEFAULT]";class Tt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new nt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:kt})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e="[DEFAULT]"){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e="[DEFAULT]"){return this.instances.has(e)}getOptions(e="[DEFAULT]"){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===kt?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var r;return n||null}normalizeInstanceIdentifier(e="[DEFAULT]"){return this.component?this.component.multipleInstances?e:kt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class St{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Tt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Ct=[];var Nt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Nt||(Nt={}));const At={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},xt=Nt.INFO,Rt={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},Ot=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=Rt[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class Pt{constructor(e){this.name=e,this._logLevel=xt,this._logHandler=Ot,this._userLogHandler=null,Ct.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?At[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...e),this._logHandler(this,Nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...e),this._logHandler(this,Nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...e),this._logHandler(this,Nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...e),this._logHandler(this,Nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...e),this._logHandler(this,Nt.ERROR,...e)}}class Dt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Lt="@firebase/app",Mt="0.7.14",Ut=new Pt("@firebase/app"),Ft="[DEFAULT]",Vt={[Lt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},jt=new Map,qt=new Map;function Bt(e,t){try{e.container.addComponent(t)}catch(n){Ut.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function zt(e,t){e.container.addOrOverwriteComponent(t)}function $t(e){const t=e.name;if(qt.has(t))return Ut.debug(`There were multiple attempts to register component ${t}.`),!1;qt.set(t,e);for(const t of jt.values())Bt(t,e);return!0}function Wt(e,t){return e.container.getProvider(t)}function Ht(e,t,n=Ft){Wt(e,t).clearInstance(n)}function Kt(){qt.clear()}const Gt=new ht("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Qt{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new It("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gt.create("app-deleted",{appName:this._name})}}const Jt="9.6.4";function Yt(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:Ft,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw Gt.create("bad-app-name",{appName:String(r)});const i=jt.get(r);if(i){if(pt(e,i.options)&&pt(n,i.config))return i;throw Gt.create("duplicate-app",{appName:r})}const s=new St(r);for(const e of qt.values())s.addComponent(e);const o=new Qt(e,n,s);return jt.set(r,o),o}function Xt(e=Ft){const t=jt.get(e);if(!t)throw Gt.create("no-app",{appName:e});return t}function Zt(){return Array.from(jt.values())}async function en(e){const t=e.name;jt.has(t)&&(jt.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function tn(e,t,n){var r;let i=null!==(r=Vt[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Ut.warn(e.join(" "))}$t(new It(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}function nn(e,t){if(null!==e&&"function"!=typeof e)throw Gt.create("invalid-log-argument");!function(e,t){for(const n of Ct){let r=null;t&&t.level&&(r=At[t.level]),n.userLogHandler=null===e?null:(t,n,...i)=>{const s=i.map((e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((e=>e)).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:Nt[n].toLowerCase(),message:s,args:i,type:t.name})}}}(e,t)}function rn(e){var t;t=e,Ct.forEach((e=>{e.setLogLevel(t)}))}$t(new It("platform-logger",(e=>new Dt(e)),"PRIVATE")),tn(Lt,Mt,""),tn(Lt,Mt,"esm2017"),tn("fire-js","");class sn{constructor(e,t){this._delegate=e,this.firebase=t,Bt(e,new It("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),en(this._delegate))))}_getService(e,t=Ft){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=Ft){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Bt(this._delegate,e)}_addOrOverwriteComponent(e){zt(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const on=new ht("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),an=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e,i={}){const s=Yt(e,i);if(ft(n,s.name))return n[s.name];const o=new t(s,r);return n[s.name]=o,o},app:i,registerVersion:tn,setLogLevel:rn,onLog:nn,apps:null,SDK_VERSION:Jt,INTERNAL:{registerComponent:function(e){const n=e.name,s=n.replace("-compat","");if($t(e)&&"PUBLIC"===e.type){const o=(e=i())=>{if("function"!=typeof e[s])throw on.create("invalid-app-argument",{appName:n});return e[s]()};void 0!==e.serviceProps&&tt(o,e.serviceProps),r[s]=o,t.prototype[s]=function(...t){return this._getService.bind(this,n).apply(this,e.multipleInstances?t:[])}}return"PUBLIC"===e.type?r[s]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!ft(n,e=e||Ft))throw on.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(sn);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){tt(n,e)},createSubscribe:wt,ErrorFactory:ht,deepExtend:tt}),n}(),ln=new Pt("@firebase/app-compat");if("object"==typeof self&&self.self===self&&void 0!==self.firebase){ln.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&ln.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const un=an;tn("@firebase/app-compat","0.1.15",void 0),un.registerVersion("firebase","9.6.4","app-compat");var cn,hn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},dn={},fn=fn||{},pn=hn||self;function mn(){}function gn(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function yn(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var vn="closure_uid_"+(1e9*Math.random()>>>0),wn=0;function bn(e,t,n){return e.call.apply(e.bind,arguments)}function _n(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function En(e,t,n){return(En=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?bn:_n).apply(null,arguments)}function In(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function kn(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Tn(){this.s=this.s,this.o=this.o}var Sn={};Tn.prototype.s=!1,Tn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,vn)&&e[vn]||(e[vn]=++wn)}(this);delete Sn[e]}},Tn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Cn=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Nn=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,i="string"==typeof e?e.split(""):e;for(let s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function An(e){return Array.prototype.concat.apply([],arguments)}function xn(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Rn(e){return/^[\s\xa0]*$/.test(e)}var On,Pn=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Dn(e,t){return-1!=e.indexOf(t)}function Ln(e,t){return e<t?-1:e>t?1:0}e:{var Mn=pn.navigator;if(Mn){var Un=Mn.userAgent;if(Un){On=Un;break e}}On=""}function Fn(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Vn(e){const t={};for(const n in e)t[n]=e[n];return t}var jn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qn(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<jn.length;t++)n=jn[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Bn(e){return Bn[" "](e),e}Bn[" "]=mn;var zn,$n,Wn=Dn(On,"Opera"),Hn=Dn(On,"Trident")||Dn(On,"MSIE"),Kn=Dn(On,"Edge"),Gn=Kn||Hn,Qn=Dn(On,"Gecko")&&!(Dn(On.toLowerCase(),"webkit")&&!Dn(On,"Edge"))&&!(Dn(On,"Trident")||Dn(On,"MSIE"))&&!Dn(On,"Edge"),Jn=Dn(On.toLowerCase(),"webkit")&&!Dn(On,"Edge");function Yn(){var e=pn.document;return e?e.documentMode:void 0}e:{var Xn="",Zn=($n=On,Qn?/rv:([^\);]+)(\)|;)/.exec($n):Kn?/Edge\/([\d\.]+)/.exec($n):Hn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec($n):Jn?/WebKit\/(\S+)/.exec($n):Wn?/(?:Version)[ \/]?(\S+)/.exec($n):void 0);if(Zn&&(Xn=Zn?Zn[1]:""),Hn){var er=Yn();if(null!=er&&er>parseFloat(Xn)){zn=String(er);break e}}zn=Xn}var tr,nr={};function rr(){return e=nr,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let e=0;const t=Pn(String(zn)).split("."),n=Pn("9").split("."),r=Math.max(t.length,n.length);for(let o=0;0==e&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;e=Ln(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||Ln(0==i[2].length,0==s[2].length)||Ln(i[2],s[2]),i=i[3],s=s[3]}while(0==e)}return 0<=e}();var e}pn.document&&Hn?tr=Yn()||parseInt(zn,10)||void 0:tr=void 0;var ir=tr,sr=function(){if(!pn.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{pn.addEventListener("test",mn,t),pn.removeEventListener("test",mn,t)}catch(e){}return e}();function or(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function ar(e,t){if(or.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Qn){e:{try{Bn(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:lr[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ar.Z.h.call(this)}}or.prototype.h=function(){this.defaultPrevented=!0},kn(ar,or);var lr={2:"touch",3:"pen",4:"mouse"};ar.prototype.h=function(){ar.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ur="closure_listenable_"+(1e6*Math.random()|0),cr=0;function hr(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++cr,this.ca=this.fa=!1}function dr(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function fr(e){this.src=e,this.g={},this.h=0}function pr(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Cn(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(dr(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function mr(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}fr.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=mr(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new hr(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var gr="closure_lm_"+(1e6*Math.random()|0),yr={};function vr(e,t,n,r,i){if(r&&r.once)return br(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)vr(e,t[s],n,r,i);return null}return n=Cr(n),e&&e[ur]?e.N(t,n,yn(r)?!!r.capture:!!r,i):wr(e,t,n,!1,r,i)}function wr(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=yn(i)?!!i.capture:!!i,a=Tr(e);if(a||(e[gr]=a=new fr(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){var e=kr;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)sr||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ir(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function br(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)br(e,t[s],n,r,i);return null}return n=Cr(n),e&&e[ur]?e.O(t,n,yn(r)?!!r.capture:!!r,i):wr(e,t,n,!0,r,i)}function _r(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)_r(e,t[s],n,r,i);else r=yn(r)?!!r.capture:!!r,n=Cr(n),e&&e[ur]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=mr(s=e.g[t],n,r,i))&&(dr(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--))):e&&(e=Tr(e))&&(t=e.g[t.toString()],e=-1,t&&(e=mr(t,n,r,i)),(n=-1<e?t[e]:null)&&Er(n))}function Er(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[ur])pr(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ir(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Tr(t))?(pr(n,e),0==n.h&&(n.src=null,t[gr]=null)):dr(e)}}}function Ir(e){return e in yr?yr[e]:yr[e]="on"+e}function kr(e,t){if(e.ca)e=!0;else{t=new ar(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Er(e),e=n.call(r,t)}return e}function Tr(e){return(e=e[gr])instanceof fr?e:null}var Sr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cr(e){return"function"==typeof e?e:(e[Sr]||(e[Sr]=function(t){return e.handleEvent(t)}),e[Sr])}function Nr(){Tn.call(this),this.i=new fr(this),this.P=this,this.I=null}function Ar(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new or(t,e);else if(t instanceof or)t.target=t.target||e;else{var i=t;qn(t=new or(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=xr(o,r,!0,t)&&i}if(i=xr(o=t.g=e,r,!0,t)&&i,i=xr(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=xr(o=t.g=n[s],r,!1,t)&&i}function xr(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&pr(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}kn(Nr,Tn),Nr.prototype[ur]=!0,Nr.prototype.removeEventListener=function(e,t,n,r){_r(this,e,t,n,r)},Nr.prototype.M=function(){if(Nr.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)dr(n[r]);delete t.g[e],t.h--}}this.I=null},Nr.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Nr.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Rr=pn.JSON.stringify;function Or(){var e=Vr;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Pr,Dr=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Lr),(e=>e.reset()));class Lr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Mr(e){pn.setTimeout((()=>{throw e}),0)}function Ur(e,t){Pr||function(){var e=pn.Promise.resolve(void 0);Pr=function(){e.then(jr)}}(),Fr||(Pr(),Fr=!0),Vr.add(e,t)}var Fr=!1,Vr=new class{constructor(){this.h=this.g=null}add(e,t){const n=Dr.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function jr(){for(var e;e=Or();){try{e.h.call(e.g)}catch(e){Mr(e)}var t=Dr;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Fr=!1}function qr(e,t){Nr.call(this),this.h=e||1,this.g=t||pn,this.j=En(this.kb,this),this.l=Date.now()}function Br(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function zr(e,t,n){if("function"==typeof e)n&&(e=En(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=En(e.handleEvent,e)}return 2147483647<Number(t)?-1:pn.setTimeout(e,t||0)}function $r(e){e.g=zr((()=>{e.g=null,e.i&&(e.i=!1,$r(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}kn(qr,Nr),(cn=qr.prototype).da=!1,cn.S=null,cn.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ar(this,"tick"),this.da&&(Br(this),this.start()))}},cn.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},cn.M=function(){qr.Z.M.call(this),Br(this),delete this.g};class Wr extends Tn{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:$r(this)}M(){super.M(),this.g&&(pn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hr(e){Tn.call(this),this.h=e,this.g={}}kn(Hr,Tn);var Kr=[];function Gr(e,t,n,r){Array.isArray(n)||(n&&(Kr[0]=n.toString()),n=Kr);for(var i=0;i<n.length;i++){var s=vr(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Qr(e){Fn(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Er(e)}),e),e.g={}}function Jr(){this.g=!0}function Yr(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Rr(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}Hr.prototype.M=function(){Hr.Z.M.call(this),Qr(this)},Hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Jr.prototype.Aa=function(){this.g=!1},Jr.prototype.info=function(){};var Xr={},Zr=null;function ei(){return Zr=Zr||new Nr}function ti(e){or.call(this,Xr.Ma,e)}function ni(e){const t=ei();Ar(t,new ti(t,e))}function ri(e,t){or.call(this,Xr.STAT_EVENT,e),this.stat=t}function ii(e){const t=ei();Ar(t,new ri(t,e))}function si(e,t){or.call(this,Xr.Na,e),this.size=t}function oi(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return pn.setTimeout((function(){e()}),t)}Xr.Ma="serverreachability",kn(ti,or),Xr.STAT_EVENT="statevent",kn(ri,or),Xr.Na="timingevent",kn(si,or);var ai={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},li={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ui(){}function ci(e){return e.h||(e.h=e.i())}function hi(){}ui.prototype.h=null;var di,fi={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function pi(){or.call(this,"d")}function mi(){or.call(this,"c")}function gi(){}function yi(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Hr(this),this.P=wi,e=Gn?125:void 0,this.W=new qr(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new vi}function vi(){this.i=null,this.g="",this.h=!1}kn(pi,or),kn(mi,or),kn(gi,ui),gi.prototype.g=function(){return new XMLHttpRequest},gi.prototype.i=function(){return{}},di=new gi;var wi=45e3,bi={},_i={};function Ei(e,t,n){e.K=1,e.v=Wi(Vi(t)),e.s=n,e.U=!0,Ii(e,null)}function Ii(e,t){e.F=Date.now(),Ci(e),e.A=Vi(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),is(n.h,"t",r),e.C=0,n=e.l.H,e.h=new vi,e.g=io(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Wr(En(e.Ia,e,e.g),e.O)),Gr(e.V,e.g,"readystatechange",e.gb),t=e.H?Vn(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ni(1),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function ki(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function Ti(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=Si(e,n),r==_i){4==t&&(e.o=4,ii(14),i=!1),Yr(e.j,e.m,null,"[Incomplete Response]");break}if(r==bi){e.o=4,ii(15),Yr(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Yr(e.j,e.m,r,null),Oi(e,r)}ki(e)&&r!=_i&&r!=bi&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ii(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Js(t),t.L=!0,ii(11))):(Yr(e.j,e.m,n,"[Invalid Chunked Response]"),Ri(e),xi(e))}function Si(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?_i:(n=Number(t.substring(n,r)),isNaN(n)?bi:(r+=1)+n>t.length?_i:(t=t.substr(r,n),e.C=r+n,t))}function Ci(e){e.Y=Date.now()+e.P,Ni(e,e.P)}function Ni(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=oi(En(e.eb,e),t)}function Ai(e){e.B&&(pn.clearTimeout(e.B),e.B=null)}function xi(e){0==e.l.G||e.I||Zs(e.l,e)}function Ri(e){Ai(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Br(e.W),Qr(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Oi(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||cs(n.i,e)))if(n.I=e.N,!e.J&&cs(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Xs(n),qs(n)}Qs(n),ii(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=oi(En(n.ab,n),6e3));if(1>=us(n.i)&&n.ka){try{n.ka()}catch(e){}n.ka=void 0}}else to(n,11)}else if((e.J||n.g==e)&&Xs(n),!Rn(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.U=u[0],u=u[1],2==n.G)if("c"==u[0]){n.J=u[1],n.la=u[2];const t=u[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const i=u[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const c=u[5];null!=c&&"number"==typeof c&&0<c&&(r=1.5*c,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;!s.g&&(Dn(e,"spdy")||Dn(e,"quic")||Dn(e,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(hs(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.sa=e,$i(r.F,r.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=e;if((r=n).oa=ro(r,r.H?r.la:null,r.W),o.J){ds(r.i,o);var a=o,l=r.K;l&&a.setTimeout(l),a.B&&(Ai(a),Ci(a)),r.g=o}else Gs(r);0<n.l.length&&$s(n)}else"stop"!=u[0]&&"close"!=u[0]||to(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?to(n,7):js(n):"noop"!=u[0]&&n.j&&n.j.wa(u),n.A=0)}ni(4)}catch(e){}}function Pi(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(gn(e)||"string"==typeof e)Nn(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(gn(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(gn(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function Di(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Di)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Li(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Mi(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Mi(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Mi(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(cn=yi.prototype).setTimeout=function(e){this.P=e},cn.gb=function(e){e=e.target;const t=this.L;t&&3==Ls(e)?t.l():this.Ia(e)},cn.Ia=function(e){try{if(e==this.g)e:{const c=Ls(this.g);var t=this.g.Da();const h=this.g.ba();if(!(3>c)&&(3!=c||Gn||this.g&&(this.h.h||this.g.ga()||Ms(this.g)))){this.I||4!=c||7==t||ni(8==t||0>=h?3:2),Ai(this);var n=this.g.ba();this.N=n;t:if(ki(this)){var r=Ms(this.g);e="";var i=r.length,s=4==Ls(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ri(this),xi(this);var o="";break t}this.h.i=new pn.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.u,this.A,this.m,this.X,c,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rn(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,ii(12),Ri(this),xi(this);break e}Yr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Oi(this,n)}this.U?(Ti(this,c,o),Gn&&this.i&&3==c&&(Gr(this.V,this.W,"tick",this.fb),this.W.start())):(Yr(this.j,this.m,o,null),Oi(this,o)),4==c&&Ri(this),this.i&&!this.I&&(4==c?Zs(this.l,this):(this.i=!1,Ci(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,ii(12)):(this.o=0,ii(13)),Ri(this),xi(this)}}}catch(e){}},cn.fb=function(){if(this.g){var e=Ls(this.g),t=this.g.ga();this.C<t.length&&(Ai(this),Ti(this,e,t),this.i&&4!=e&&Ci(this))}},cn.cancel=function(){this.I=!0,Ri(this)},cn.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(ni(3),ii(17)),Ri(this),this.o=2,xi(this)):Ni(this,this.Y-e)},(cn=Di.prototype).R=function(){Li(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},cn.T=function(){return Li(this),this.g.concat()},cn.get=function(e,t){return Mi(this.h,e)?this.h[e]:t},cn.set=function(e,t){Mi(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},cn.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};var Ui=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Fi(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Fi){this.g=void 0!==t?t:e.g,ji(this,e.j),this.s=e.s,qi(this,e.i),Bi(this,e.m),this.l=e.l,t=e.h;var n=new es;n.i=t.i,t.g&&(n.g=new Di(t.g),n.h=t.h),zi(this,n),this.o=e.o}else e&&(n=String(e).match(Ui))?(this.g=!!t,ji(this,n[1]||"",!0),this.s=Hi(n[2]||""),qi(this,n[3]||"",!0),Bi(this,n[4]),this.l=Hi(n[5]||"",!0),zi(this,n[6]||"",!0),this.o=Hi(n[7]||"")):(this.g=!!t,this.h=new es(null,this.g))}function Vi(e){return new Fi(e)}function ji(e,t,n){e.j=n?Hi(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function qi(e,t,n){e.i=n?Hi(t,!0):t}function Bi(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function zi(e,t,n){t instanceof es?(e.h=t,function(e,t){t&&!e.j&&(ts(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ns(this,t),is(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Ki(t,Xi)),e.h=new es(t,e.g))}function $i(e,t,n){e.h.set(t,n)}function Wi(e){return $i(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Hi(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ki(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Gi),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Gi(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Fi.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ki(t,Qi,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ki(t,Qi,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ki(n,"/"==n.charAt(0)?Yi:Ji,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ki(n,Zi)),e.join("")};var Qi=/[#\/\?@]/g,Ji=/[#\?:]/g,Yi=/[#\?]/g,Xi=/[#\?@]/g,Zi=/#/g;function es(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ts(e){e.g||(e.g=new Di,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ns(e,t){ts(e),t=ss(e,t),Mi(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Mi((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Li(e)))}function rs(e,t){return ts(e),t=ss(e,t),Mi(e.g.h,t)}function is(e,t,n){ns(e,t),0<n.length&&(e.i=null,e.g.set(ss(e,t),xn(n)),e.h+=n.length)}function ss(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function os(e){this.l=e||as,e=pn.PerformanceNavigationTiming?0<(e=pn.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(pn.g&&pn.g.Ea&&pn.g.Ea()&&pn.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(cn=es.prototype).add=function(e,t){ts(this),this.i=null,e=ss(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},cn.forEach=function(e,t){ts(this),this.g.forEach((function(n,r){Nn(n,(function(n){e.call(t,n,r,this)}),this)}),this)},cn.T=function(){ts(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},cn.R=function(e){ts(this);var t=[];if("string"==typeof e)rs(this,e)&&(t=An(t,this.g.get(ss(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=An(t,e[n])}return t},cn.set=function(e,t){return ts(this),this.i=null,rs(this,e=ss(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},cn.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},cn.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),e.push(o)}}return this.i=e.join("&")};var as=10;function ls(e){return!!e.h||!!e.g&&e.g.size>=e.j}function us(e){return e.h?1:e.g?e.g.size:0}function cs(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function hs(e,t){e.g?e.g.add(t):e.h=t}function ds(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function fs(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return xn(e.i)}function ps(){}function ms(){this.g=new ps}function gs(e,t,n){const r=n||"";try{Pi(e,(function(e,n){let i=e;yn(e)&&(i=Rr(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function ys(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function vs(e){this.l=e.$b||null,this.j=e.ib||!1}function ws(e,t){Nr.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=bs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}os.prototype.cancel=function(){if(this.i=fs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},ps.prototype.stringify=function(e){return pn.JSON.stringify(e,void 0)},ps.prototype.parse=function(e){return pn.JSON.parse(e,void 0)},kn(vs,ui),vs.prototype.g=function(){return new ws(this.l,this.j)},vs.prototype.i=function(e){return function(){return e}}({}),kn(ws,Nr);var bs=0;function _s(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Es(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Is(e)}function Is(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(cn=ws.prototype).open=function(e,t){if(this.readyState!=bs)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Is(this)},cn.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||pn).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},cn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Es(this)),this.readyState=bs},cn.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Is(this)),this.g&&(this.readyState=3,Is(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==pn.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_s(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},cn.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Es(this):Is(this),3==this.readyState&&_s(this)}},cn.Ua=function(e){this.g&&(this.response=this.responseText=e,Es(this))},cn.Ta=function(e){this.g&&(this.response=e,Es(this))},cn.ha=function(){this.g&&Es(this)},cn.setRequestHeader=function(e,t){this.v.append(e,t)},cn.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},cn.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ws.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ks=pn.JSON.parse;function Ts(e){Nr.call(this),this.headers=new Di,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ss,this.K=this.L=!1}kn(Ts,Nr);var Ss="",Cs=/^https?$/i,Ns=["POST","PUT"];function As(e){return"content-type"==e.toLowerCase()}function xs(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Rs(e),Ps(e)}function Rs(e){e.D||(e.D=!0,Ar(e,"complete"),Ar(e,"error"))}function Os(e){if(e.h&&void 0!==fn&&(!e.C[1]||4!=Ls(e)||2!=e.ba()))if(e.v&&4==Ls(e))zr(e.Fa,0,e);else if(Ar(e,"readystatechange"),4==Ls(e)){e.h=!1;try{const a=e.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.H).match(Ui)[1]||null;if(!i&&pn.self&&pn.self.location){var s=pn.self.location.protocol;i=s.substr(0,s.length-1)}r=!Cs.test(i?i.toLowerCase():"")}n=r}if(n)Ar(e,"complete"),Ar(e,"success");else{e.m=6;try{var o=2<Ls(e)?e.g.statusText:""}catch(e){o=""}e.j=o+" ["+e.ba()+"]",Rs(e)}}finally{Ps(e)}}}function Ps(e,t){if(e.g){Ds(e);const n=e.g,r=e.C[0]?mn:null;e.g=null,e.C=null,t||Ar(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function Ds(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(pn.clearTimeout(e.A),e.A=null)}function Ls(e){return e.g?e.g.readyState:0}function Ms(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Ss:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Us(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){let t="";return Fn(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):$i(e,t,n))}function Fs(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Vs(e){this.za=0,this.l=[],this.h=new Jr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Fs("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Fs("baseRetryDelayMs",5e3,e),this.$a=Fs("retryDelaySeedMs",1e4,e),this.Ya=Fs("forwardChannelMaxRetries",2,e),this.ra=Fs("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new os(e&&e.concurrentRequestLimit),this.Ca=new ms,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function js(e){if(Bs(e),3==e.G){var t=e.V++,n=Vi(e.F);$i(n,"SID",e.J),$i(n,"RID",t),$i(n,"TYPE","terminate"),Hs(e,n),(t=new yi(e,e.h,t,void 0)).K=2,t.v=Wi(Vi(n)),n=!1,pn.navigator&&pn.navigator.sendBeacon&&(n=pn.navigator.sendBeacon(t.v.toString(),"")),!n&&pn.Image&&((new Image).src=t.v,n=!0),n||(t.g=io(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Ci(t)}no(e)}function qs(e){e.g&&(Js(e),e.g.cancel(),e.g=null)}function Bs(e){qs(e),e.u&&(pn.clearTimeout(e.u),e.u=null),Xs(e),e.i.cancel(),e.m&&("number"==typeof e.m&&pn.clearTimeout(e.m),e.m=null)}function zs(e,t){e.l.push(new class{constructor(e,t){this.h=e,this.g=t}}(e.Za++,t)),3==e.G&&$s(e)}function $s(e){ls(e.i)||e.m||(e.m=!0,Ur(e.Ha,e),e.C=0)}function Ws(e,t){var n;n=t?t.m:e.V++;const r=Vi(e.F);$i(r,"SID",e.J),$i(r,"RID",n),$i(r,"AID",e.U),Hs(e,r),e.o&&e.s&&Us(r,e.o,e.s),n=new yi(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Ks(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),hs(e.i,n),Ei(n,r,t)}function Hs(e,t){e.j&&Pi({},(function(e,n){$i(t,n,e)}))}function Ks(e,t,n){n=Math.min(e.l.length,n);var r=e.j?En(e.j.Oa,e.j,e):null;e:{var i=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].h;const a=i[o].g;if(n-=t,0>n)t=Math.max(0,i[o].h-100),s=!1;else try{gs(a,e,"req"+n+"_")}catch(e){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function Gs(e){e.g||e.u||(e.Y=1,Ur(e.Ga,e),e.A=0)}function Qs(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=oi(En(e.Ga,e),eo(e,e.A)),e.A++,0))}function Js(e){null!=e.B&&(pn.clearTimeout(e.B),e.B=null)}function Ys(e){e.g=new yi(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Vi(e.oa);$i(t,"RID","rpc"),$i(t,"SID",e.J),$i(t,"CI",e.N?"0":"1"),$i(t,"AID",e.U),Hs(e,t),$i(t,"TYPE","xmlhttp"),e.o&&e.s&&Us(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Wi(Vi(t)),n.s=null,n.U=!0,Ii(n,e)}function Xs(e){null!=e.v&&(pn.clearTimeout(e.v),e.v=null)}function Zs(e,t){var n=null;if(e.g==t){Xs(e),Js(e),e.g=null;var r=2}else{if(!cs(e.i,t))return;n=t.D,ds(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Ar(r=ei(),new si(r,n,t,i)),$s(e)}else Gs(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(us(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=oi(En(e.Ha,e,t),eo(e,e.C)),e.C++,0)))}(e,t)||2==r&&Qs(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:to(e,5);break;case 4:to(e,10);break;case 3:to(e,6);break;default:to(e,2)}}function eo(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function to(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=En(e.jb,e);n||(n=new Fi("//www.google.com/images/cleardot.gif"),pn.location&&"http"==pn.location.protocol||ji(n,"https"),Wi(n)),function(e,t){const n=new Jr;if(pn.Image){const r=new Image;r.onload=In(ys,n,r,"TestLoadImage: loaded",!0,t),r.onerror=In(ys,n,r,"TestLoadImage: error",!1,t),r.onabort=In(ys,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=In(ys,n,r,"TestLoadImage: timeout",!1,t),pn.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ii(2);e.G=0,e.j&&e.j.va(t),no(e),Bs(e)}function no(e){e.G=0,e.I=-1,e.j&&(0==fs(e.i).length&&0==e.l.length||(e.i.i.length=0,xn(e.l),e.l.length=0),e.j.ua())}function ro(e,t,n){let r=function(e){return e instanceof Fi?Vi(e):new Fi(e,void 0)}(n);if(""!=r.i)t&&qi(r,t+"."+r.i),Bi(r,r.m);else{const e=pn.location;r=function(e,t,n,r){var i=new Fi(null,void 0);return e&&ji(i,e),t&&qi(i,t),n&&Bi(i,n),r&&(i.l=r),i}(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&Fn(e.aa,(function(e,t){$i(r,t,e)})),t=e.D,n=e.sa,t&&n&&$i(r,t,n),$i(r,"VER",e.ma),Hs(e,r),r}function io(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Ts(new vs({ib:!0})):new Ts(e.qa)).L=e.H,t}function so(){}function oo(){if(Hn&&!(10<=Number(ir)))throw Error("Environmental error: no available transport.")}function ao(e,t){Nr.call(this),this.g=new Vs(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Rn(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Rn(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new co(this)}function lo(e){pi.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function uo(){mi.call(this),this.status=1}function co(e){this.g=e}(cn=Ts.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():di.g(),this.C=this.u?ci(this.u):ci(di),this.g.onreadystatechange=En(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){return void xs(this,e)}e=n||"";const i=new Di(this.headers);r&&Pi(r,(function(e,t){i.set(t,e)})),r=function(e){e:{var t=As;const n=e.length,r="string"==typeof e?e.split(""):e;for(let i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=pn.FormData&&e instanceof pn.FormData,!(0<=Cn(Ns,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ds(this),0<this.B&&((this.K=function(e){return Hn&&rr()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=En(this.pa,this)):this.A=zr(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){xs(this,e)}},cn.pa=function(){void 0!==fn&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ar(this,"timeout"),this.abort(8))},cn.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ar(this,"complete"),Ar(this,"abort"),Ps(this))},cn.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ps(this,!0)),Ts.Z.M.call(this)},cn.Fa=function(){this.s||(this.F||this.v||this.l?Os(this):this.cb())},cn.cb=function(){Os(this)},cn.ba=function(){try{return 2<Ls(this)?this.g.status:-1}catch(e){return-1}},cn.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},cn.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ks(t)}},cn.Da=function(){return this.m},cn.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(cn=Vs.prototype).ma=8,cn.G=1,cn.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(e){}},cn.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new yi(this,this.h,e,void 0);let s=this.s;if(this.P&&(s?(s=Vn(s),qn(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Ks(this,i,t),$i(n=Vi(this.F),"RID",e),$i(n,"CVER",22),this.D&&$i(n,"X-HTTP-Session-Id",this.D),Hs(this,n),this.o&&s&&Us(n,this.o,s),hs(this.i,i),this.Ra&&$i(n,"TYPE","init"),this.ja?($i(n,"$req",t),$i(n,"SID","null"),i.$=!0,Ei(i,n,null)):Ei(i,n,t),this.G=2}}else 3==this.G&&(e?Ws(this,e):0==this.l.length||ls(this.i)||Ws(this))},cn.Ga=function(){if(this.u=null,Ys(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=oi(En(this.bb,this),e)}},cn.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ii(10),qs(this),Ys(this))},cn.ab=function(){null!=this.v&&(this.v=null,qs(this),Qs(this),ii(19))},cn.jb=function(e){e?(this.h.info("Successfully pinged google.com"),ii(2)):(this.h.info("Failed to ping google.com"),ii(1))},(cn=so.prototype).xa=function(){},cn.wa=function(){},cn.va=function(){},cn.ua=function(){},cn.Oa=function(){},oo.prototype.g=function(e,t){return new ao(e,t)},kn(ao,Nr),ao.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Ur(En(e.hb,e,t))),ii(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=ro(e,null,e.W),$s(e)},ao.prototype.close=function(){js(this.g)},ao.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,zs(this.g,t)}else this.v?((t={}).__data__=Rr(e),zs(this.g,t)):zs(this.g,e)},ao.prototype.M=function(){this.g.j=null,delete this.j,js(this.g),delete this.g,ao.Z.M.call(this)},kn(lo,pi),kn(uo,mi),kn(co,so),co.prototype.xa=function(){Ar(this.g,"a")},co.prototype.wa=function(e){Ar(this.g,new lo(e))},co.prototype.va=function(e){Ar(this.g,new uo(e))},co.prototype.ua=function(){Ar(this.g,"b")},oo.prototype.createWebChannel=oo.prototype.g,ao.prototype.send=ao.prototype.u,ao.prototype.open=ao.prototype.m,ao.prototype.close=ao.prototype.close,ai.NO_ERROR=0,ai.TIMEOUT=8,ai.HTTP_ERROR=6,li.COMPLETE="complete",hi.EventType=fi,fi.OPEN="a",fi.CLOSE="b",fi.ERROR="c",fi.MESSAGE="d",Nr.prototype.listen=Nr.prototype.N,Ts.prototype.listenOnce=Ts.prototype.O,Ts.prototype.getLastError=Ts.prototype.La,Ts.prototype.getLastErrorCode=Ts.prototype.Da,Ts.prototype.getStatus=Ts.prototype.ba,Ts.prototype.getResponseJson=Ts.prototype.Qa,Ts.prototype.getResponseText=Ts.prototype.ga,Ts.prototype.send=Ts.prototype.ea;var ho=dn.createWebChannelTransport=function(){return new oo},fo=dn.getStatEventTarget=function(){return ei()},po=dn.ErrorCode=ai,mo=dn.EventType=li,go=dn.Event=Xr,yo=dn.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},vo=dn.FetchXmlHttpFactory=vs,wo=dn.WebChannel=hi,bo=dn.XhrIo=Ts;const _o="@firebase/firestore";class Eo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Eo.UNAUTHENTICATED=new Eo(null),Eo.GOOGLE_CREDENTIALS=new Eo("google-credentials-uid"),Eo.FIRST_PARTY=new Eo("first-party-uid"),Eo.MOCK_USER=new Eo("mock-user");let Io="9.6.3";const ko=new Pt("@firebase/firestore");function To(){return ko.logLevel}function So(e,...t){if(ko.logLevel<=Nt.DEBUG){const n=t.map(Ao);ko.debug(`Firestore (${Io}): ${e}`,...n)}}function Co(e,...t){if(ko.logLevel<=Nt.ERROR){const n=t.map(Ao);ko.error(`Firestore (${Io}): ${e}`,...n)}}function No(e,...t){if(ko.logLevel<=Nt.WARN){const n=t.map(Ao);ko.warn(`Firestore (${Io}): ${e}`,...n)}}function Ao(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function xo(e="Unexpected state"){const t=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: `+e;throw Co(t),new Error(t)}function Ro(e,t){e||xo()}function Oo(e,t){return e}const Po={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Do extends ct{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Lo{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Mo{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Uo{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Eo.UNAUTHENTICATED)))}shutdown(){}}class Fo{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Vo{constructor(e){this.t=e,this.currentUser=Eo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Lo;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Lo,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{So("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(So("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Lo)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(So("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Ro("string"==typeof t.accessToken),new Mo(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ro(null===e||"string"==typeof e),new Eo(e)}}class jo{constructor(e,t,n){this.type="FirstParty",this.user=Eo.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class qo{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new jo(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(Eo.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Bo{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zo{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=n=>{e.enqueueRetryable((()=>(e=>(null!=e.error&&So("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`),t(e.token)))(n)))};const n=e=>{So("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.g.onInit((e=>n(e))),setTimeout((()=>{if(!this.appCheck){const e=this.g.getImmediate({optional:!0});e?n(e):So("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Ro("string"==typeof e.token),new Bo(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class $o{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.p(e),this.T=e=>t.writeSequenceNumber(e))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Wo(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}$o.I=-1;class Ho{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=Wo(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function Ko(e,t){return e<t?-1:e>t?1:0}function Go(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function Qo(e){return e+"\0"}class Jo{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Do(Po.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Do(Po.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Do(Po.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Do(Po.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Jo.fromMillis(Date.now())}static fromDate(e){return Jo.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Jo(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ko(this.nanoseconds,e.nanoseconds):Ko(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Yo{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Yo(e)}static min(){return new Yo(new Jo(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Xo(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Zo(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ea(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ta{constructor(e,t,n){void 0===t?t=0:t>e.length&&xo(),void 0===n?n=e.length-t:n>e.length-t&&xo(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ta.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ta?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class na extends ta{construct(e,t,n){return new na(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Do(Po.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new na(t)}static emptyPath(){return new na([])}}const ra=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ia extends ta{construct(e,t,n){return new ia(e,t,n)}static isValidIdentifier(e){return ra.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ia.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ia(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Do(Po.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Do(Po.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Do(Po.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Do(Po.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ia(t)}static emptyPath(){return new ia([])}}class sa{constructor(e){this.fields=e,e.sort(ia.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Go(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class oa{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new oa(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new oa(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ko(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}oa.EMPTY_BYTE_STRING=new oa("");const aa=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function la(e){if(Ro(!!e),"string"==typeof e){let t=0;const n=aa.exec(e);if(Ro(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ua(e.seconds),nanos:ua(e.nanos)}}function ua(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ca(e){return"string"==typeof e?oa.fromBase64String(e):oa.fromUint8Array(e)}function ha(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function da(e){const t=e.mapValue.fields.__previous_value__;return ha(t)?da(t):t}function fa(e){const t=la(e.mapValue.fields.__local_write_time__.timestampValue);return new Jo(t.seconds,t.nanos)}function pa(e){return null==e}function ma(e){return 0===e&&1/e==-1/0}function ga(e){return"number"==typeof e&&Number.isInteger(e)&&!ma(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}class ya{constructor(e){this.path=e}static fromPath(e){return new ya(na.fromString(e))}static fromName(e){return new ya(na.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===na.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return na.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ya(new na(e.slice()))}}function va(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ha(e)?4:10:xo()}function wa(e,t){if(e===t)return!0;const n=va(e);if(n!==va(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return fa(e).isEqual(fa(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=la(e.timestampValue),r=la(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ca(e.bytesValue).isEqual(ca(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ua(e.geoPointValue.latitude)===ua(t.geoPointValue.latitude)&&ua(e.geoPointValue.longitude)===ua(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ua(e.integerValue)===ua(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ua(e.doubleValue),r=ua(t.doubleValue);return n===r?ma(n)===ma(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Go(e.arrayValue.values||[],t.arrayValue.values||[],wa);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Xo(n)!==Xo(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!wa(n[e],r[e])))return!1;return!0}(e,t);default:return xo()}}function ba(e,t){return void 0!==(e.values||[]).find((e=>wa(e,t)))}function _a(e,t){if(e===t)return 0;const n=va(e),r=va(t);if(n!==r)return Ko(n,r);switch(n){case 0:return 0;case 1:return Ko(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ua(e.integerValue||e.doubleValue),r=ua(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ea(e.timestampValue,t.timestampValue);case 4:return Ea(fa(e),fa(t));case 5:return Ko(e.stringValue,t.stringValue);case 6:return function(e,t){const n=ca(e),r=ca(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=Ko(n[e],r[e]);if(0!==t)return t}return Ko(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Ko(ua(e.latitude),ua(t.latitude));return 0!==n?n:Ko(ua(e.longitude),ua(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=_a(n[e],r[e]);if(t)return t}return Ko(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let e=0;e<r.length&&e<s.length;++e){const t=Ko(r[e],s[e]);if(0!==t)return t;const o=_a(n[r[e]],i[s[e]]);if(0!==o)return o}return Ko(r.length,s.length)}(e.mapValue,t.mapValue);default:throw xo()}}function Ea(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ko(e,t);const n=la(e),r=la(t),i=Ko(n.seconds,r.seconds);return 0!==i?i:Ko(n.nanos,r.nanos)}function Ia(e){return ka(e)}function ka(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=la(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ca(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ya.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=ka(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${ka(e.fields[i])}`;return n+"}"}(e.mapValue):xo();var t,n}function Ta(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Sa(e){return!!e&&"integerValue"in e}function Ca(e){return!!e&&"arrayValue"in e}function Na(e){return!!e&&"nullValue"in e}function Aa(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function xa(e){return!!e&&"mapValue"in e}function Ra(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Zo(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Ra(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ra(e.arrayValue.values[n]);return t}return Object.assign({},e)}class Oa{constructor(e){this.value=e}static empty(){return new Oa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!xa(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ra(t)}setAll(e){let t=ia.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Ra(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());xa(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];xa(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Zo(t,((t,n)=>e[t]=n));for(const t of n)delete e[t]}clone(){return new Oa(Ra(this.value))}}function Pa(e){const t=[];return Zo(e.fields,((e,n)=>{const r=new ia([e]);if(xa(n)){const e=Pa(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new sa(t)}class Da{constructor(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(e){return new Da(e,0,Yo.min(),Oa.empty(),0)}static newFoundDocument(e,t,n){return new Da(e,1,t,n,0)}static newNoDocument(e,t){return new Da(e,2,t,Oa.empty(),0)}static newUnknownDocument(e,t){return new Da(e,3,t,Oa.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Oa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Oa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Da&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Da(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class La{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.R=null}}function Ma(e,t=null,n=[],r=[],i=null,s=null,o=null){return new La(e,t,n,r,i,s,o)}function Ua(e){const t=Oo(e);if(null===t.R){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>function(e){return e.field.canonicalString()+e.op.toString()+Ia(e.value)}(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),pa(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=Ja(t.startAt)),t.endAt&&(e+="|ub:",e+=Ja(t.endAt)),t.R=e}return t.R}function Fa(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Xa(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(n=e.filters[i],r=t.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!wa(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!el(e.startAt,t.startAt)&&el(e.endAt,t.endAt)}function Va(e){return ya.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class ja extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,n):new qa(e,t,n):"array-contains"===t?new Wa(e,n):"in"===t?new Ha(e,n):"not-in"===t?new Ka(e,n):"array-contains-any"===t?new Ga(e,n):new ja(e,t,n)}static P(e,t,n){return"in"===t?new Ba(e,n):new za(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(_a(t,this.value)):null!==t&&va(this.value)===va(t)&&this.v(_a(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return xo()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class qa extends ja{constructor(e,t,n){super(e,t,n),this.key=ya.fromName(n.referenceValue)}matches(e){const t=ya.comparator(e.key,this.key);return this.v(t)}}class Ba extends ja{constructor(e,t){super(e,"in",t),this.keys=$a(0,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class za extends ja{constructor(e,t){super(e,"not-in",t),this.keys=$a(0,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function $a(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>ya.fromName(e.referenceValue)))}class Wa extends ja{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ca(t)&&ba(t.arrayValue,this.value)}}class Ha extends ja{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ba(this.value.arrayValue,t)}}class Ka extends ja{constructor(e,t){super(e,"not-in",t)}matches(e){if(ba(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ba(this.value.arrayValue,t)}}class Ga extends ja{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ca(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>ba(this.value.arrayValue,e)))}}class Qa{constructor(e,t){this.position=e,this.before=t}}function Ja(e){return`${e.before?"b":"a"}:${e.position.map((e=>Ia(e))).join(",")}`}class Ya{constructor(e,t="asc"){this.field=e,this.dir=t}}function Xa(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Za(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?ya.comparator(ya.fromName(o.referenceValue),n.key):_a(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function el(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!wa(e.position[n],t.position[n]))return!1;return!0}class tl{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.S=null,this.D=null,this.startAt,this.endAt}}function nl(e,t,n,r,i,s,o,a){return new tl(e,t,n,r,i,s,o,a)}function rl(e){return new tl(e)}function il(e){return!pa(e.limit)&&"F"===e.limitType}function sl(e){return!pa(e.limit)&&"L"===e.limitType}function ol(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function al(e){for(const t of e.filters)if(t.V())return t.field;return null}function ll(e){return null!==e.collectionGroup}function ul(e){const t=Oo(e);if(null===t.S){t.S=[];const e=al(t),n=ol(t);if(null!==e&&null===n)e.isKeyField()||t.S.push(new Ya(e)),t.S.push(new Ya(ia.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.S.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new Ya(ia.keyField(),e))}}}return t.S}function cl(e){const t=Oo(e);if(!t.D)if("F"===t.limitType)t.D=Ma(t.path,t.collectionGroup,ul(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const n of ul(t)){const t="desc"===n.dir?"asc":"desc";e.push(new Ya(n.field,t))}const n=t.endAt?new Qa(t.endAt.position,!t.endAt.before):null,r=t.startAt?new Qa(t.startAt.position,!t.startAt.before):null;t.D=Ma(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.D}function hl(e,t,n){return new tl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function dl(e,t){return Fa(cl(e),cl(t))&&e.limitType===t.limitType}function fl(e){return`${Ua(cl(e))}|lt:${e.limitType}`}function pl(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>{return`${(t=e).field.canonicalString()} ${t.op} ${Ia(t.value)}`;var t})).join(", ")}]`),pa(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: "+Ja(e.startAt)),e.endAt&&(t+=", endAt: "+Ja(e.endAt)),`Target(${t})`}(cl(e))}; limitType=${e.limitType})`}function ml(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ya.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Za(e.startAt,ul(e),t)||e.endAt&&Za(e.endAt,ul(e),t))}(e,t)}function gl(e){return(t,n)=>{let r=!1;for(const i of ul(e)){const e=yl(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function yl(e,t,n){const r=e.field.isKeyField()?ya.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?_a(r,i):xo()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return xo()}}function vl(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ma(t)?"-0":t}}function wl(e){return{integerValue:""+e}}function bl(e,t){return ga(t)?wl(t):vl(e,t)}class _l{constructor(){this._=void 0}}function El(e,t,n){return e instanceof Tl?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Sl?Cl(e,t):e instanceof Nl?Al(e,t):function(e,t){const n=kl(e,t),r=Rl(n)+Rl(e.N);return Sa(n)&&Sa(e.N)?wl(r):vl(e.k,r)}(e,t)}function Il(e,t,n){return e instanceof Sl?Cl(e,t):e instanceof Nl?Al(e,t):n}function kl(e,t){return e instanceof xl?Sa(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Tl extends _l{}class Sl extends _l{constructor(e){super(),this.elements=e}}function Cl(e,t){const n=Ol(t);for(const t of e.elements)n.some((e=>wa(e,t)))||n.push(t);return{arrayValue:{values:n}}}class Nl extends _l{constructor(e){super(),this.elements=e}}function Al(e,t){let n=Ol(t);for(const t of e.elements)n=n.filter((e=>!wa(e,t)));return{arrayValue:{values:n}}}class xl extends _l{constructor(e,t){super(),this.k=e,this.N=t}}function Rl(e){return ua(e.integerValue||e.doubleValue)}function Ol(e){return Ca(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Pl{constructor(e,t){this.field=e,this.transform=t}}class Dl{constructor(e,t){this.version=e,this.transformResults=t}}class Ll{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ll}static exists(e){return new Ll(void 0,e)}static updateTime(e){return new Ll(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ml(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Ul{}function Fl(e,t,n){e instanceof zl?function(e,t,n){const r=e.value.clone(),i=Hl(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof $l?function(e,t,n){if(!Ml(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Hl(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Wl(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Vl(e,t,n){e instanceof zl?function(e,t,n){if(!Ml(e.precondition,t))return;const r=e.value.clone(),i=Kl(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Bl(t),r).setHasLocalMutations()}(e,t,n):e instanceof $l?function(e,t,n){if(!Ml(e.precondition,t))return;const r=Kl(e.fieldTransforms,n,t),i=t.data;i.setAll(Wl(e)),i.setAll(r),t.convertToFoundDocument(Bl(t),i).setHasLocalMutations()}(e,t,n):function(e,t){Ml(e.precondition,t)&&t.convertToNoDocument(Yo.min())}(e,t)}function jl(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=kl(r.transform,e||null);null!=i&&(null==n&&(n=Oa.empty()),n.set(r.field,i))}return n||null}function ql(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Go(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Sl&&t instanceof Sl||e instanceof Nl&&t instanceof Nl?Go(e.elements,t.elements,wa):e instanceof xl&&t instanceof xl?wa(e.N,t.N):e instanceof Tl&&t instanceof Tl}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Bl(e){return e.isFoundDocument()?e.version:Yo.min()}class zl extends Ul{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class $l extends Ul{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function Wl(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Hl(e,t,n){const r=new Map;Ro(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Il(o,a,n[i]))}return r}function Kl(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,El(e,s,t))}return r}class Gl extends Ul{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Ql extends Ul{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Jl{constructor(e){this.count=e}}var Yl,Xl;function Zl(e){switch(e){default:return xo();case Po.CANCELLED:case Po.UNKNOWN:case Po.DEADLINE_EXCEEDED:case Po.RESOURCE_EXHAUSTED:case Po.INTERNAL:case Po.UNAVAILABLE:case Po.UNAUTHENTICATED:return!1;case Po.INVALID_ARGUMENT:case Po.NOT_FOUND:case Po.ALREADY_EXISTS:case Po.PERMISSION_DENIED:case Po.FAILED_PRECONDITION:case Po.ABORTED:case Po.OUT_OF_RANGE:case Po.UNIMPLEMENTED:case Po.DATA_LOSS:return!0}}function eu(e){if(void 0===e)return Co("GRPC error has no .code"),Po.UNKNOWN;switch(e){case Yl.OK:return Po.OK;case Yl.CANCELLED:return Po.CANCELLED;case Yl.UNKNOWN:return Po.UNKNOWN;case Yl.DEADLINE_EXCEEDED:return Po.DEADLINE_EXCEEDED;case Yl.RESOURCE_EXHAUSTED:return Po.RESOURCE_EXHAUSTED;case Yl.INTERNAL:return Po.INTERNAL;case Yl.UNAVAILABLE:return Po.UNAVAILABLE;case Yl.UNAUTHENTICATED:return Po.UNAUTHENTICATED;case Yl.INVALID_ARGUMENT:return Po.INVALID_ARGUMENT;case Yl.NOT_FOUND:return Po.NOT_FOUND;case Yl.ALREADY_EXISTS:return Po.ALREADY_EXISTS;case Yl.PERMISSION_DENIED:return Po.PERMISSION_DENIED;case Yl.FAILED_PRECONDITION:return Po.FAILED_PRECONDITION;case Yl.ABORTED:return Po.ABORTED;case Yl.OUT_OF_RANGE:return Po.OUT_OF_RANGE;case Yl.UNIMPLEMENTED:return Po.UNIMPLEMENTED;case Yl.DATA_LOSS:return Po.DATA_LOSS;default:return xo()}}(Xl=Yl||(Yl={}))[Xl.OK=0]="OK",Xl[Xl.CANCELLED=1]="CANCELLED",Xl[Xl.UNKNOWN=2]="UNKNOWN",Xl[Xl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xl[Xl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xl[Xl.NOT_FOUND=5]="NOT_FOUND",Xl[Xl.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xl[Xl.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xl[Xl.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xl[Xl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xl[Xl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xl[Xl.ABORTED=10]="ABORTED",Xl[Xl.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xl[Xl.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xl[Xl.INTERNAL=13]="INTERNAL",Xl[Xl.UNAVAILABLE=14]="UNAVAILABLE",Xl[Xl.DATA_LOSS=15]="DATA_LOSS";class tu{constructor(e,t){this.comparator=e,this.root=t||ru.EMPTY}insert(e,t){return new tu(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ru.BLACK,null,null))}remove(e){return new tu(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ru.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nu(this.root,e,this.comparator,!1)}getReverseIterator(){return new nu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nu(this.root,e,this.comparator,!0)}}class nu{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ru{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ru.RED,this.left=null!=r?r:ru.EMPTY,this.right=null!=i?i:ru.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ru(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ru.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ru.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ru.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ru.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xo();if(this.right.isRed())throw xo();const e=this.left.check();if(e!==this.right.check())throw xo();return e+(this.isRed()?0:1)}}ru.EMPTY=null,ru.RED=!0,ru.BLACK=!1,ru.EMPTY=new class{constructor(){this.size=0}get key(){throw xo()}get value(){throw xo()}get color(){throw xo()}get left(){throw xo()}get right(){throw xo()}copy(e,t,n,r,i){return this}insert(e,t,n){return new ru(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class iu{constructor(e){this.comparator=e,this.data=new tu(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new su(this.data.getIterator())}getIteratorFrom(e){return new su(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof iu))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new iu(this.comparator);return t.data=e,t}}class su{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const ou=new tu(ya.comparator);function au(){return ou}const lu=new tu(ya.comparator);function uu(){return lu}const cu=new tu(ya.comparator);function hu(){return cu}const du=new iu(ya.comparator);function fu(...e){let t=du;for(const n of e)t=t.add(n);return t}const pu=new iu(Ko);function mu(){return pu}class gu{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,yu.createSynthesizedTargetChangeForCurrentChange(e,t)),new gu(Yo.min(),n,mu(),au(),fu())}}class yu{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new yu(oa.EMPTY_BYTE_STRING,t,fu(),fu(),fu())}}class vu{constructor(e,t,n,r){this.$=e,this.removedTargetIds=t,this.key=n,this.O=r}}class wu{constructor(e,t){this.targetId=e,this.M=t}}class bu{constructor(e,t,n=oa.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class _u{constructor(){this.F=0,this.L=ku(),this.B=oa.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.F}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=fu(),t=fu(),n=fu();return this.L.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:xo()}})),new yu(this.B,this.U,e,t,n)}H(){this.q=!1,this.L=ku()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.F+=1}Z(){this.F-=1}tt(){this.q=!0,this.U=!0}}class Eu{constructor(e){this.et=e,this.nt=new Map,this.st=au(),this.it=Iu(),this.rt=new iu(Ko)}ot(e){for(const t of e.$)e.O&&e.O.isFoundDocument()?this.ct(t,e.O):this.at(t,e.key,e.O);for(const t of e.removedTargetIds)this.at(t,e.key,e.O)}ut(e){this.forEachTarget(e,(t=>{const n=this.ht(t);switch(e.state){case 0:this.lt(t)&&n.W(e.resumeToken);break;case 1:n.Z(),n.K||n.H(),n.W(e.resumeToken);break;case 2:n.Z(),n.K||this.removeTarget(t);break;case 3:this.lt(t)&&(n.tt(),n.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),n.W(e.resumeToken));break;default:xo()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach(((e,n)=>{this.lt(n)&&t(n)}))}dt(e){const t=e.targetId,n=e.M.count,r=this.wt(t);if(r){const e=r.target;if(Va(e))if(0===n){const n=new ya(e.path);this.at(t,n,Da.newNoDocument(n,Yo.min()))}else Ro(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach(((n,r)=>{const i=this.wt(r);if(i){if(n.current&&Va(i.target)){const t=new ya(i.target.path);null!==this.st.get(t)||this.yt(r,t)||this.at(r,t,Da.newNoDocument(t,e))}n.j&&(t.set(r,n.G()),n.H())}}));let n=fu();this.it.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.wt(e);return!t||2===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))}));const r=new gu(e,t,this.rt,this.st,n);return this.st=au(),this.it=Iu(),this.rt=new iu(Ko),r}ct(e,t){if(!this.lt(e))return;const n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}at(e,t,n){if(!this.lt(e))return;const r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new _u,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new iu(Ko),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||So("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new _u),this.et.getRemoteKeysForTarget(e).forEach((t=>{this.at(e,t,null)}))}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function Iu(){return new tu(ya.comparator)}function ku(){return new tu(ya.comparator)}const Tu={asc:"ASCENDING",desc:"DESCENDING"},Su={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Cu{constructor(e,t){this.databaseId=e,this.C=t}}function Nu(e,t){return e.C?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Au(e,t){return e.C?t.toBase64():t.toUint8Array()}function xu(e,t){return Nu(e,t.toTimestamp())}function Ru(e){return Ro(!!e),Yo.fromTimestamp(function(e){const t=la(e);return new Jo(t.seconds,t.nanos)}(e))}function Ou(e,t){return function(e){return new na(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Pu(e){const t=na.fromString(e);return Ro(rc(t)),t}function Du(e,t){return Ou(e.databaseId,t.path)}function Lu(e,t){const n=Pu(t);if(n.get(1)!==e.databaseId.projectId)throw new Do(Po.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Do(Po.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ya(Vu(n))}function Mu(e,t){return Ou(e.databaseId,t)}function Uu(e){const t=Pu(e);return 4===t.length?na.emptyPath():Vu(t)}function Fu(e){return new na(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Vu(e){return Ro(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function ju(e,t,n){return{name:Du(e,t),fields:n.value.mapValue.fields}}function qu(e,t,n){const r=Lu(e,t.name),i=Ru(t.updateTime),s=new Oa({mapValue:{fields:t.fields}}),o=Da.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Bu(e,t){let n;if(t instanceof zl)n={update:ju(e,t.key,t.value)};else if(t instanceof Gl)n={delete:Du(e,t.key)};else if(t instanceof $l)n={update:ju(e,t.key,t.data),updateMask:nc(t.fieldMask)};else{if(!(t instanceof Ql))return xo();n={verify:Du(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Tl)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Sl)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Nl)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof xl)return{fieldPath:t.field.canonicalString(),increment:n.N};throw xo()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:xu(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:xo()}(e,t.precondition)),n}function zu(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Ll.updateTime(Ru(e.updateTime)):void 0!==e.exists?Ll.exists(e.exists):Ll.none()}(t.currentDocument):Ll.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Ro("REQUEST_TIME"===t.setToServerValue),n=new Tl;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Sl(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Nl(e)}else"increment"in t?n=new xl(e,t.increment):xo();const r=ia.fromServerFormat(t.fieldPath);return new Pl(r,n)}(e,t))):[];if(t.update){t.update.name;const i=Lu(e,t.update.name),s=new Oa({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new sa(t.map((e=>ia.fromServerFormat(e))))}(t.updateMask);return new $l(i,s,e,n,r)}return new zl(i,s,n,r)}if(t.delete){const r=Lu(e,t.delete);return new Gl(r,n)}if(t.verify){const r=Lu(e,t.verify);return new Ql(r,n)}return xo()}function $u(e,t){return{documents:[Mu(e,t.path)]}}function Wu(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Mu(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Mu(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map((e=>function(e){if("=="===e.op){if(Aa(e.value))return{unaryFilter:{field:Xu(e.field),op:"IS_NAN"}};if(Na(e.value))return{unaryFilter:{field:Xu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Aa(e.value))return{unaryFilter:{field:Xu(e.field),op:"IS_NOT_NAN"}};if(Na(e.value))return{unaryFilter:{field:Xu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xu(e.field),op:Yu(e.op),value:e.value}}}(e)));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Xu(e.field),direction:Ju(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(e,t){return e.C||pa(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=Gu(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Gu(t.endAt)),n}function Hu(e){let t=Uu(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ro(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=Ku(n.where));let o=[];n.orderBy&&(o=n.orderBy.map((e=>function(e){return new Ya(Zu(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,pa(t)?null:t}(n.limit));let l=null;n.startAt&&(l=Qu(n.startAt));let u=null;return n.endAt&&(u=Qu(n.endAt)),nl(t,i,o,s,a,"F",l,u)}function Ku(e){return e?void 0!==e.unaryFilter?[tc(e)]:void 0!==e.fieldFilter?[ec(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((e=>Ku(e))).reduce(((e,t)=>e.concat(t))):xo():[]}function Gu(e){return{before:e.before,values:e.position}}function Qu(e){const t=!!e.before,n=e.values||[];return new Qa(n,t)}function Ju(e){return Tu[e]}function Yu(e){return Su[e]}function Xu(e){return{fieldPath:e.canonicalString()}}function Zu(e){return ia.fromServerFormat(e.fieldPath)}function ec(e){return ja.create(Zu(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xo()}}(e.fieldFilter.op),e.fieldFilter.value)}function tc(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Zu(e.unaryFilter.field);return ja.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Zu(e.unaryFilter.field);return ja.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Zu(e.unaryFilter.field);return ja.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Zu(e.unaryFilter.field);return ja.create(i,"!=",{nullValue:"NULL_VALUE"});default:return xo()}}function nc(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function rc(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function ic(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=oc(t)),t=sc(e.get(n),t);return oc(t)}function sc(e,t){let n=t;const r=e.length;for(let t=0;t<r;t++){const r=e.charAt(t);switch(r){case"\0":n+="";break;case"":n+="";break;default:n+=r}}return n}function oc(e){return e+""}function ac(e){const t=e.length;if(Ro(t>=2),2===t)return Ro(""===e.charAt(0)&&""===e.charAt(1)),na.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("",s);switch((t<0||t>n)&&xo(),e.charAt(t+1)){case"":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"":i+=e.substring(s,t),i+="\0";break;case"":i+=e.substring(s,t+1);break;default:xo()}s=t+2}return new na(r)}class lc{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class uc{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}uc.store="owner",uc.key="owner";class cc{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}cc.store="mutationQueues",cc.keyPath="userId";class hc{constructor(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}hc.store="mutations",hc.keyPath="batchId",hc.userMutationsIndex="userMutationsIndex",hc.userMutationsKeyPath=["userId","batchId"];class dc{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,ic(t)]}static key(e,t,n){return[e,ic(t),n]}}dc.store="documentMutations",dc.PLACEHOLDER=new dc;class fc{constructor(e,t){this.path=e,this.readTime=t}}class pc{constructor(e,t){this.path=e,this.version=t}}class mc{constructor(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s}}mc.store="remoteDocuments",mc.readTimeIndex="readTimeIndex",mc.readTimeIndexPath="readTime",mc.collectionReadTimeIndex="collectionReadTimeIndex",mc.collectionReadTimeIndexPath=["parentPath","readTime"];class gc{constructor(e){this.byteSize=e}}gc.store="remoteDocumentGlobal",gc.key="remoteDocumentGlobalKey";class yc{constructor(e,t,n,r,i,s,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o}}yc.store="targets",yc.keyPath="targetId",yc.queryTargetsIndexName="queryTargetsIndex",yc.queryTargetsKeyPath=["canonicalId","targetId"];class vc{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}vc.store="targetDocuments",vc.keyPath=["targetId","path"],vc.documentTargetsIndex="documentTargetsIndex",vc.documentTargetsKeyPath=["path","targetId"];class wc{constructor(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}wc.key="targetGlobalKey",wc.store="targetGlobal";class bc{constructor(e,t){this.collectionId=e,this.parent=t}}bc.store="collectionParents",bc.keyPath=["collectionId","parent"];class _c{constructor(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}}_c.store="clientMetadata",_c.keyPath="clientId";class Ec{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}Ec.store="bundles",Ec.keyPath="bundleId";class Ic{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}Ic.store="namedQueries",Ic.keyPath="name";const kc=[cc.store,hc.store,dc.store,mc.store,yc.store,uc.store,wc.store,vc.store,_c.store,gc.store,bc.store,Ec.store,Ic.store],Tc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Sc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}class Cc{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xo(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Cc(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Cc?t:Cc.resolve(t)}catch(e){return Cc.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Cc.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Cc.reject(t)}static resolve(e){return new Cc(((t,n)=>{t(e)}))}static reject(e){return new Cc(((t,n)=>{n(e)}))}static waitFor(e){return new Cc(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Cc.resolve(!1);for(const n of e)t=t.next((e=>e?Cc.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}}class Nc{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.It=new Lo,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{t.error?this.It.reject(new Rc(e,t.error)):this.It.resolve()},this.transaction.onerror=t=>{const n=Mc(t.target.error);this.It.reject(new Rc(e,n))}}static open(e,t,n,r){try{return new Nc(t,e.transaction(r,n))}catch(e){throw new Rc(t,e)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(So("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new Pc(t)}}class Ac{constructor(e,t,n){this.name=e,this.version=t,this.Rt=n,12.2===Ac.bt(rt())&&Co("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return So("SimpleDb","Removing database:",e),Dc(window.indexedDB.deleteDatabase(e)).toPromise()}static Pt(){if(!ut())return!1;if(Ac.vt())return!0;const e=rt(),t=Ac.bt(e),n=0<t&&t<10,r=Ac.Vt(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,t){return e.store(t)}static bt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static Vt(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async Ct(e){return this.db||(So("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Rc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Do(Po.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Do(Po.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Rc(e,r))},r.onupgradeneeded=e=>{So("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.Rt.Nt(t,r.transaction,e.oldVersion,this.version).next((()=>{So("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.kt&&(this.db.onversionchange=e=>this.kt(e)),this.db}xt(e){this.kt=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.Ct(e);const t=Nc.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).catch((e=>(t.abort(e),Cc.reject(e)))).toPromise();return s.catch((()=>{})),await t.At,s}catch(e){const t="FirebaseError"!==e.name&&s<3;if(So("SimpleDb","Transaction failed with error:",e.message,"Retrying:",t),this.close(),!t)return Promise.reject(e)}}}close(){this.db&&this.db.close(),this.db=void 0}}class xc{constructor(e){this.$t=e,this.Ot=!1,this.Mt=null}get isDone(){return this.Ot}get Ft(){return this.Mt}set cursor(e){this.$t=e}done(){this.Ot=!0}Lt(e){this.Mt=e}delete(){return Dc(this.$t.delete())}}class Rc extends Do{constructor(e,t){super(Po.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Oc(e){return"IndexedDbTransactionError"===e.name}class Pc{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(So("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(So("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Dc(n)}add(e){return So("SimpleDb","ADD",this.store.name,e,e),Dc(this.store.add(e))}get(e){return Dc(this.store.get(e)).next((t=>(void 0===t&&(t=null),So("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return So("SimpleDb","DELETE",this.store.name,e),Dc(this.store.delete(e))}count(){return So("SimpleDb","COUNT",this.store.name),Dc(this.store.count())}Bt(e,t){const n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,((e,t)=>{r.push(t)})).next((()=>r))}qt(e,t){So("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.Kt=!1;const r=this.cursor(n);return this.Ut(r,((e,t,n)=>n.delete()))}jt(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.Ut(r,t)}Qt(e){const t=this.cursor({});return new Cc(((n,r)=>{t.onerror=e=>{const t=Mc(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}Ut(e,t){const n=[];return new Cc(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new xc(i),o=t(i.primaryKey,i.value,s);if(o instanceof Cc){const e=o.catch((e=>(s.done(),Cc.reject(e))));n.push(e)}s.isDone?r():null===s.Ft?i.continue():i.continue(s.Ft)}})).next((()=>Cc.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Dc(e){return new Cc(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Mc(e.target.error);n(t)}}))}let Lc=!1;function Mc(e){const t=Ac.bt(rt());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Do("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Lc||(Lc=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Uc extends Sc{constructor(e,t){super(),this.Wt=e,this.currentSequenceNumber=t}}function Fc(e,t){const n=Oo(e);return Ac.Dt(n.Wt,t)}class Vc{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];r.key.isEqual(e.key)&&Fl(r,e,n[t])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Vl(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Vl(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach((t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(Yo.min())}))}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),fu())}isEqual(e){return this.batchId===e.batchId&&Go(this.mutations,e.mutations,((e,t)=>ql(e,t)))&&Go(this.baseMutations,e.baseMutations,((e,t)=>ql(e,t)))}}class jc{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Ro(e.mutations.length===n.length);let r=hu();const i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new jc(e,t,n,r)}}class qc{constructor(e,t,n,r,i=Yo.min(),s=Yo.min(),o=oa.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(e){return new qc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new qc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new qc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Bc{constructor(e){this.Gt=e}}function zc(e,t){if(t.document)return qu(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=ya.fromSegments(t.noDocument.path),n=Gc(t.noDocument.readTime),r=Da.newNoDocument(e,n);return t.hasCommittedMutations?r.setHasCommittedMutations():r}if(t.unknownDocument){const e=ya.fromSegments(t.unknownDocument.path),n=Gc(t.unknownDocument.version);return Da.newUnknownDocument(e,n)}return xo()}function $c(e,t,n){const r=Wc(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){const n=function(e,t){return{name:Du(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Nu(e,t.version.toTimestamp())}}(e.Gt,t),s=t.hasCommittedMutations;return new mc(null,null,n,s,r,i)}if(t.isNoDocument()){const e=t.key.path.toArray(),n=Kc(t.version),s=t.hasCommittedMutations;return new mc(null,new fc(e,n),null,s,r,i)}if(t.isUnknownDocument()){const e=t.key.path.toArray(),n=Kc(t.version);return new mc(new pc(e,n),null,null,!0,r,i)}return xo()}function Wc(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Hc(e){const t=new Jo(e[0],e[1]);return Yo.fromTimestamp(t)}function Kc(e){const t=e.toTimestamp();return new lc(t.seconds,t.nanoseconds)}function Gc(e){const t=new Jo(e.seconds,e.nanoseconds);return Yo.fromTimestamp(t)}function Qc(e,t){const n=(t.baseMutations||[]).map((t=>zu(e.Gt,t)));for(let e=0;e<t.mutations.length-1;++e){const n=t.mutations[e];if(e+1<t.mutations.length&&void 0!==t.mutations[e+1].transform){const r=t.mutations[e+1];n.updateTransforms=r.transform.fieldTransforms,t.mutations.splice(e+1,1),++e}}const r=t.mutations.map((t=>zu(e.Gt,t))),i=Jo.fromMillis(t.localWriteTimeMs);return new Vc(t.batchId,i,n,r)}function Jc(e){const t=Gc(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Gc(e.lastLimboFreeSnapshotVersion):Yo.min();let r;var i;return void 0!==e.query.documents?(Ro(1===(i=e.query).documents.length),r=cl(rl(Uu(i.documents[0])))):r=function(e){return cl(Hu(e))}(e.query),new qc(r,e.targetId,0,e.lastListenSequenceNumber,t,n,oa.fromBase64String(e.resumeToken))}function Yc(e,t){const n=Kc(t.snapshotVersion),r=Kc(t.lastLimboFreeSnapshotVersion);let i;i=Va(t.target)?$u(e.Gt,t.target):Wu(e.Gt,t.target);const s=t.resumeToken.toBase64();return new yc(t.targetId,Ua(t.target),n,s,t.sequenceNumber,r,i)}function Xc(e){const t=Hu({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?hl(t,t.limit,"L"):t}class Zc{getBundleMetadata(e,t){return eh(e).get(t).next((e=>{if(e)return{id:(t=e).bundleId,createTime:Gc(t.createTime),version:t.version};var t}))}saveBundleMetadata(e,t){return eh(e).put({bundleId:(n=t).id,createTime:Kc(Ru(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return th(e).get(t).next((e=>{if(e)return{name:(t=e).name,query:Xc(t.bundledQuery),readTime:Gc(t.readTime)};var t}))}saveNamedQuery(e,t){return th(e).put(function(e){return{name:e.name,readTime:Kc(Ru(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function eh(e){return Fc(e,Ec.store)}function th(e){return Fc(e,Ic.store)}class nh{constructor(){this.zt=new rh}addToCollectionParentIndex(e,t){return this.zt.add(t),Cc.resolve()}getCollectionParents(e,t){return Cc.resolve(this.zt.getEntries(t))}}class rh{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new iu(na.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new iu(na.comparator)).toArray()}}class ih{constructor(){this.Ht=new rh}addToCollectionParentIndex(e,t){if(!this.Ht.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.Ht.add(t)}));const i={collectionId:n,parent:ic(r)};return sh(e).put(i)}return Cc.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Qo(t),""],!1,!0);return sh(e).Bt(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(ac(r.parent))}return n}))}}function sh(e){return Fc(e,bc.store)}const oh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ah{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new ah(e,ah.DEFAULT_COLLECTION_PERCENTILE,ah.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function lh(e,t,n){const r=e.store(hc.store),i=e.store(dc.store),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.jt({range:o},((e,t,n)=>(a++,n.delete())));s.push(l.next((()=>{Ro(1===a)})));const u=[];for(const e of n.mutations){const r=dc.key(t,e.key.path,n.batchId);s.push(i.delete(r)),u.push(e.key)}return Cc.waitFor(s).next((()=>u))}function uh(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw xo();t=e.noDocument}return JSON.stringify(t).length}ah.DEFAULT_COLLECTION_PERCENTILE=10,ah.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ah.DEFAULT=new ah(41943040,ah.DEFAULT_COLLECTION_PERCENTILE,ah.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ah.DISABLED=new ah(-1,0,0);class ch{constructor(e,t,n,r){this.userId=e,this.k=t,this.Jt=n,this.referenceDelegate=r,this.Yt={}}static Xt(e,t,n,r){Ro(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new ch(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return dh(e).jt({index:hc.userMutationsIndex,range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=fh(e),s=dh(e);return s.add({}).next((o=>{Ro("number"==typeof o);const a=new Vc(o,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>Bu(e.Gt,t))),i=n.mutations.map((t=>Bu(e.Gt,t)));return new hc(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(this.k,this.userId,a),u=[];let c=new iu(((e,t)=>Ko(e.canonicalString(),t.canonicalString())));for(const e of r){const t=dc.key(this.userId,e.key.path,o);c=c.add(e.key.path.popLast()),u.push(s.put(l)),u.push(i.put(t,dc.PLACEHOLDER))}return c.forEach((t=>{u.push(this.Jt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Yt[o]=a.keys()})),Cc.waitFor(u).next((()=>a))}))}lookupMutationBatch(e,t){return dh(e).get(t).next((e=>e?(Ro(e.userId===this.userId),Qc(this.k,e)):null))}Zt(e,t){return this.Yt[t]?Cc.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Yt[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return dh(e).jt({index:hc.userMutationsIndex,range:r},((e,t,r)=>{t.userId===this.userId&&(Ro(t.batchId>=n),i=Qc(this.k,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return dh(e).jt({index:hc.userMutationsIndex,range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return dh(e).Bt(hc.userMutationsIndex,t).next((e=>e.map((e=>Qc(this.k,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=dc.prefixForPath(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return fh(e).jt({range:r},((n,r,s)=>{const[o,a,l]=n,u=ac(a);if(o===this.userId&&t.path.isEqual(u))return dh(e).get(l).next((e=>{if(!e)throw xo();Ro(e.userId===this.userId),i.push(Qc(this.k,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new iu(Ko);const r=[];return t.forEach((t=>{const i=dc.prefixForPath(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=fh(e).jt({range:s},((e,r,i)=>{const[s,o,a]=e,l=ac(o);s===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(o)})),Cc.waitFor(r).next((()=>this.te(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=dc.prefixForPath(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new iu(Ko);return fh(e).jt({range:s},((e,t,i)=>{const[s,a,l]=e,u=ac(a);s===this.userId&&n.isPrefixOf(u)?u.length===r&&(o=o.add(l)):i.done()})).next((()=>this.te(e,o)))}te(e,t){const n=[],r=[];return t.forEach((t=>{r.push(dh(e).get(t).next((e=>{if(null===e)throw xo();Ro(e.userId===this.userId),n.push(Qc(this.k,e))})))})),Cc.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return lh(e.Wt,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.ee(t.batchId)})),Cc.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Cc.resolve();const n=IDBKeyRange.lowerBound(dc.prefixForUser(this.userId)),r=[];return fh(e).jt({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=ac(e[1]);r.push(t)}else n.done()})).next((()=>{Ro(0===r.length)}))}))}containsKey(e,t){return hh(e,this.userId,t)}ne(e){return ph(e).get(this.userId).next((e=>e||new cc(this.userId,-1,"")))}}function hh(e,t,n){const r=dc.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return fh(e).jt({range:s,Kt:!0},((e,n,r)=>{const[s,a,l]=e;s===t&&a===i&&(o=!0),r.done()})).next((()=>o))}function dh(e){return Fc(e,hc.store)}function fh(e){return Fc(e,dc.store)}function ph(e){return Fc(e,cc.store)}class mh{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new mh(0)}static re(){return new mh(-1)}}class gh{constructor(e,t){this.referenceDelegate=e,this.k=t}allocateTargetId(e){return this.oe(e).next((t=>{const n=new mh(t.highestTargetId);return t.highestTargetId=n.next(),this.ce(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.oe(e).next((e=>Yo.fromTimestamp(new Jo(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.oe(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.oe(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.ce(e,r))))}addTargetData(e,t){return this.ae(e,t).next((()=>this.oe(e).next((n=>(n.targetCount+=1,this.ue(t,n),this.ce(e,n))))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>yh(e).delete(t.targetId))).next((()=>this.oe(e))).next((t=>(Ro(t.targetCount>0),t.targetCount-=1,this.ce(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return yh(e).jt(((s,o)=>{const a=Jc(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>Cc.waitFor(i))).next((()=>r))}forEachTarget(e,t){return yh(e).jt(((e,n)=>{const r=Jc(n);t(r)}))}oe(e){return vh(e).get(wc.key).next((e=>(Ro(null!==e),e)))}ce(e,t){return vh(e).put(wc.key,t)}ae(e,t){return yh(e).put(Yc(this.k,t))}ue(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.oe(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Ua(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return yh(e).jt({range:r,index:yc.queryTargetsIndexName},((e,n,r)=>{const s=Jc(n);Fa(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=wh(e);return t.forEach((t=>{const s=ic(t.path);r.push(i.put(new vc(n,s))),r.push(this.referenceDelegate.addReference(e,n,t))})),Cc.waitFor(r)}removeMatchingKeys(e,t,n){const r=wh(e);return Cc.forEach(t,(t=>{const i=ic(t.path);return Cc.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=wh(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=wh(e);let i=fu();return r.jt({range:n,Kt:!0},((e,t,n)=>{const r=ac(e[1]),s=new ya(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=ic(t.path),r=IDBKeyRange.bound([n],[Qo(n)],!1,!0);let i=0;return wh(e).jt({index:vc.documentTargetsIndex,Kt:!0,range:r},(([e,t],n,r)=>{0!==e&&(i++,r.done())})).next((()=>i>0))}Et(e,t){return yh(e).get(t).next((e=>e?Jc(e):null))}}function yh(e){return Fc(e,yc.store)}function vh(e){return Fc(e,wc.store)}function wh(e){return Fc(e,vc.store)}async function bh(e){if(e.code!==Po.FAILED_PRECONDITION||e.message!==Tc)throw e;So("LocalStore","Unexpectedly lost primary lease")}function _h([e,t],[n,r]){const i=Ko(e,n);return 0===i?Ko(t,r):i}class Eh{constructor(e){this.he=e,this.buffer=new iu(_h),this.le=0}fe(){return++this.le}de(e){const t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();_h(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ih{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){const t=this.we?3e5:6e4;So("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this._e=null,this.we=!0;try{await e.collectGarbage(this.garbageCollector)}catch(e){Oc(e)?So("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await bh(e)}await this.me(e)}))}}class kh{constructor(e,t){this.ge=e,this.params=t}calculateTargetCount(e,t){return this.ge.ye(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Cc.resolve($o.I);const n=new Eh(t);return this.ge.forEachTarget(e,(e=>n.de(e.sequenceNumber))).next((()=>this.ge.pe(e,(e=>n.de(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.ge.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.ge.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(So("LruGarbageCollector","Garbage collection skipped; disabled"),Cc.resolve(oh)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(So("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oh):this.Te(e,t)))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,t){let n,r,i,s,o,a,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(So("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),To()<=Nt.DEBUG&&So("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${r} in `+(o-s)+"ms\n"+`\tRemoved ${i} targets in `+(a-o)+"ms\n"+`\tRemoved ${e} documents in `+(l-a)+"ms\n"+`Total Duration: ${l-u}ms`),Cc.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}class Th{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new kh(e,t)}(this,t)}ye(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Ee(e){let t=0;return this.pe(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pe(e,t){return this.Ie(e,((e,n)=>t(n)))}addReference(e,t,n){return Sh(e,n)}removeReference(e,t,n){return Sh(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Sh(e,t)}Ae(e,t){return function(e,t){let n=!1;return ph(e).Qt((r=>hh(e,r,t).next((e=>(e&&(n=!0),Cc.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Ie(e,((s,o)=>{if(o<=t){const t=this.Ae(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s),wh(e).delete([0,ic(s.path)]))))}));r.push(t)}})).next((()=>Cc.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Sh(e,t)}Ie(e,t){const n=wh(e);let r,i=$o.I;return n.jt({index:vc.documentTargetsIndex},(([e,n],{path:s,sequenceNumber:o})=>{0===e?(i!==$o.I&&t(new ya(ac(r)),i),i=o,r=s):i=$o.I})).next((()=>{i!==$o.I&&t(new ya(ac(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Sh(e,t){return wh(e).put(function(e,t){return new vc(0,ic(e.path),t)}(t,e.currentSequenceNumber))}class Ch{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}forEach(e){Zo(this.inner,((t,n)=>{for(const[t,r]of n)e(t,r)}))}isEmpty(){return ea(this.inner)}}class Nh{constructor(){this.changes=new Ch((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:Yo.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Da.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Cc.resolve(n.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ah{constructor(e,t){this.k=e,this.Jt=t}addEntry(e,t,n){return Oh(e).put(Ph(t),n)}removeEntry(e,t){const n=Oh(e),r=Ph(t);return n.delete(r)}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.Re(e,n))))}getEntry(e,t){return Oh(e).get(Ph(t)).next((e=>this.be(t,e)))}Pe(e,t){return Oh(e).get(Ph(t)).next((e=>({document:this.be(t,e),size:uh(e)})))}getEntries(e,t){let n=au();return this.ve(e,t,((e,t)=>{const r=this.be(e,t);n=n.insert(e,r)})).next((()=>n))}Ve(e,t){let n=au(),r=new tu(ya.comparator);return this.ve(e,t,((e,t)=>{const i=this.be(e,t);n=n.insert(e,i),r=r.insert(e,uh(t))})).next((()=>({documents:n,Se:r})))}ve(e,t,n){if(t.isEmpty())return Cc.resolve();const r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator();let s=i.getNext();return Oh(e).jt({range:r},((e,t,r)=>{const o=ya.fromSegments(e);for(;s&&ya.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,t),s=i.hasNext()?i.getNext():null),s?r.Lt(s.path.toArray()):r.done()})).next((()=>{for(;s;)n(s,null),s=i.hasNext()?i.getNext():null}))}getDocumentsMatchingQuery(e,t,n){let r=au();const i=t.path.length+1,s={};if(n.isEqual(Yo.min())){const e=t.path.toArray();s.range=IDBKeyRange.lowerBound(e)}else{const e=t.path.toArray(),r=Wc(n);s.range=IDBKeyRange.lowerBound([e,r],!0),s.index=mc.collectionReadTimeIndex}return Oh(e).jt(s,((e,n,s)=>{if(e.length!==i)return;const o=zc(this.k,n);t.path.isPrefixOf(o.key.path)?ml(t,o)&&(r=r.insert(o.key,o)):s.done()})).next((()=>r))}newChangeBuffer(e){return new xh(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return Rh(e).get(gc.key).next((e=>(Ro(!!e),e)))}Re(e,t){return Rh(e).put(gc.key,t)}be(e,t){if(t){const e=zc(this.k,t);if(!e.isNoDocument()||!e.version.isEqual(Yo.min()))return e}return Da.newInvalidDocument(e)}}class xh extends Nh{constructor(e,t){super(),this.De=e,this.trackRemovals=t,this.Ce=new Ch((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new iu(((e,t)=>Ko(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const o=this.Ce.get(i);if(s.document.isValidDocument()){const a=$c(this.De.k,s.document,this.getReadTime(i));r=r.add(i.path.popLast());const l=uh(a);n+=l-o,t.push(this.De.addEntry(e,i,a))}else if(n-=o,this.trackRemovals){const n=$c(this.De.k,Da.newNoDocument(i,Yo.min()),this.getReadTime(i));t.push(this.De.addEntry(e,i,n))}else t.push(this.De.removeEntry(e,i))})),r.forEach((n=>{t.push(this.De.Jt.addToCollectionParentIndex(e,n))})),t.push(this.De.updateMetadata(e,n)),Cc.waitFor(t)}getFromCache(e,t){return this.De.Pe(e,t).next((e=>(this.Ce.set(t,e.size),e.document)))}getAllFromCache(e,t){return this.De.Ve(e,t).next((({documents:e,Se:t})=>(t.forEach(((e,t)=>{this.Ce.set(e,t)})),e)))}}function Rh(e){return Fc(e,gc.store)}function Oh(e){return Fc(e,mc.store)}function Ph(e){return e.path.toArray()}class Dh{constructor(e){this.k=e}Nt(e,t,n,r){Ro(n<r&&n>=0&&r<=11);const i=new Nc("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(uc.store)}(e),function(e){e.createObjectStore(cc.store,{keyPath:cc.keyPath}),e.createObjectStore(hc.store,{keyPath:hc.keyPath,autoIncrement:!0}).createIndex(hc.userMutationsIndex,hc.userMutationsKeyPath,{unique:!0}),e.createObjectStore(dc.store)}(e),Lh(e),function(e){e.createObjectStore(mc.store)}(e));let s=Cc.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(vc.store),e.deleteObjectStore(yc.store),e.deleteObjectStore(wc.store)}(e),Lh(e)),s=s.next((()=>function(e){const t=e.store(wc.store),n=new wc(0,0,Yo.min().toTimestamp(),0);return t.put(wc.key,n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store(hc.store).Bt().next((n=>{e.deleteObjectStore(hc.store),e.createObjectStore(hc.store,{keyPath:hc.keyPath,autoIncrement:!0}).createIndex(hc.userMutationsIndex,hc.userMutationsKeyPath,{unique:!0});const r=t.store(hc.store),i=n.map((e=>r.put(e)));return Cc.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore(_c.store,{keyPath:_c.keyPath})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Ne(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore(gc.store)}(e),this.ke(i))))),n<7&&r>=7&&(s=s.next((()=>this.xe(i)))),n<8&&r>=8&&(s=s.next((()=>this.$e(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){const t=e.objectStore(mc.store);t.createIndex(mc.readTimeIndex,mc.readTimeIndexPath,{unique:!1}),t.createIndex(mc.collectionReadTimeIndex,mc.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(s=s.next((()=>this.Oe(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore(Ec.store,{keyPath:Ec.keyPath})}(e),function(e){e.createObjectStore(Ic.store,{keyPath:Ic.keyPath})}(e)}))),s}ke(e){let t=0;return e.store(mc.store).jt(((e,n)=>{t+=uh(n)})).next((()=>{const n=new gc(t);return e.store(gc.store).put(gc.key,n)}))}Ne(e){const t=e.store(cc.store),n=e.store(hc.store);return t.Bt().next((t=>Cc.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.Bt(hc.userMutationsIndex,r).next((n=>Cc.forEach(n,(n=>{Ro(n.userId===t.userId);const r=Qc(this.k,n);return lh(e,t.userId,r).next((()=>{}))}))))}))))}xe(e){const t=e.store(vc.store),n=e.store(mc.store);return e.store(wc.store).get(wc.key).next((e=>{const r=[];return n.jt(((n,i)=>{const s=new na(n),o=function(e){return[0,ic(e)]}(s);r.push(t.get(o).next((n=>n?Cc.resolve():(n=>t.put(new vc(0,ic(n),e.highestListenSequenceNumber)))(s))))})).next((()=>Cc.waitFor(r)))}))}$e(e,t){e.createObjectStore(bc.store,{keyPath:bc.keyPath});const n=t.store(bc.store),r=new rh,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:ic(r)})}};return t.store(mc.store).jt({Kt:!0},((e,t)=>{const n=new na(e);return i(n.popLast())})).next((()=>t.store(dc.store).jt({Kt:!0},(([e,t,n],r)=>{const s=ac(t);return i(s.popLast())}))))}Oe(e){const t=e.store(yc.store);return t.jt(((e,n)=>{const r=Jc(n),i=Yc(this.k,r);return t.put(i)}))}}function Lh(e){e.createObjectStore(vc.store,{keyPath:vc.keyPath}).createIndex(vc.documentTargetsIndex,vc.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(yc.store,{keyPath:yc.keyPath}).createIndex(yc.queryTargetsIndexName,yc.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(wc.store)}const Mh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Uh{constructor(e,t,n,r,i,s,o,a,l,u){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Me=i,this.window=s,this.document=o,this.Fe=l,this.Le=u,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=e=>Promise.resolve(),!Uh.Pt())throw new Do(Po.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Th(this,r),this.Ge=t+"main",this.k=new Bc(a),this.ze=new Ac(this.Ge,11,new Dh(this.k)),this.He=new gh(this.referenceDelegate,this.k),this.Jt=new ih,this.Je=function(e,t){return new Ah(e,t)}(this.k,this.Jt),this.Ye=new Zc,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===u&&Co("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Do(Po.FAILED_PRECONDITION,Mh);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.He.getHighestSequenceNumber(e)))})).then((e=>{this.Be=new $o(e,this.Fe)})).then((()=>{this.Ue=!0})).catch((e=>(this.ze&&this.ze.close(),Promise.reject(e))))}sn(e){return this.We=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget((async()=>{this.started&&await this.Ze()})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Vh(e).put(new _c(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next((()=>{if(this.isPrimary)return this.rn(e).next((e=>{e||(this.isPrimary=!1,this.Me.enqueueRetryable((()=>this.We(!1))))}))})).next((()=>this.on(e))).next((t=>this.isPrimary&&!t?this.cn(e).next((()=>!1)):!!t&&this.an(e).next((()=>!0)))))).catch((e=>{if(Oc(e))return So("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return So("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Me.enqueueRetryable((()=>this.We(e))),this.isPrimary=e}))}rn(e){return Fh(e).get(uc.key).next((e=>Cc.resolve(this.un(e))))}hn(e){return Vh(e).delete(this.clientId)}async ln(){if(this.isPrimary&&!this.fn(this.Qe,18e5)){this.Qe=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Fc(e,_c.store);return t.Bt().next((e=>{const n=this.dn(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return Cc.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.Xe)for(const t of e)this.Xe.removeItem(this.wn(t.clientId))}}nn(){this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Ze().then((()=>this.ln())).then((()=>this.nn()))))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?Cc.resolve(!0):Fh(e).get(uc.key).next((t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)){if(this.un(t)&&this.networkEnabled)return!0;if(!this.un(t)){if(!t.allowTabSynchronization)throw new Do(Po.FAILED_PRECONDITION,Mh);return!1}}return!(!this.networkEnabled||!this.inForeground)||Vh(e).Bt().next((e=>void 0===this.dn(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&So("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),await this.ze.runTransaction("shutdown","readwrite",[uc.store,_c.store],(e=>{const t=new Uc(e,$o.I);return this.cn(t).next((()=>this.hn(t)))})),this.ze.close(),this.pn()}dn(e,t){return e.filter((e=>this.fn(e.updateTimeMs,t)&&!this._n(e.clientId)))}Tn(){return this.runTransaction("getActiveClients","readonly",(e=>Vh(e).Bt().next((e=>this.dn(e,18e5).map((e=>e.clientId))))))}get started(){return this.Ue}getMutationQueue(e){return ch.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,t,n){So("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite";let i;return this.ze.runTransaction(e,r,kc,(r=>(i=new Uc(r,this.Be?this.Be.next():$o.I),"readwrite-primary"===t?this.rn(i).next((e=>!!e||this.on(i))).next((t=>{if(!t)throw Co(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Me.enqueueRetryable((()=>this.We(!1))),new Do(Po.FAILED_PRECONDITION,Tc);return n(i)})).next((e=>this.an(i).next((()=>e)))):this.En(i).next((()=>n(i)))))).then((e=>(i.raiseOnCommittedEvent(),e)))}En(e){return Fh(e).get(uc.key).next((e=>{if(null!==e&&this.fn(e.leaseTimestampMs,5e3)&&!this._n(e.ownerId)&&!this.un(e)&&!(this.Le||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Do(Po.FAILED_PRECONDITION,Mh)}))}an(e){const t=new uc(this.clientId,this.allowTabSynchronization,Date.now());return Fh(e).put(uc.key,t)}static Pt(){return Ac.Pt()}cn(e){const t=Fh(e);return t.get(uc.key).next((e=>this.un(e)?(So("IndexedDbPersistence","Releasing primary lease."),t.delete(uc.key)):Cc.resolve()))}fn(e,t){const n=Date.now();return!(e<n-t||e>n&&(Co(`Detected an update time that is in the future: ${e} > ${n}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Me.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze())))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),!st()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&this.Me.enterRestrictedMode(!0),this.Me.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var t;try{const n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return So("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return Co("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){Co("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Fh(e){return Fc(e,uc.store)}function Vh(e){return Fc(e,_c.store)}function jh(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class qh{constructor(e,t){this.progress=e,this.In=t}}class Bh{constructor(e,t,n){this.Je=e,this.An=t,this.Jt=n}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((n=>this.bn(e,t,n)))}bn(e,t,n){return this.Je.getEntry(e,t).next((e=>{for(const t of n)t.applyToLocalView(e);return e}))}Pn(e,t){e.forEach(((e,n)=>{for(const e of t)e.applyToLocalView(n)}))}vn(e,t){return this.Je.getEntries(e,t).next((t=>this.Vn(e,t).next((()=>t))))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>this.Pn(t,e)))}getDocumentsMatchingQuery(e,t,n){return function(e){return ya.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):ll(t)?this.Dn(e,t,n):this.Cn(e,t,n)}Sn(e,t){return this.Rn(e,new ya(t)).next((e=>{let t=uu();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}Dn(e,t,n){const r=t.collectionGroup;let i=uu();return this.Jt.getCollectionParents(e,r).next((s=>Cc.forEach(s,(s=>{const o=function(e,t){return new tl(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.Cn(e,o,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}Cn(e,t,n){let r,i;return this.Je.getDocumentsMatchingQuery(e,t,n).next((n=>(r=n,this.An.getAllMutationBatchesAffectingQuery(e,t)))).next((t=>(i=t,this.Nn(e,i,r).next((e=>{r=e;for(const e of i)for(const t of e.mutations){const n=t.key;let i=r.get(n);null==i&&(i=Da.newInvalidDocument(n),r=r.insert(n,i)),Vl(t,i,e.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))))).next((()=>(r.forEach(((e,n)=>{ml(t,n)||(r=r.remove(e))})),r)))}Nn(e,t,n){let r=fu();for(const e of t)for(const t of e.mutations)t instanceof $l&&null===n.get(t.key)&&(r=r.add(t.key));let i=n;return this.Je.getEntries(e,r).next((e=>(e.forEach(((e,t)=>{t.isFoundDocument()&&(i=i.insert(e,t))})),i)))}}class zh{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.kn=n,this.xn=r}static $n(e,t){let n=fu(),r=fu();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new zh(e,t.fromCache,n,r)}}class $h{On(e){this.Mn=e}getDocumentsMatchingQuery(e,t,n,r){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Yo.min())?this.Fn(e,t):this.Mn.vn(e,r).next((i=>{const s=this.Ln(t,i);return(il(t)||sl(t))&&this.Bn(t.limitType,s,r,n)?this.Fn(e,t):(To()<=Nt.DEBUG&&So("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),pl(t)),this.Mn.getDocumentsMatchingQuery(e,t,n).next((e=>(s.forEach((t=>{e=e.insert(t.key,t)})),e))))}))}Ln(e,t){let n=new iu(gl(e));return t.forEach(((t,r)=>{ml(e,r)&&(n=n.add(r))})),n}Bn(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Fn(e,t){return To()<=Nt.DEBUG&&So("QueryEngine","Using full collection scan to execute query:",pl(t)),this.Mn.getDocumentsMatchingQuery(e,t,Yo.min())}}class Wh{constructor(e,t,n,r){this.persistence=e,this.Un=t,this.k=r,this.qn=new tu(Ko),this.Kn=new Ch((e=>Ua(e)),Fa),this.jn=Yo.min(),this.An=e.getMutationQueue(n),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new Bh(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.qn)))}}function Hh(e,t,n,r){return new Wh(e,t,n,r)}async function Kh(e,t){const n=Oo(e);let r=n.An,i=n.Wn;const s=await n.persistence.runTransaction("Handle user change","readonly",(e=>{let s;return n.An.getAllMutationBatches(e).next((o=>(s=o,r=n.persistence.getMutationQueue(t),i=new Bh(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)))).next((t=>{const n=[],r=[];let o=fu();for(const e of s){n.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){r.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return i.vn(e,o).next((e=>({Gn:e,removedBatchIds:n,addedBatchIds:r})))}))}));return n.An=r,n.Wn=i,n.Un.On(n.Wn),s}function Gh(e){const t=Oo(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.He.getLastRemoteSnapshotVersion(e)))}function Qh(e,t,n,r,i){let s=fu();return n.forEach((e=>s=s.add(e))),t.getEntries(e,s).next((e=>{let s=au();return n.forEach(((n,o)=>{const a=e.get(n),l=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(Yo.min())?(t.removeEntry(n,l),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o,l),s=s.insert(n,o)):So("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),s}))}function Jh(e,t){const n=Oo(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t))))}function Yh(e,t){const n=Oo(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.He.getTargetData(e,t).next((i=>i?(r=i,Cc.resolve(r)):n.He.allocateTargetId(e).next((i=>(r=new qc(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}async function Xh(e,t,n){const r=Oo(e),i=r.qn.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Oc(e))throw e;So("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.qn=r.qn.remove(t),r.Kn.delete(i.target)}function Zh(e,t,n){const r=Oo(e);let i=Yo.min(),s=fu();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=Oo(e),i=r.Kn.get(n);return void 0!==i?Cc.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,cl(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.Un.getDocumentsMatchingQuery(e,t,n?i:Yo.min(),n?s:fu()))).next((e=>({documents:e,zn:s})))))}function ed(e,t){const n=Oo(e),r=Oo(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.Et(e,t).next((e=>e?e.target:null))))}function td(e){const t=Oo(e);return t.persistence.runTransaction("Get new document changes","readonly",(e=>function(e,t,n){const r=Oo(e);let i=au(),s=Wc(n);const o=Oh(t),a=IDBKeyRange.lowerBound(s,!0);return o.jt({index:mc.readTimeIndex,range:a},((e,t)=>{const n=zc(r.k,t);i=i.insert(n.key,n),s=t.readTime})).next((()=>({In:i,readTime:Hc(s)})))}(t.Qn,e,t.jn))).then((({In:e,readTime:n})=>(t.jn=n,e)))}async function nd(e,t,n=fu()){const r=await Yh(e,cl(Xc(t.bundledQuery))),i=Oo(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=Ru(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Ye.saveNamedQuery(e,t);const o=r.withResumeToken(oa.EMPTY_BYTE_STRING,s);return i.qn=i.qn.insert(o.targetId,o),i.He.updateTargetData(e,o).next((()=>i.He.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.He.addMatchingKeys(e,n,r.targetId))).next((()=>i.Ye.saveNamedQuery(e,t)))}))}class rd{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return Cc.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:Ru(n.createTime)}),Cc.resolve()}getNamedQuery(e,t){return Cc.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:Xc(e.bundledQuery),readTime:Ru(e.readTime)}}(t)),Cc.resolve()}}class id{constructor(){this.ts=new iu(sd.es),this.ns=new iu(sd.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const n=new sd(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}rs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.os(new sd(e,t))}cs(e,t){e.forEach((e=>this.removeReference(e,t)))}us(e){const t=new ya(new na([])),n=new sd(t,e),r=new sd(t,e+1),i=[];return this.ns.forEachInRange([n,r],(e=>{this.os(e),i.push(e.key)})),i}hs(){this.ts.forEach((e=>this.os(e)))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new ya(new na([])),n=new sd(t,e),r=new sd(t,e+1);let i=fu();return this.ns.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new sd(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class sd{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return ya.comparator(e.key,t.key)||Ko(e.fs,t.fs)}static ss(e,t){return Ko(e.fs,t.fs)||ya.comparator(e.key,t.key)}}class od{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new iu(sd.es)}checkEmpty(e){return Cc.resolve(0===this.An.length)}addMutationBatch(e,t,n,r){const i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];const s=new Vc(i,t,n,r);this.An.push(s);for(const t of r)this.ws=this.ws.add(new sd(t.key,i)),this.Jt.addToCollectionParentIndex(e,t.key.path.popLast());return Cc.resolve(s)}lookupMutationBatch(e,t){return Cc.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.gs(n),i=r<0?0:r;return Cc.resolve(this.An.length>i?this.An[i]:null)}getHighestUnacknowledgedBatchId(){return Cc.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return Cc.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new sd(t,0),r=new sd(t,Number.POSITIVE_INFINITY),i=[];return this.ws.forEachInRange([n,r],(e=>{const t=this._s(e.fs);i.push(t)})),Cc.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new iu(Ko);return t.forEach((e=>{const t=new sd(e,0),r=new sd(e,Number.POSITIVE_INFINITY);this.ws.forEachInRange([t,r],(e=>{n=n.add(e.fs)}))})),Cc.resolve(this.ys(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;ya.isDocumentKey(i)||(i=i.child(""));const s=new sd(new ya(i),0);let o=new iu(Ko);return this.ws.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)}),s),Cc.resolve(this.ys(o))}ys(e){const t=[];return e.forEach((e=>{const n=this._s(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Ro(0===this.ps(t.batchId,"removed")),this.An.shift();let n=this.ws;return Cc.forEach(t.mutations,(r=>{const i=new sd(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.ws=n}))}ee(e){}containsKey(e,t){const n=new sd(t,0),r=this.ws.firstAfterOrEqual(n);return Cc.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.An.length,Cc.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class ad{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new tu(ya.comparator),this.size=0}addEntry(e,t,n){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o,readTime:n}),this.size+=o-s,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Cc.resolve(n?n.document.mutableCopy():Da.newInvalidDocument(t))}getEntries(e,t){let n=au();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Da.newInvalidDocument(e))})),Cc.resolve(n)}getDocumentsMatchingQuery(e,t,n){let r=au();const i=new ya(t.path.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i,readTime:o}}=s.getNext();if(!t.path.isPrefixOf(e.path))break;o.compareTo(n)<=0||ml(t,i)&&(r=r.insert(i.key,i.mutableCopy()))}return Cc.resolve(r)}Es(e,t){return Cc.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new ld(this)}getSize(e){return Cc.resolve(this.size)}}class ld extends Nh{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.document.isValidDocument()?t.push(this.De.addEntry(e,r.document,this.getReadTime(n))):this.De.removeEntry(n)})),Cc.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class ud{constructor(e){this.persistence=e,this.Is=new Ch((e=>Ua(e)),Fa),this.lastRemoteSnapshotVersion=Yo.min(),this.highestTargetId=0,this.As=0,this.Rs=new id,this.targetCount=0,this.bs=mh.ie()}forEachTarget(e,t){return this.Is.forEach(((e,n)=>t(n))),Cc.resolve()}getLastRemoteSnapshotVersion(e){return Cc.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Cc.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),Cc.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),Cc.resolve()}ae(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new mh(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,Cc.resolve()}updateTargetData(e,t){return this.ae(t),Cc.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Cc.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Is.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Is.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),Cc.waitFor(i).next((()=>r))}getTargetCount(e){return Cc.resolve(this.targetCount)}getTargetData(e,t){const n=this.Is.get(t)||null;return Cc.resolve(n)}addMatchingKeys(e,t,n){return this.Rs.rs(t,n),Cc.resolve()}removeMatchingKeys(e,t,n){this.Rs.cs(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Cc.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),Cc.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Rs.ls(t);return Cc.resolve(n)}containsKey(e,t){return Cc.resolve(this.Rs.containsKey(t))}}class cd{constructor(e,t){this.Ps={},this.Be=new $o(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new ud(this),this.Jt=new nh,this.Je=function(e,t){return new ad(e,t)}(this.Jt,(e=>this.referenceDelegate.vs(e))),this.k=new Bc(t),this.Ye=new rd(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.Ps[e.toKey()];return t||(t=new od(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,n){So("MemoryPersistence","Starting transaction:",e);const r=new hd(this.Be.next());return this.referenceDelegate.Vs(),n(r).next((e=>this.referenceDelegate.Ss(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ds(e,t){return Cc.or(Object.values(this.Ps).map((n=>()=>n.containsKey(e,t))))}}class hd extends Sc{constructor(e){super(),this.currentSequenceNumber=e}}class dd{constructor(e){this.persistence=e,this.Cs=new id,this.Ns=null}static ks(e){return new dd(e)}get xs(){if(this.Ns)return this.Ns;throw xo()}addReference(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),Cc.resolve()}removeReference(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),Cc.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Cc.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach((e=>this.xs.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.xs.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Cc.forEach(this.xs,(n=>{const r=ya.fromPath(n);return this.$s(e,r).next((e=>{e||t.removeEntry(r)}))})).next((()=>(this.Ns=null,t.apply(e))))}updateLimboDocument(e,t){return this.$s(e,t).next((e=>{e?this.xs.delete(t.toString()):this.xs.add(t.toString())}))}vs(e){return 0}$s(e,t){return Cc.or([()=>Cc.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}function fd(e,t){return`firestore_clients_${e}_${t}`}function pd(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function md(e,t){return`firestore_targets_${e}_${t}`}class gd{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Os(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new Do(r.error.code,r.error.message))),s?new gd(e,t,r.state,i):(Co("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class yd{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Os(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Do(n.error.code,n.error.message))),i?new yd(e,n.state,r):(Co("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class vd{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Os(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=mu();for(let e=0;r&&e<n.activeTargetIds.length;++e)r=ga(n.activeTargetIds[e]),i=i.add(n.activeTargetIds[e]);return r?new vd(e,i):(Co("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class wd{constructor(e,t){this.clientId=e,this.onlineState=t}static Os(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new wd(t.clientId,t.onlineState):(Co("SharedClientState",`Failed to parse online state: ${e}`),null)}}class bd{constructor(){this.activeTargetIds=mu()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ms(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _d{constructor(e,t,n,r,i){this.window=e,this.Me=t,this.persistenceKey=n,this.Bs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new tu(Ko),this.started=!1,this.js=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Qs=fd(this.persistenceKey,this.Bs),this.Ws=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.Ks=this.Ks.insert(this.Bs,new bd),this.Gs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Js=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.Ys=function(e){return`firestore_bundle_loaded_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static Pt(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Tn();for(const t of e){if(t===this.Bs)continue;const e=this.getItem(fd(this.persistenceKey,t));if(e){const n=vd.Os(t,e);n&&(this.Ks=this.Ks.insert(n.clientId,n))}}this.Xs();const t=this.storage.getItem(this.Js);if(t){const e=this.Zs(t);e&&this.ti(e)}for(const e of this.js)this.qs(e);this.js=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let t=!1;return this.Ks.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,t,n){this.ni(e,t,n),this.si(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(md(this.persistenceKey,e));if(n){const r=yd.Os(e,n);r&&(t=r.state)}}return this.ii.Fs(e),this.Xs(),t}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(md(this.persistenceKey,e))}updateQueryState(e,t,n){this.ri(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.si(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ci()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return So("SharedClientState","READ",e,t),t}setItem(e,t){So("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){So("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){const t=e;if(t.storageArea===this.storage){if(So("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Qs)return void Co("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Gs.test(t.key)){if(null==t.newValue){const e=this.ai(t.key);return this.ui(e,null)}{const e=this.hi(t.key,t.newValue);if(e)return this.ui(e.clientId,e)}}else if(this.zs.test(t.key)){if(null!==t.newValue){const e=this.li(t.key,t.newValue);if(e)return this.fi(e)}}else if(this.Hs.test(t.key)){if(null!==t.newValue){const e=this.di(t.key,t.newValue);if(e)return this.wi(e)}}else if(t.key===this.Js){if(null!==t.newValue){const e=this.Zs(t.newValue);if(e)return this.ti(e)}}else if(t.key===this.Ws){const e=function(e){let t=$o.I;if(null!=e)try{const n=JSON.parse(e);Ro("number"==typeof n),t=n}catch(e){Co("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==$o.I&&this.sequenceNumberHandler(e)}else if(t.key===this.Ys)return this.syncEngine._i()}else this.js.push(t)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Ms())}ni(e,t,n){const r=new gd(this.currentUser,e,t,n),i=pd(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ms())}si(e){const t=pd(this.persistenceKey,this.currentUser,e);this.removeItem(t)}oi(e){const t={clientId:this.Bs,onlineState:e};this.storage.setItem(this.Js,JSON.stringify(t))}ri(e,t,n){const r=md(this.persistenceKey,e),i=new yd(e,t,n);this.setItem(r,i.Ms())}ci(){this.setItem(this.Ys,"value-not-used")}ai(e){const t=this.Gs.exec(e);return t?t[1]:null}hi(e,t){const n=this.ai(e);return vd.Os(n,t)}li(e,t){const n=this.zs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return gd.Os(new Eo(i),r,t)}di(e,t){const n=this.Hs.exec(e),r=Number(n[1]);return yd.Os(r,t)}Zs(e){return wd.Os(e)}async fi(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.mi(e.batchId,e.state,e.error);So("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,t){const n=t?this.Ks.insert(e,t):this.Ks.remove(e),r=this.ei(this.Ks),i=this.ei(n),s=[],o=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||o.push(e)})),this.syncEngine.yi(s,o).then((()=>{this.Ks=n}))}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let t=mu();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class Ed{constructor(){this.pi=new bd,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}updateQueryState(e,t,n){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new bd,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class Id{Ei(e){}shutdown(){}}class kd{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){So("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}bi(){So("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Td={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Sd{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Oi(e){this.ki(e)}Mi(e){this.xi(e)}}class Cd extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.Fi=t+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,n,r,i){const s=this.Ui(e,t);So("RestConnection","Sending: ",s,n);const o={};return this.qi(o,r,i),this.Ki(e,s,o,n).then((e=>(So("RestConnection","Received: ",e),e)),(t=>{throw No("RestConnection",`${e} failed with error: `,t,"url: ",s,"request:",n),t}))}ji(e,t,n,r,i){return this.Bi(e,t,n,r,i)}qi(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Io,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}Ui(e,t){const n=Td[e];return`${this.Fi}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,n,r){return new Promise(((i,s)=>{const o=new bo;o.listenOnce(mo.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case po.NO_ERROR:const t=o.getResponseJson();So("Connection","XHR received:",JSON.stringify(t)),i(t);break;case po.TIMEOUT:So("Connection",'RPC "'+e+'" timed out'),s(new Do(Po.DEADLINE_EXCEEDED,"Request time out"));break;case po.HTTP_ERROR:const n=o.getStatus();if(So("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const e=o.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Po).indexOf(t)>=0?t:Po.UNKNOWN}(e.status);s(new Do(t,e.message))}else s(new Do(Po.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Do(Po.UNAVAILABLE,"Connection failed."));break;default:xo()}}finally{So("Connection",'RPC "'+e+'" completed.')}}));const a=JSON.stringify(r);o.send(t,"POST",a,n,15)}))}Qi(e,t,n){const r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=ho(),s=fo(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new vo({})),this.qi(o.initMessageHeaders,t,n),it()||at()||rt().indexOf("Electron/")>=0||lt()||rt().indexOf("MSAppHost/")>=0||ot()||(o.httpHeadersOverwriteParam="$httpHeaders");const a=r.join("");So("Connection","Creating WebChannel: "+a,o);const l=i.createWebChannel(a,o);let u=!1,c=!1;const h=new Sd({Vi:e=>{c?So("Connection","Not sending because WebChannel is closed:",e):(u||(So("Connection","Opening WebChannel transport."),l.open(),u=!0),So("Connection","WebChannel sending:",e),l.send(e))},Si:()=>l.close()}),d=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return d(l,wo.EventType.OPEN,(()=>{c||So("Connection","WebChannel transport opened.")})),d(l,wo.EventType.CLOSE,(()=>{c||(c=!0,So("Connection","WebChannel transport closed"),h.Oi())})),d(l,wo.EventType.ERROR,(e=>{c||(c=!0,No("Connection","WebChannel transport errored:",e),h.Oi(new Do(Po.UNAVAILABLE,"The operation could not be completed")))})),d(l,wo.EventType.MESSAGE,(e=>{var t;if(!c){const n=e.data[0];Ro(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){So("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=Yl[e];if(void 0!==t)return eu(t)}(e),n=i.message;void 0===t&&(t=Po.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),c=!0,h.Oi(new Do(t,n)),l.close()}else So("Connection","WebChannel received:",n),h.Mi(n)}})),d(s,go.STAT_EVENT,(e=>{e.stat===yo.PROXY?So("Connection","Detected buffering proxy"):e.stat===yo.NOPROXY&&So("Connection","Detected no buffering proxy")})),setTimeout((()=>{h.$i()}),0),h}}function Nd(){return"undefined"!=typeof window?window:null}function Ad(){return"undefined"!=typeof document?document:null}function xd(e){return new Cu(e,!0)}class Rd{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Me=e,this.timerId=t,this.Wi=n,this.Gi=r,this.zi=i,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),n=Math.max(0,Date.now()-this.Yi),r=Math.max(0,t-n);r>0&&So("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,r,(()=>(this.Yi=Date.now(),e()))),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class Od{constructor(e,t,n,r,i,s,o,a){this.Me=e,this.nr=n,this.sr=r,this.ir=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new Rd(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}async stop(){this.hr()&&await this.close(0)}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,(()=>this.mr())))}gr(e){this.yr(),this.stream.send(e)}async mr(){if(this.lr())return this.close(0)}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}async close(e,t){this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==e?this.ur.reset():t&&t.code===Po.RESOURCE_EXHAUSTED?(Co(t.toString()),Co("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):t&&t.code===Po.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ni(t)}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.rr===t&&this.Ir(e,n)}),(t=>{e((()=>{const e=new Do(Po.UNKNOWN,"Fetching auth token failed: "+t.message);return this.Ar(e)}))}))}Ir(e,t){const n=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((()=>{n((()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,(()=>(this.lr()&&(this.state=3),Promise.resolve()))),this.listener.Di())))})),this.stream.Ni((e=>{n((()=>this.Ar(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}dr(){this.state=5,this.ur.Zi((async()=>{this.state=0,this.start()}))}Ar(e){return So("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Me.enqueueAndForget((()=>this.rr===e?t():(So("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Pd extends Od{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.k=i}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:xo()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.C?(Ro(void 0===t||"string"==typeof t),oa.fromBase64String(t||"")):(Ro(void 0===t||t instanceof Uint8Array),oa.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Po.UNKNOWN:eu(e.code);return new Do(t,e.message||"")}(o);n=new bu(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Lu(e,r.document.name),s=Ru(r.document.updateTime),o=new Oa({mapValue:{fields:r.document.fields}}),a=Da.newFoundDocument(i,s,o),l=r.targetIds||[],u=r.removedTargetIds||[];n=new vu(l,u,a.key,a)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Lu(e,r.document),s=r.readTime?Ru(r.readTime):Yo.min(),o=Da.newNoDocument(i,s),a=r.removedTargetIds||[];n=new vu([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Lu(e,r.document),s=r.removedTargetIds||[];n=new vu([],s,i,null)}else{if(!("filter"in t))return xo();{t.filter;const e=t.filter;e.targetId;const r=e.count||0,i=new Jl(r),s=e.targetId;n=new wu(s,i)}}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return Yo.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Yo.min():t.readTime?Ru(t.readTime):Yo.min()}(e);return this.listener.br(t,n)}Pr(e){const t={};t.database=Fu(this.k),t.addTarget=function(e,t){let n;const r=t.target;return n=Va(r)?{documents:$u(e,r)}:{query:Wu(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Au(e,t.resumeToken):t.snapshotVersion.compareTo(Yo.min())>0&&(n.readTime=Nu(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return xo()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}vr(e){const t={};t.database=Fu(this.k),t.removeTarget=e,this.gr(t)}}class Dd extends Od{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.k=i,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(Ro(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function(e,t){return e&&e.length>0?(Ro(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Ru(e.updateTime):Ru(t);return n.isEqual(Yo.min())&&(n=Ru(t)),new Dl(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Ru(e.commitTime);return this.listener.Cr(n,t)}return Ro(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=Fu(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Bu(this.k,e)))};this.gr(t)}}class Ld extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=n,this.k=r,this.$r=!1}Or(){if(this.$r)throw new Do(Po.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,n){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.ir.Bi(e,t,n,r,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Po.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Do(Po.UNKNOWN,e.toString())}))}ji(e,t,n){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.ir.ji(e,t,n,r,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Po.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Do(Po.UNKNOWN,e.toString())}))}terminate(){this.$r=!0}}class Md{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve()))))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(Co(t),this.Lr=!1):So("OnlineStateTracker",t)}jr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class Ud{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=i,this.Hr.Ei((e=>{n.enqueueAndForget((async()=>{Hd(this)&&(So("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Oo(e);t.Gr.add(4),await Vd(t),t.Jr.set("Unknown"),t.Gr.delete(4),await Fd(t)}(this))}))})),this.Jr=new Md(n,r)}}async function Fd(e){if(Hd(e))for(const t of e.zr)await t(!0)}async function Vd(e){for(const t of e.zr)await t(!1)}function jd(e,t){const n=Oo(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),Wd(n)?$d(n):cf(n).lr()&&Bd(n,t))}function qd(e,t){const n=Oo(e),r=cf(n);n.Wr.delete(t),r.lr()&&zd(n,t),0===n.Wr.size&&(r.lr()?r._r():Hd(n)&&n.Jr.set("Unknown"))}function Bd(e,t){e.Yr.X(t.targetId),cf(e).Pr(t)}function zd(e,t){e.Yr.X(t),cf(e).vr(t)}function $d(e){e.Yr=new Eu({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.Wr.get(t)||null}),cf(e).start(),e.Jr.Br()}function Wd(e){return Hd(e)&&!cf(e).hr()&&e.Wr.size>0}function Hd(e){return 0===Oo(e).Gr.size}function Kd(e){e.Yr=void 0}async function Gd(e){e.Wr.forEach(((t,n)=>{Bd(e,t)}))}async function Qd(e,t){Kd(e),Wd(e)?(e.Jr.Kr(t),$d(e)):e.Jr.set("Unknown")}async function Jd(e,t,n){if(e.Jr.set("Online"),t instanceof bu&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Wr.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Wr.delete(r),e.Yr.removeTarget(r))}(e,t)}catch(n){So("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Yd(e,n)}else if(t instanceof vu?e.Yr.ot(t):t instanceof wu?e.Yr.dt(t):e.Yr.ut(t),!n.isEqual(Yo.min()))try{const t=await Gh(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Yr.gt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((t=>{const n=e.Wr.get(t);if(!n)return;e.Wr.set(t,n.withResumeToken(oa.EMPTY_BYTE_STRING,n.snapshotVersion)),zd(e,t);const r=new qc(n.target,t,1,n.sequenceNumber);Bd(e,r)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){So("RemoteStore","Failed to raise snapshot:",t),await Yd(e,t)}}async function Yd(e,t,n){if(!Oc(t))throw t;e.Gr.add(1),await Vd(e),e.Jr.set("Offline"),n||(n=()=>Gh(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{So("RemoteStore","Retrying IndexedDB access"),await n(),e.Gr.delete(1),await Fd(e)}))}function Xd(e,t){return t().catch((n=>Yd(e,n,t)))}async function Zd(e){const t=Oo(e),n=hf(t);let r=t.Qr.length>0?t.Qr[t.Qr.length-1].batchId:-1;for(;ef(t);)try{const e=await Jh(t.localStore,r);if(null===e){0===t.Qr.length&&n._r();break}r=e.batchId,tf(t,e)}catch(e){await Yd(t,e)}nf(t)&&rf(t)}function ef(e){return Hd(e)&&e.Qr.length<10}function tf(e,t){e.Qr.push(t);const n=hf(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function nf(e){return Hd(e)&&!hf(e).hr()&&e.Qr.length>0}function rf(e){hf(e).start()}async function sf(e){hf(e).kr()}async function of(e){const t=hf(e);for(const n of e.Qr)t.Dr(n.mutations)}async function af(e,t,n){const r=e.Qr.shift(),i=jc.from(r,t,n);await Xd(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Zd(e)}async function lf(e,t){t&&hf(e).Sr&&await async function(e,t){if(Zl(n=t.code)&&n!==Po.ABORTED){const n=e.Qr.shift();hf(e).wr(),await Xd(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Zd(e)}var n}(e,t),nf(e)&&rf(e)}async function uf(e,t){const n=Oo(e);t?(n.Gr.delete(2),await Fd(n)):t||(n.Gr.add(2),await Vd(n),n.Jr.set("Unknown"))}function cf(e){return e.Xr||(e.Xr=function(e,t,n){const r=Oo(e);return r.Or(),new Pd(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:Gd.bind(null,e),Ni:Qd.bind(null,e),br:Jd.bind(null,e)}),e.zr.push((async t=>{t?(e.Xr.wr(),Wd(e)?$d(e):e.Jr.set("Unknown")):(await e.Xr.stop(),Kd(e))}))),e.Xr}function hf(e){return e.Zr||(e.Zr=function(e,t,n){const r=Oo(e);return r.Or(),new Dd(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:sf.bind(null,e),Ni:lf.bind(null,e),Nr:of.bind(null,e),Cr:af.bind(null,e)}),e.zr.push((async t=>{t?(e.Zr.wr(),await Zd(e)):(await e.Zr.stop(),e.Qr.length>0&&(So("RemoteStore",`Stopping write stream with ${e.Qr.length} pending writes`),e.Qr=[]))}))),e.Zr}class df{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Lo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new df(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Do(Po.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ff(e,t){if(Co("AsyncQueue",`${t}: ${e}`),Oc(e))return new Do(Po.UNAVAILABLE,`${t}: ${e}`);throw e}class pf{constructor(e){this.comparator=e?(t,n)=>e(t,n)||ya.comparator(t.key,n.key):(e,t)=>ya.comparator(e.key,t.key),this.keyedMap=uu(),this.sortedSet=new tu(this.comparator)}static emptySet(e){return new pf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof pf))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new pf;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class mf{constructor(){this.eo=new tu(ya.comparator)}track(e){const t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):xo():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal(((t,n)=>{e.push(n)})),e}}class gf{constructor(e,t,n,r,i,s,o,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new gf(e,t,pf.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class yf{constructor(){this.so=void 0,this.listeners=[]}}class vf{constructor(){this.queries=new Ch((e=>fl(e)),dl),this.onlineState="Unknown",this.io=new Set}}async function wf(e,t){const n=Oo(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new yf),i)try{s.so=await n.onListen(r)}catch(e){const n=ff(e,`Initialization of query '${pl(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.ro(n.onlineState),s.so&&t.oo(s.so)&&If(n)}async function bf(e,t){const n=Oo(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function _f(e,t){const n=Oo(e);let r=!1;for(const e of t){const t=e.query,i=n.queries.get(t);if(i){for(const t of i.listeners)t.oo(e)&&(r=!0);i.so=e}}r&&If(n)}function Ef(e,t,n){const r=Oo(e),i=r.queries.get(t);if(i)for(const e of i.listeners)e.onError(n);r.queries.delete(t)}function If(e){e.io.forEach((e=>{e.next()}))}class kf{constructor(e,t,n){this.query=e,this.co=t,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=n||{}}oo(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new gf(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.ao?this.ho(e)&&(this.co.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.co.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return!(this.options.wo&&n||e.docs.isEmpty()&&"Offline"!==t)}ho(e){if(e.docChanges.length>0)return!0;const t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}fo(e){e=gf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}class Tf{constructor(e,t){this.payload=e,this.byteLength=t}_o(){return"metadata"in this.payload}}class Sf{constructor(e){this.k=e}Hn(e){return Lu(this.k,e)}Jn(e){return e.metadata.exists?qu(this.k,e.document,!1):Da.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return Ru(e)}}class Cf{constructor(e,t,n){this.mo=e,this.localStore=t,this.k=n,this.queries=[],this.documents=[],this.progress=Nf(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}po(e){const t=new Map,n=new Sf(this.k);for(const r of e)if(r.metadata.queries){const e=n.Hn(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||fu()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=Oo(e);let s=fu(),o=au(),a=hu();for(const e of n){const n=t.Hn(e.metadata.name);e.document&&(s=s.add(n)),o=o.insert(n,t.Jn(e)),a=a.insert(n,t.Yn(e.metadata.readTime))}const l=i.Qn.newChangeBuffer({trackRemovals:!0}),u=await Yh(i,function(e){return cl(rl(na.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>Qh(e,l,o,Yo.min(),a).next((t=>(l.apply(e),t))).next((t=>i.He.removeMatchingKeysForTargetId(e,u.targetId).next((()=>i.He.addMatchingKeys(e,s,u.targetId))).next((()=>i.Wn.Vn(e,t))).next((()=>t))))))}(this.localStore,new Sf(this.k),this.documents,this.mo.id),t=this.po(this.documents);for(const e of this.queries)await nd(this.localStore,e,t.get(e.name));return this.progress.taskState="Success",new qh(Object.assign({},this.progress),e)}}function Nf(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class Af{constructor(e){this.key=e}}class xf{constructor(e){this.key=e}}class Rf{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=fu(),this.mutatedKeys=fu(),this.Ao=gl(e),this.Ro=new pf(this.Ao)}get bo(){return this.To}Po(e,t){const n=t?t.vo:new mf,r=t?t.Ro:this.Ro;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a=il(this.query)&&r.size===this.query.limit?r.last():null,l=sl(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=ml(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.Vo(u,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.Ao(c,a)>0||l&&this.Ao(c,l)<0)&&(o=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(a||l)&&(o=!0)),f&&(c?(s=s.add(c),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),il(this.query)||sl(this.query))for(;s.size>this.query.limit;){const e=il(this.query)?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ro:s,vo:n,Bn:o,mutatedKeys:i}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const i=e.vo.no();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xo()}};return n(e)-n(t)}(e.type,t.type)||this.Ao(e.doc,t.doc))),this.So(n);const s=t?this.Do():[],o=0===this.Io.size&&this.current?1:0,a=o!==this.Eo;return this.Eo=o,0!==i.length||a?{snapshot:new gf(this.query,e.Ro,r,i,e.mutatedKeys,0===o,a,!1),Co:s}:{Co:s}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new mf,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach((e=>this.To=this.To.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.To=this.To.delete(e))),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=fu(),this.Ro.forEach((e=>{this.No(e.key)&&(this.Io=this.Io.add(e.key))}));const t=[];return e.forEach((e=>{this.Io.has(e)||t.push(new xf(e))})),this.Io.forEach((n=>{e.has(n)||t.push(new Af(n))})),t}ko(e){this.To=e.zn,this.Io=fu();const t=this.Po(e.documents);return this.applyChanges(t,!0)}xo(){return gf.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class Of{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Pf{constructor(e){this.key=e,this.$o=!1}}class Df{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Oo={},this.Mo=new Ch((e=>fl(e)),dl),this.Fo=new Map,this.Lo=new Set,this.Bo=new tu(ya.comparator),this.Uo=new Map,this.qo=new id,this.Ko={},this.jo=new Map,this.Qo=mh.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}async function Lf(e,t){const n=ap(e);let r,i;const s=n.Mo.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.xo();else{const e=await Yh(n.localStore,cl(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Mf(n,t,r,"current"===s),n.isPrimaryClient&&jd(n.remoteStore,e)}return i}async function Mf(e,t,n,r){e.Go=(t,n,r)=>async function(e,t,n,r){let i=t.view.Po(n);i.Bn&&(i=await Zh(e.localStore,t.query,!1).then((({documents:e})=>t.view.Po(e,i))));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return Kf(e,t.targetId,o.Co),o.snapshot}(e,t,n,r);const i=await Zh(e.localStore,t,!0),s=new Rf(t,i.zn),o=s.Po(i.documents),a=yu.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),l=s.applyChanges(o,e.isPrimaryClient,a);Kf(e,n,l.Co);const u=new Of(t,n,s);return e.Mo.set(t,u),e.Fo.has(n)?e.Fo.get(n).push(t):e.Fo.set(n,[t]),l.snapshot}async function Uf(e,t){const n=Oo(e),r=n.Mo.get(t),i=n.Fo.get(r.targetId);if(i.length>1)return n.Fo.set(r.targetId,i.filter((e=>!dl(e,t)))),void n.Mo.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Xh(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),qd(n.remoteStore,r.targetId),Wf(n,r.targetId)})).catch(bh)):(Wf(n,r.targetId),await Xh(n.localStore,r.targetId,!0))}async function Ff(e,t){const n=Oo(e);try{const e=await function(e,t){const n=Oo(e),r=t.snapshotVersion;let i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.He.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.He.addMatchingKeys(e,s.addedDocuments,a))));let u=l.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(a)?u=u.withResumeToken(oa.EMPTY_BYTE_STRING,Yo.min()).withLastLimboFreeSnapshotVersion(Yo.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,u,s)&&o.push(n.He.updateTargetData(e,u))}));let a=au();if(t.documentUpdates.forEach(((r,i)=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Qh(e,s,t.documentUpdates,r,void 0).next((e=>{a=e}))),!r.isEqual(Yo.min())){const t=n.He.getLastRemoteSnapshotVersion(e).next((t=>n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return Cc.waitFor(o).next((()=>s.apply(e))).next((()=>n.Wn.Vn(e,a))).next((()=>a))})).then((e=>(n.qn=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Uo.get(t);r&&(Ro(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.$o=!0:e.modifiedDocuments.size>0?Ro(r.$o):e.removedDocuments.size>0&&(Ro(r.$o),r.$o=!1))})),await Jf(n,e,t)}catch(e){await bh(e)}}function Vf(e,t,n){const r=Oo(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Mo.forEach(((n,r)=>{const i=r.view.ro(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Oo(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const e of n.listeners)e.ro(t)&&(r=!0)})),r&&If(n)}(r.eventManager,t),e.length&&r.Oo.br(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function jf(e,t,n){const r=Oo(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Uo.get(t),s=i&&i.key;if(s){let e=new tu(ya.comparator);e=e.insert(s,Da.newNoDocument(s,Yo.min()));const n=fu().add(s),i=new gu(Yo.min(),new Map,new iu(Ko),e,n);await Ff(r,i),r.Bo=r.Bo.remove(s),r.Uo.delete(t),Qf(r)}else await Xh(r.localStore,t,!1).then((()=>Wf(r,t,n))).catch(bh)}async function qf(e,t){const n=Oo(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Oo(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=Cc.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Ro(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((()=>e.An.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.An.performConsistencyCheck(e))).next((()=>n.Wn.vn(e,r)))}))}(n.localStore,t);$f(n,r,null),zf(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Jf(n,e)}catch(e){await bh(e)}}async function Bf(e,t,n){const r=Oo(e);try{const e=await function(e,t){const n=Oo(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.An.lookupMutationBatch(e,t).next((t=>(Ro(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)))).next((()=>n.An.performConsistencyCheck(e))).next((()=>n.Wn.vn(e,r)))}))}(r.localStore,t);$f(r,t,n),zf(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Jf(r,e)}catch(n){await bh(n)}}function zf(e,t){(e.jo.get(t)||[]).forEach((e=>{e.resolve()})),e.jo.delete(t)}function $f(e,t,n){const r=Oo(e);let i=r.Ko[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function Wf(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Fo.get(t))e.Mo.delete(r),n&&e.Oo.zo(r,n);e.Fo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((t=>{e.qo.containsKey(t)||Hf(e,t)}))}function Hf(e,t){e.Lo.delete(t.path.canonicalString());const n=e.Bo.get(t);null!==n&&(qd(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),Qf(e))}function Kf(e,t,n){for(const r of n)r instanceof Af?(e.qo.addReference(r.key,t),Gf(e,r)):r instanceof xf?(So("SyncEngine","Document no longer in limbo: "+r.key),e.qo.removeReference(r.key,t),e.qo.containsKey(r.key)||Hf(e,r.key)):xo()}function Gf(e,t){const n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(So("SyncEngine","New document in limbo: "+n),e.Lo.add(r),Qf(e))}function Qf(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){const t=e.Lo.values().next().value;e.Lo.delete(t);const n=new ya(na.fromString(t)),r=e.Qo.next();e.Uo.set(r,new Pf(n)),e.Bo=e.Bo.insert(n,r),jd(e.remoteStore,new qc(cl(rl(n.path)),r,2,$o.I))}}async function Jf(e,t,n){const r=Oo(e),i=[],s=[],o=[];r.Mo.isEmpty()||(r.Mo.forEach(((e,a)=>{o.push(r.Go(a,t,n).then((e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=zh.$n(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.Oo.br(i),await async function(e,t){const n=Oo(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Cc.forEach(t,(t=>Cc.forEach(t.kn,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Cc.forEach(t.xn,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Oc(e))throw e;So("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.qn.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.qn=n.qn.insert(t,i)}}}(r.localStore,s))}async function Yf(e,t){const n=Oo(e);if(!n.currentUser.isEqual(t)){So("SyncEngine","User change. New user:",t.toKey());const e=await Kh(n.localStore,t);n.currentUser=t,function(e,t){e.jo.forEach((e=>{e.forEach((e=>{e.reject(new Do(Po.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Jf(n,e.Gn)}}function Xf(e,t){const n=Oo(e),r=n.Uo.get(t);if(r&&r.$o)return fu().add(r.key);{let e=fu();const r=n.Fo.get(t);if(!r)return e;for(const t of r){const r=n.Mo.get(t);e=e.unionWith(r.view.bo)}return e}}async function Zf(e,t){const n=Oo(e),r=await Zh(n.localStore,t.query,!0),i=t.view.ko(r);return n.isPrimaryClient&&Kf(n,t.targetId,i.Co),i}async function ep(e){const t=Oo(e);return td(t.localStore).then((e=>Jf(t,e)))}async function tp(e,t,n,r){const i=Oo(e),s=await function(e,t){const n=Oo(e),r=Oo(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Zt(e,t).next((t=>t?n.Wn.vn(e,t):Cc.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await Zd(i.remoteStore):"acknowledged"===n||"rejected"===n?($f(i,t,r||null),zf(i,t),function(e,t){Oo(Oo(e).An).ee(t)}(i.localStore,t)):xo(),await Jf(i,s)):So("SyncEngine","Cannot apply mutation batch with id: "+t)}async function np(e,t,n){const r=Oo(e),i=[],s=[];for(const e of t){let t;const n=r.Fo.get(e);if(n&&0!==n.length){t=await Yh(r.localStore,cl(n[0]));for(const e of n){const t=r.Mo.get(e),n=await Zf(r,t);n.snapshot&&s.push(n.snapshot)}}else{const n=await ed(r.localStore,e);t=await Yh(r.localStore,n),await Mf(r,rp(n),e,!1)}i.push(t)}return r.Oo.br(s),i}function rp(e){return nl(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function ip(e){const t=Oo(e);return Oo(Oo(t.localStore).persistence).Tn()}async function sp(e,t,n,r){const i=Oo(e);if(i.Wo)So("SyncEngine","Ignoring unexpected query state notification.");else if(i.Fo.has(t))switch(n){case"current":case"not-current":{const e=await td(i.localStore),r=gu.createSynthesizedRemoteEventForCurrentChange(t,"current"===n);await Jf(i,e,r);break}case"rejected":await Xh(i.localStore,t,!0),Wf(i,t,r);break;default:xo()}}async function op(e,t,n){const r=ap(e);if(r.Wo){for(const e of t){if(r.Fo.has(e)){So("SyncEngine","Adding an already active target "+e);continue}const t=await ed(r.localStore,e),n=await Yh(r.localStore,t);await Mf(r,rp(t),n.targetId,!1),jd(r.remoteStore,n)}for(const e of n)r.Fo.has(e)&&await Xh(r.localStore,e,!1).then((()=>{qd(r.remoteStore,e),Wf(r,e)})).catch(bh)}}function ap(e){const t=Oo(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ff.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xf.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=jf.bind(null,t),t.Oo.br=_f.bind(null,t.eventManager),t.Oo.zo=Ef.bind(null,t.eventManager),t}function lp(e){const t=Oo(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=qf.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Bf.bind(null,t),t}class up{constructor(){this.synchronizeTabs=!1}async initialize(e){this.k=xd(e.databaseInfo.databaseId),this.sharedClientState=this.Jo(e),this.persistence=this.Yo(e),await this.persistence.start(),this.gcScheduler=this.Xo(e),this.localStore=this.Zo(e)}Xo(e){return null}Zo(e){return Hh(this.persistence,new $h,e.initialUser,this.k)}Yo(e){return new cd(dd.ks,this.k)}Jo(e){return new Ed}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class cp extends up{constructor(e,t,n){super(),this.tc=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await async function(e){const t=Oo(e);return t.persistence.runTransaction("Synchronize last document change read time","readonly",(e=>function(e){const t=Oh(e);let n=Yo.min();return t.jt({index:mc.readTimeIndex,reverse:!0},((e,t,r)=>{t.readTime&&(n=Hc(t.readTime)),r.done()})).next((()=>n))}(e))).then((e=>{t.jn=e}))}(this.localStore),await this.tc.initialize(this,e),await lp(this.tc.syncEngine),await Zd(this.tc.remoteStore),await this.persistence.sn((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(this.localStore),Promise.resolve())))}Zo(e){return Hh(this.persistence,new $h,e.initialUser,this.k)}Xo(e){const t=this.persistence.referenceDelegate.garbageCollector;return new Ih(t,e.asyncQueue)}Yo(e){const t=jh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ah.withCacheSize(this.cacheSizeBytes):ah.DEFAULT;return new Uh(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Nd(),Ad(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new Ed}}class hp extends cp{constructor(e,t){super(e,t,!1),this.tc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.tc.syncEngine;this.sharedClientState instanceof _d&&(this.sharedClientState.syncEngine={mi:tp.bind(null,t),gi:sp.bind(null,t),yi:op.bind(null,t),Tn:ip.bind(null,t),_i:ep.bind(null,t)},await this.sharedClientState.start()),await this.persistence.sn((async e=>{await async function(e,t){const n=Oo(e);if(ap(n),lp(n),!0===t&&!0!==n.Wo){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await np(n,e.toArray());n.Wo=!0,await uf(n.remoteStore,!0);for(const e of t)jd(n.remoteStore,e)}else if(!1===t&&!1!==n.Wo){const e=[];let t=Promise.resolve();n.Fo.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(Wf(n,i),Xh(n.localStore,i,!0)))),qd(n.remoteStore,i)})),await t,await np(n,e),function(e){const t=Oo(e);t.Uo.forEach(((e,n)=>{qd(t.remoteStore,n)})),t.qo.hs(),t.Uo=new Map,t.Bo=new tu(ya.comparator)}(n),n.Wo=!1,await uf(n.remoteStore,!1)}}(this.tc.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop())}))}Jo(e){const t=Nd();if(!_d.Pt(t))throw new Do(Po.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=jh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new _d(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class dp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Vf(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Yf.bind(null,this.syncEngine),await uf(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new vf}createDatastore(e){const t=xd(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new Cd(r));var r;return function(e,t,n,r){return new Ld(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Vf(this.syncEngine,e,0),s=kd.Pt()?new kd:new Id,new Ud(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new Df(e,t,n,r,i,s);return o&&(a.Wo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Oo(e);So("RemoteStore","RemoteStore shutting down."),t.Gr.add(5),await Vd(t),t.Hr.shutdown(),t.Jr.set("Unknown")}(this.remoteStore)}}function fp(e,t=10240){let n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}class pp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ec(this.observer.next,e)}error(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}nc(){this.muted=!0}ec(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class mp{constructor(e,t){this.sc=e,this.k=t,this.metadata=new Lo,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then((e=>{e&&e._o()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.payload)}`))}),(e=>this.metadata.reject(e)))}close(){return this.sc.cancel()}async getMetadata(){return this.metadata.promise}async Ho(){return await this.getMetadata(),this.rc()}async rc(){const e=await this.oc();if(null===e)return null;const t=this.ic.decode(e),n=Number(t);isNaN(n)&&this.cc(`length string (${t}) is not valid number`);const r=await this.ac(n);return new Tf(JSON.parse(r),e.length+n)}uc(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async oc(){for(;this.uc()<0&&!await this.hc(););if(0===this.buffer.length)return null;const e=this.uc();e<0&&this.cc("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async ac(e){for(;this.buffer.length<e;)await this.hc()&&this.cc("Reached the end of bundle when more is expected.");const t=this.ic.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}cc(e){throw this.sc.cancel(),new Error(`Invalid bundle format: ${e}`)}async hc(){const e=await this.sc.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class gp{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Do(Po.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=Oo(e),r=Fu(n.k)+"/documents",i={documents:t.map((e=>Du(n.k,e)))},s=await n.ji("BatchGetDocuments",r,i),o=new Map;s.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Ro(!!t.found),t.found.name,t.found.updateTime;const n=Lu(e,t.found.name),r=Ru(t.found.updateTime),i=new Oa({mapValue:{fields:t.found.fields}});return Da.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Ro(!!t.missing),Ro(!!t.readTime);const n=Lu(e,t.missing),r=Ru(t.readTime);return Da.newNoDocument(n,r)}(e,t):xo()}(n.k,e);o.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=o.get(e.toString());Ro(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Gl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=ya.fromPath(t);this.mutations.push(new Ql(n,this.precondition(n)))})),await async function(e,t){const n=Oo(e),r=Fu(n.k)+"/documents",i={writes:t.map((e=>Bu(n.k,e)))};await n.Bi("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw xo();t=Yo.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Do(Po.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Ll.updateTime(t):Ll.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Yo.min()))throw new Do(Po.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ll.updateTime(t)}return Ll.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class yp{constructor(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.lc=5,this.ur=new Rd(this.asyncQueue,"transaction_retry")}run(){this.lc-=1,this.fc()}fc(){this.ur.Zi((async()=>{const e=new gp(this.datastore),t=this.dc(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.wc(e)}))))})).catch((e=>{this.wc(e)}))}))}dc(e){try{const t=this.updateFunction(e);return!pa(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}wc(e){this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget((()=>(this.fc(),Promise.resolve())))):this.deferred.reject(e)}_c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Zl(t)}return!1}}class vp{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Eo.UNAUTHENTICATED,this.clientId=Ho.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{So("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(()=>Promise.resolve()))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Do(Po.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Lo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=ff(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function wp(e,t){e.asyncQueue.verifyOperationInProgress(),So("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Kh(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e.offlineComponents=t}async function bp(e,t){e.asyncQueue.verifyOperationInProgress();const n=await _p(e);So("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>async function(e,t){const n=Oo(e);n.asyncQueue.verifyOperationInProgress(),So("RemoteStore","RemoteStore received new credentials");const r=Hd(n);n.Gr.add(3),await Vd(n),r&&n.Jr.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Gr.delete(3),await Fd(n)}(t.remoteStore,e))),e.onlineComponents=t}async function _p(e){return e.offlineComponents||(So("FirestoreClient","Using default OfflineComponentProvider"),await wp(e,new up)),e.offlineComponents}async function Ep(e){return e.onlineComponents||(So("FirestoreClient","Using default OnlineComponentProvider"),await bp(e,new dp)),e.onlineComponents}function Ip(e){return _p(e).then((e=>e.persistence))}function kp(e){return _p(e).then((e=>e.localStore))}function Tp(e){return Ep(e).then((e=>e.remoteStore))}function Sp(e){return Ep(e).then((e=>e.syncEngine))}async function Cp(e){const t=await Ep(e),n=t.eventManager;return n.onListen=Lf.bind(null,t.syncEngine),n.onUnlisten=Uf.bind(null,t.syncEngine),n}function Np(e,t,n={}){const r=new Lo;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new pp({next:s=>{t.enqueueAndForget((()=>bf(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new Do(Po.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Do(Po.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new kf(rl(n.path),s,{includeMetadataChanges:!0,wo:!0});return wf(e,o)}(await Cp(e),e.asyncQueue,t,n,r))),r.promise}function Ap(e,t,n={}){const r=new Lo;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new pp({next:n=>{t.enqueueAndForget((()=>bf(e,o))),n.fromCache&&"server"===r.source?i.reject(new Do(Po.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new kf(n,s,{includeMetadataChanges:!0,wo:!0});return wf(e,o)}(await Cp(e),e.asyncQueue,t,n,r))),r.promise}class xp{constructor(e,t,n,r,i,s,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class Rp{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Rp&&e.projectId===this.projectId&&e.database===this.database}}const Op=new Map;function Pp(e,t,n){if(!n)throw new Do(Po.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Dp(e,t,n,r){if(!0===t&&!0===r)throw new Do(Po.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Lp(e){if(!ya.isDocumentKey(e))throw new Do(Po.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Mp(e){if(ya.isDocumentKey(e))throw new Do(Po.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Up(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":xo()}function Fp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Do(Po.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Up(e);throw new Do(Po.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Vp(e,t){if(t<=0)throw new Do(Po.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class jp{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Do(Po.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Do(Po.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Dp("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qp{constructor(e,t,n){this._authCredentials=t,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jp({}),this._settingsFrozen=!1,e instanceof Rp?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Do(Po.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rp(e.options.projectId)}(e))}get app(){if(!this._app)throw new Do(Po.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Do(Po.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jp(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Uo;switch(e.type){case"gapi":const t=e.client;return Ro(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new qo(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Do(Po.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Op.get(e);t&&(So("ComponentProvider","Removing Datastore"),Op.delete(e),t.terminate())}(this),Promise.resolve()}}class Bp{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $p(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bp(this.firestore,e,this._key)}}class zp{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new zp(this.firestore,e,this._query)}}class $p extends zp{constructor(e,t,n){super(e,t,rl(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bp(this.firestore,null,new ya(e))}withConverter(e){return new $p(this.firestore,e,this._path)}}function Wp(e,t,...n){if(e=Et(e),Pp("collection","path",t),e instanceof qp){const r=na.fromString(t,...n);return Mp(r),new $p(e,null,r)}{if(!(e instanceof Bp||e instanceof $p))throw new Do(Po.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(na.fromString(t,...n));return Mp(r),new $p(e.firestore,null,r)}}function Hp(e,t,...n){if(e=Et(e),1===arguments.length&&(t=Ho.A()),Pp("doc","path",t),e instanceof qp){const r=na.fromString(t,...n);return Lp(r),new Bp(e,null,new ya(r))}{if(!(e instanceof Bp||e instanceof $p))throw new Do(Po.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(na.fromString(t,...n));return Lp(r),new Bp(e.firestore,e instanceof $p?e.converter:null,new ya(r))}}function Kp(e,t){return e=Et(e),t=Et(t),(e instanceof Bp||e instanceof $p)&&(t instanceof Bp||t instanceof $p)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Gp(e,t){return e=Et(e),t=Et(t),e instanceof zp&&t instanceof zp&&e.firestore===t.firestore&&dl(e._query,t._query)&&e.converter===t.converter}class Qp{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new Rd(this,"async_queue_retry"),this.bc=()=>{const e=Ad();e&&So("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ur.er()};const e=Ad();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pc(),this.vc(e)}enterRestrictedMode(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;const t=Ad();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}enqueue(e){if(this.Pc(),this.yc)return new Promise((()=>{}));const t=new Lo;return this.vc((()=>this.yc&&this.Ac?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.gc.push(e),this.Vc())))}async Vc(){if(0!==this.gc.length){try{await this.gc[0](),this.gc.shift(),this.ur.reset()}catch(e){if(!Oc(e))throw e;So("AsyncQueue","Operation failed with retryable error: "+e)}this.gc.length>0&&this.ur.Zi((()=>this.Vc()))}}vc(e){const t=this.mc.then((()=>(this.Ic=!0,e().catch((e=>{this.Ec=e,this.Ic=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Co("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Ic=!1,e))))));return this.mc=t,t}enqueueAfterDelay(e,t,n){this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);const r=df.createAndSchedule(this,e,t,n,(e=>this.Sc(e)));return this.Tc.push(r),r}Pc(){this.Ec&&xo()}verifyOperationInProgress(){}async Dc(){let e;do{e=this.mc,await e}while(e!==this.mc)}Cc(e){for(const t of this.Tc)if(t.timerId===e)return!0;return!1}Nc(e){return this.Dc().then((()=>{this.Tc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Dc()}))}kc(e){this.Rc.push(e)}Sc(e){const t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}function Jp(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}(e)}class Yp{constructor(){this._progressObserver={},this._taskCompletionResolver=new Lo,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Xp extends qp{constructor(e,t,n){super(e,t,n),this.type="firestore",this._queue=new Qp,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||em(this),this._firestoreClient.terminate()}}function Zp(e){return e._firestoreClient||em(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function em(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new xp(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new vp(e._authCredentials,e._appCheckCredentials,e._queue,r)}function tm(e,t,n){const r=new Lo;return e.asyncQueue.enqueue((async()=>{try{await wp(e,n),await bp(e,t),r.resolve()}catch(e){if(!function(e){return"FirebaseError"===e.name?e.code===Po.FAILED_PRECONDITION||e.code===Po.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(e))throw e;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.reject(e)}})).then((()=>r.promise))}function nm(e){if(e._initialized||e._terminated)throw new Do(Po.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class rm{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Do(Po.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ia(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class im{constructor(e){this._byteString=e}static fromBase64String(e){try{return new im(oa.fromBase64String(e))}catch(e){throw new Do(Po.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new im(oa.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class sm{constructor(e){this._methodName=e}}class om{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Do(Po.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Do(Po.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ko(this._lat,e._lat)||Ko(this._long,e._long)}}const am=/^__.*__$/;class lm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new $l(e,this.data,this.fieldMask,t,this.fieldTransforms):new zl(e,this.data,t,this.fieldTransforms)}}class um{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new $l(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function cm(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xo()}}class hm{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.k=n,this.ignoreUndefinedProperties=r,void 0===i&&this.xc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get $c(){return this.settings.$c}Oc(e){return new hm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.Lc(e),r}Bc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.xc(),r}Uc(e){return this.Oc({path:void 0,Fc:!0})}qc(e){return Rm(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}Lc(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(cm(this.$c)&&am.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}class dm{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=n||xd(e)}Qc(e,t,n,r=!1){return new hm({$c:e,methodName:t,jc:n,path:ia.emptyPath(),Fc:!1,Kc:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function fm(e){const t=e._freezeSettings(),n=xd(e._databaseId);return new dm(e._databaseId,!!t.ignoreUndefinedProperties,n)}function pm(e,t,n,r,i,s={}){const o=e.Qc(s.merge||s.mergeFields?2:0,t,n,i);Cm("Data must be an object, but it was:",o,r);const a=Tm(r,o);let l,u;if(s.merge)l=new sa(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Nm(t,r,n);if(!o.contains(i))throw new Do(Po.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Om(e,i)||e.push(i)}l=new sa(e),u=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=o.fieldTransforms;return new lm(new Oa(a),l,u)}class mm extends sm{_toFieldTransform(e){if(2!==e.$c)throw 1===e.$c?e.qc(`${this._methodName}() can only appear at the top level of your update data`):e.qc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mm}}function gm(e,t,n){return new hm({$c:3,jc:t.settings.jc,methodName:e._methodName,Fc:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}class ym extends sm{_toFieldTransform(e){return new Pl(e.path,new Tl)}isEqual(e){return e instanceof ym}}class vm extends sm{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=gm(this,e,!0),n=this.Wc.map((e=>km(e,t))),r=new Sl(n);return new Pl(e.path,r)}isEqual(e){return this===e}}class wm extends sm{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=gm(this,e,!0),n=this.Wc.map((e=>km(e,t))),r=new Nl(n);return new Pl(e.path,r)}isEqual(e){return this===e}}class bm extends sm{constructor(e,t){super(e),this.Gc=t}_toFieldTransform(e){const t=new xl(e.k,bl(e.k,this.Gc));return new Pl(e.path,t)}isEqual(e){return this===e}}function _m(e,t,n,r){const i=e.Qc(1,t,n);Cm("Data must be an object, but it was:",i,r);const s=[],o=Oa.empty();Zo(r,((e,r)=>{const a=xm(t,e,n);r=Et(r);const l=i.Bc(a);if(r instanceof mm)s.push(a);else{const e=km(r,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new sa(s);return new um(o,a,i.fieldTransforms)}function Em(e,t,n,r,i,s){const o=e.Qc(1,t,n),a=[Nm(t,r,n)],l=[i];if(s.length%2!=0)throw new Do(Po.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<s.length;e+=2)a.push(Nm(t,s[e])),l.push(s[e+1]);const u=[],c=Oa.empty();for(let e=a.length-1;e>=0;--e)if(!Om(u,a[e])){const t=a[e];let n=l[e];n=Et(n);const r=o.Bc(t);if(n instanceof mm)u.push(t);else{const e=km(n,r);null!=e&&(u.push(t),c.set(t,e))}}const h=new sa(u);return new um(c,h,o.fieldTransforms)}function Im(e,t,n,r=!1){return km(n,e.Qc(r?4:3,t))}function km(e,t){if(Sm(e=Et(e)))return Cm("Unsupported field value:",t,e),Tm(e,t);if(e instanceof sm)return function(e,t){if(!cm(t.$c))throw t.qc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.qc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.$c)throw t.qc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=km(i,t.Uc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Et(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return bl(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Jo.fromDate(e);return{timestampValue:Nu(t.k,n)}}if(e instanceof Jo){const n=new Jo(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Nu(t.k,n)}}if(e instanceof om)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof im)return{bytesValue:Au(t.k,e._byteString)};if(e instanceof Bp){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.qc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Ou(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.qc(`Unsupported field value: ${Up(e)}`)}(e,t)}function Tm(e,t){const n={};return ea(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zo(e,((e,r)=>{const i=km(r,t.Mc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Sm(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Jo||e instanceof om||e instanceof im||e instanceof Bp||e instanceof sm)}function Cm(e,t,n){if(!Sm(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Up(n);throw"an object"===r?t.qc(e+" a custom object"):t.qc(e+" "+r)}}function Nm(e,t,n){if((t=Et(t))instanceof rm)return t._internalPath;if("string"==typeof t)return xm(e,t);throw Rm("Field path arguments must be of type string or ",e,!1,void 0,n)}const Am=new RegExp("[~\\*/\\[\\]]");function xm(e,t,n){if(t.search(Am)>=0)throw Rm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new rm(...t.split("."))._internalPath}catch(r){throw Rm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Rm(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Do(Po.INVALID_ARGUMENT,a+e+l)}function Om(e,t){return e.some((e=>e.isEqual(t)))}class Pm{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Bp(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Dm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Lm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Dm extends Pm{data(){return super.data()}}function Lm(e,t){return"string"==typeof t?xm(e,t):t instanceof rm?t._internalPath:t._delegate._internalPath}class Mm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Um extends Pm{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Fm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Lm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Fm extends Um{data(e={}){return super.data(e)}}class Vm{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Mm(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Fm(this._firestore,this._userDataWriter,n.key,n,new Mm(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Do(Po.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>({type:"added",doc:new Fm(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Mm(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++})))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Fm(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Mm(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:jm(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function jm(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xo()}}function qm(e,t){return e instanceof Um&&t instanceof Um?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Vm&&t instanceof Vm&&e._firestore===t._firestore&&Gp(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Bm(e){if(sl(e)&&0===e.explicitOrderBy.length)throw new Do(Po.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zm{}function $m(e,...t){for(const n of t)e=n._apply(e);return e}class Wm extends zm{constructor(e,t,n){super(),this.zc=e,this.Hc=t,this.Jc=n,this.type="where"}_apply(e){const t=fm(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Do(Po.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){Xm(o,s);const t=[];for(const n of o)t.push(Ym(r,e,n));a={arrayValue:{values:t}}}else a=Ym(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Xm(o,s),a=Im(n,"where",o,"in"===s||"not-in"===s);const l=ja.create(i,s,a);return function(e,t){if(t.V()){const n=al(e);if(null!==n&&!n.isEqual(t.field))throw new Do(Po.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const r=ol(e);null!==r&&Zm(0,t.field,r)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Do(Po.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Do(Po.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,l),l}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new zp(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new tl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}class Hm extends zm{constructor(e,t){super(),this.zc=e,this.Yc=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Do(Po.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Do(Po.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new Ya(t,n);return function(e,t){if(null===ol(e)){const n=al(e);null!==n&&Zm(0,n,t.field)}}(e,r),r}(e._query,this.zc,this.Yc);return new zp(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new tl(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class Km extends zm{constructor(e,t,n){super(),this.type=e,this.Xc=t,this.Zc=n}_apply(e){return new zp(e.firestore,e.converter,hl(e._query,this.Xc,this.Zc))}}class Gm extends zm{constructor(e,t,n){super(),this.type=e,this.ta=t,this.ea=n}_apply(e){const t=Jm(e,this.type,this.ta,this.ea);return new zp(e.firestore,e.converter,function(e,t){return new tl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class Qm extends zm{constructor(e,t,n){super(),this.type=e,this.ta=t,this.ea=n}_apply(e){const t=Jm(e,this.type,this.ta,this.ea);return new zp(e.firestore,e.converter,function(e,t){return new tl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function Jm(e,t,n,r){if(n[0]=Et(n[0]),n[0]instanceof Pm)return function(e,t,n,r,i){if(!r)throw new Do(Po.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const n of ul(e))if(n.field.isKeyField())s.push(Ta(t,r.key));else{const e=r.data.field(n.field);if(ha(e))throw new Do(Po.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+n.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=n.field.canonicalString();throw new Do(Po.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new Qa(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=fm(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new Do(Po.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let s=0;s<i.length;s++){const l=i[s];if(o[s].field.isKeyField()){if("string"!=typeof l)throw new Do(Po.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof l}`);if(!ll(e)&&-1!==l.indexOf("/"))throw new Do(Po.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${l}' contains a slash.`);const n=e.path.child(na.fromString(l));if(!ya.isDocumentKey(n))throw new Do(Po.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new ya(n);a.push(Ta(t,i))}else{const e=Im(n,r,l);a.push(e)}}return new Qa(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function Ym(e,t,n){if("string"==typeof(n=Et(n))){if(""===n)throw new Do(Po.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ll(t)&&-1!==n.indexOf("/"))throw new Do(Po.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(na.fromString(n));if(!ya.isDocumentKey(r))throw new Do(Po.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ta(e,new ya(r))}if(n instanceof Bp)return Ta(e,n._key);throw new Do(Po.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Up(n)}.`)}function Xm(e,t){if(!Array.isArray(e)||0===e.length)throw new Do(Po.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new Do(Po.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function Zm(e,t,n){if(!n.isEqual(t))throw new Do(Po.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class eg{convertValue(e,t="none"){switch(va(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ua(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ca(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw xo()}}convertObject(e,t){const n={};return Zo(e.fields,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new om(ua(e.latitude),ua(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=da(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(fa(e));default:return null}}convertTimestamp(e){const t=la(e);return new Jo(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=na.fromString(e);Ro(rc(n));const r=new Rp(n.get(1),n.get(3)),i=new ya(n.popFirst(5));return r.isEqual(t)||Co(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function tg(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class ng extends eg{constructor(e){super(),this.firestore=e}convertBytes(e){return new im(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bp(this.firestore,null,t)}}class rg{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=fm(e)}set(e,t,n){this._verifyNotCommitted();const r=ig(e,this._firestore),i=tg(r.converter,t,n),s=pm(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Ll.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=ig(e,this._firestore);let s;return s="string"==typeof(t=Et(t))||t instanceof rm?Em(this._dataReader,"WriteBatch.update",i._key,t,n,r):_m(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(s.toMutation(i._key,Ll.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ig(e,this._firestore);return this._mutations=this._mutations.concat(new Gl(t._key,Ll.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Do(Po.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ig(e,t){if((e=Et(e)).firestore!==t)throw new Do(Po.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class sg extends eg{constructor(e){super(),this.firestore=e}convertBytes(e){return new im(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bp(this.firestore,null,t)}}function og(e,t,n){e=Fp(e,Bp);const r=Fp(e.firestore,Xp),i=tg(e.converter,t,n);return ug(r,[pm(fm(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ll.none())])}function ag(e,t,n,...r){e=Fp(e,Bp);const i=Fp(e.firestore,Xp),s=fm(i);let o;return o="string"==typeof(t=Et(t))||t instanceof rm?Em(s,"updateDoc",e._key,t,n,r):_m(s,"updateDoc",e._key,t),ug(i,[o.toMutation(e._key,Ll.exists(!0))])}function lg(e,...t){var n,r,i;e=Et(e);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||Jp(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Jp(t[o])){const e=t[o];t[o]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[o+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[o+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let l,u,c;if(e instanceof Bp)u=Fp(e.firestore,Xp),c=rl(e._key.path),l={next:n=>{t[o]&&t[o](cg(u,e,n))},error:t[o+1],complete:t[o+2]};else{const n=Fp(e,zp);u=Fp(n.firestore,Xp),c=n._query;const r=new sg(u);l={next:e=>{t[o]&&t[o](new Vm(u,r,n,e))},error:t[o+1],complete:t[o+2]},Bm(e._query)}return function(e,t,n,r){const i=new pp(r),s=new kf(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>wf(await Cp(e),s))),()=>{i.nc(),e.asyncQueue.enqueueAndForget((async()=>bf(await Cp(e),s)))}}(Zp(u),c,a,l)}function ug(e,t){return function(e,t){const n=new Lo;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=lp(e);try{const e=await function(e,t){const n=Oo(e),r=Jo.now(),i=t.reduce(((e,t)=>e.add(t.key)),fu());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>n.Wn.vn(e,i).next((i=>{s=i;const o=[];for(const e of t){const t=jl(e,s.get(e.key));null!=t&&o.push(new $l(e.key,t,Pa(t.value.mapValue),Ll.exists(!0)))}return n.An.addMutationBatch(e,r,o,t)})))).then((e=>(e.applyToLocalDocumentSet(s),{batchId:e.batchId,changes:s})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ko[e.currentUser.toKey()];r||(r=new tu(Ko)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(r,e.batchId,n),await Jf(r,e.changes),await Zd(r.remoteStore)}catch(e){const t=ff(e,"Failed to persist write");n.reject(t)}}(await Sp(e),t,n))),n.promise}(Zp(e),t)}function cg(e,t,n){const r=n.docs.get(t._key),i=new sg(e);return new Um(e,i,t._key,r,new Mm(n.hasPendingWrites,n.fromCache),t.converter)}class hg extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=fm(e)}get(e){const t=ig(e,this._firestore),n=new ng(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return xo();const r=e[0];if(r.isFoundDocument())return new Pm(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Pm(this._firestore,n,t._key,null,t.converter);throw xo()}))}set(e,t,n){const r=ig(e,this._firestore),i=tg(r.converter,t,n),s=pm(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n,...r){const i=ig(e,this._firestore);let s;return s="string"==typeof(t=Et(t))||t instanceof rm?Em(this._dataReader,"Transaction.update",i._key,t,n,r):_m(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,s),this}delete(e){const t=ig(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ig(e,this._firestore),n=new sg(this._firestore);return super.get(e).then((e=>new Um(this._firestore,n,t._key,e._document,new Mm(!1,!1),t.converter)))}}function dg(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Do("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function fg(){if("undefined"==typeof Uint8Array)throw new Do("unimplemented","Uint8Arrays are not available in this environment.")}function pg(){if("undefined"==typeof atob)throw new Do("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){!function(e){Io=e}(Jt),$t(new It("firestore",((e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=new Xp(r,new Vo(e.getProvider("auth-internal")),new zo(e.getProvider("app-check-internal")));return n=Object.assign({useFetchStreams:t},n),i._setSettings(n),i}),"PUBLIC")),tn(_o,"3.4.3",e),tn(_o,"3.4.3","esm2017")}();class mg{constructor(e){this._delegate=e}static fromBase64String(e){return pg(),new mg(im.fromBase64String(e))}static fromUint8Array(e){return fg(),new mg(im.fromUint8Array(e))}toBase64(){return pg(),this._delegate.toBase64()}toUint8Array(){return fg(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function gg(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}(e)}class yg{enableIndexedDbPersistence(e,t){return function(e,t){nm(e=Fp(e,Xp));const n=Zp(e),r=e._freezeSettings(),i=new dp;return tm(n,i,new cp(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){nm(e=Fp(e,Xp));const t=Zp(e),n=e._freezeSettings(),r=new dp;return tm(t,r,new hp(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Do(Po.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Lo;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Ac.Pt())return Promise.resolve();const t=e+"main";await Ac.delete(t)}(jh(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class vg{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Rp||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||No("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){!function(e,t,n,r={}){var i;const s=(e=Fp(e,qp))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&No("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Eo.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[et(JSON.stringify({alg:"none",type:"JWT"})),et(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Do(Po.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Eo(s)}e._authCredentials=new Fo(new Mo(t,n))}}(this._delegate,e,t,n)}enableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Ip(e),n=await Tp(e);return t.setNetworkEnabled(!0),function(e){const t=Oo(e);return t.Gr.delete(0),Fd(t)}(n)}))}(Zp(e=Fp(e,Xp)))}(this._delegate)}disableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Ip(e),n=await Tp(e);return t.setNetworkEnabled(!1),async function(e){const t=Oo(e);t.Gr.add(0),await Vd(t),t.Jr.set("Offline")}(n)}))}(Zp(e=Fp(e,Xp)))}(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Dp("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(e){return function(e){const t=new Lo;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=Oo(e);Hd(n.remoteStore)||So("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Oo(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.An.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.jo.get(e)||[];r.push(t),n.jo.set(e,r)}catch(e){const n=ff(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await Sp(e),t))),t.promise}(Zp(e=Fp(e,Xp)))}(this._delegate)}onSnapshotsInSync(e){return function(e,t){return function(e,t){const n=new pp(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Oo(e).io.add(t),t.next()}(await Cp(e),n))),()=>{n.nc(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Oo(e).io.delete(t)}(await Cp(e),n)))}}(Zp(e=Fp(e,Xp)),Jp(t)?t:{next:t})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Do("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Og(this,Wp(this._delegate,e))}catch(e){throw kg(e,"collection()","Firestore.collection()")}}doc(e){try{return new Ig(this,Hp(this._delegate,e))}catch(e){throw kg(e,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ag(this,function(e,t){if(e=Fp(e,qp),Pp("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Do(Po.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new zp(e,null,function(e){return new tl(na.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw kg(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t){return function(e,t){const n=new Lo;return e.asyncQueue.enqueueAndForget((async()=>{const r=await function(e){return Ep(e).then((e=>e.datastore))}(e);new yp(e.asyncQueue,r,t,n).run()})),n.promise}(Zp(e=Fp(e,Xp)),(n=>t(new hg(e,n))))}(this._delegate,(t=>e(new bg(this,t))))}batch(){return Zp(this._delegate),new _g(new rg(this._delegate,(e=>ug(this._delegate,e))))}loadBundle(e){return function(e,t){const n=Zp(e=Fp(e,Xp)),r=new Yp;return function(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new mp(e,t)}(function(e,t){if(e instanceof Uint8Array)return fp(e,t);if(e instanceof ArrayBuffer)return fp(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,xd(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=Oo(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Oo(e),r=Ru(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Ye.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r));n._updateProgress(Nf(r));const i=new Cf(r,e.localStore,t.k);let s=await t.Ho();for(;s;){const e=await i.yo(s);e&&n._updateProgress(e),s=await t.Ho()}const o=await i.complete();await Jf(e,o.In,void 0),await function(e,t){const n=Oo(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Ye.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(o.progress)}catch(e){No("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e)}})(r,t,n).then((()=>{r.sharedClientState.notifyBundleLoaded()}))}(await Sp(e),i,r)}))}(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return function(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Oo(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Ye.getNamedQuery(e,t)))}(await kp(e),t)))}(Zp(e=Fp(e,Xp)),t).then((t=>t?new zp(e,null,t.query):null))}(this._delegate,e).then((e=>e?new Ag(this,e):null))}}class wg extends eg{constructor(e){super(),this.firestore=e}convertBytes(e){return new mg(new im(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ig.forKey(t,this.firestore,null)}}class bg{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new wg(e)}get(e){const t=Pg(e);return this._delegate.get(t).then((e=>new Cg(this._firestore,new Um(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=Pg(e);return n?(dg("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=Pg(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=Pg(e);return this._delegate.delete(t),this}}class _g{constructor(e){this._delegate=e}set(e,t,n){const r=Pg(e);return n?(dg("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=Pg(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=Pg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Eg{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new Fm(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ng(this._firestore,n),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=Eg.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new Eg(e,new wg(e),t),r.set(t,i)),i}}Eg.INSTANCES=new WeakMap;class Ig{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new wg(e)}static forPath(e,t,n){if(e.length%2!=0)throw new Do("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ig(t,new Bp(t._delegate,n,new ya(e)))}static forKey(e,t,n){return new Ig(t,new Bp(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new Og(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Og(this.firestore,Wp(this._delegate,e))}catch(e){throw kg(e,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=Et(e))instanceof Bp&&Kp(this._delegate,e)}set(e,t){t=dg("DocumentReference.set",t);try{return t?og(this._delegate,e,t):og(this._delegate,e)}catch(e){throw kg(e,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?ag(this._delegate,e):ag(this._delegate,e,t,...n)}catch(e){throw kg(e,"updateDoc()","DocumentReference.update()")}}delete(){return function(e){return ug(Fp(e.firestore,Xp),[new Gl(e._key,Ll.none())])}(this._delegate)}onSnapshot(...e){const t=Tg(e),n=Sg(e,(e=>new Cg(this.firestore,new Um(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return lg(this._delegate,t,n)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=Fp(e,Bp);const t=Fp(e.firestore,Xp),n=Zp(t),r=new sg(t);return function(e,t){const n=new Lo;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=Oo(e);return n.persistence.runTransaction("read document","readonly",(e=>n.Wn.Rn(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Do(Po.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=ff(e,`Failed to get document '${t} from cache`);n.reject(r)}}(await kp(e),t,n))),n.promise}(n,e._key).then((n=>new Um(t,r,e._key,n,new Mm(null!==n&&n.hasLocalMutations,!0),e.converter)))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Fp(e,Bp);const t=Fp(e.firestore,Xp);return Np(Zp(t),e._key,{source:"server"}).then((n=>cg(t,e,n)))}(this._delegate):function(e){e=Fp(e,Bp);const t=Fp(e.firestore,Xp);return Np(Zp(t),e._key).then((n=>cg(t,e,n)))}(this._delegate),t.then((e=>new Cg(this.firestore,new Um(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new Ig(this.firestore,e?this._delegate.withConverter(Eg.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function kg(e,t,n){return e.message=e.message.replace(t,n),e}function Tg(e){for(const t of e)if("object"==typeof t&&!gg(t))return t;return{}}function Sg(e,t){var n,r;let i;return i=gg(e[0])?e[0]:gg(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Cg{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ig(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return qm(this._delegate,e._delegate)}}class Ng extends Cg{data(e){const t=this._delegate.data(e);return function(e,t){e||xo()}(void 0!==t),t}}class Ag{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new wg(e)}where(e,t,n){try{return new Ag(this.firestore,$m(this._delegate,function(e,t,n){const r=t,i=Lm("where",e);return new Wm(i,r,n)}(e,t,n)))}catch(e){throw kg(e,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ag(this.firestore,$m(this._delegate,function(e,t="asc"){const n=t,r=Lm("orderBy",e);return new Hm(r,n)}(e,t)))}catch(e){throw kg(e,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ag(this.firestore,$m(this._delegate,function(e){return Vp("limit",e),new Km("limit",e,"F")}(e)))}catch(e){throw kg(e,"limit()","Query.limit()")}}limitToLast(e){try{return new Ag(this.firestore,$m(this._delegate,function(e){return Vp("limitToLast",e),new Km("limitToLast",e,"L")}(e)))}catch(e){throw kg(e,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ag(this.firestore,$m(this._delegate,function(...e){return new Gm("startAt",e,!0)}(...e)))}catch(e){throw kg(e,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ag(this.firestore,$m(this._delegate,function(...e){return new Gm("startAfter",e,!1)}(...e)))}catch(e){throw kg(e,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ag(this.firestore,$m(this._delegate,function(...e){return new Qm("endBefore",e,!0)}(...e)))}catch(e){throw kg(e,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ag(this.firestore,$m(this._delegate,function(...e){return new Qm("endAt",e,!1)}(...e)))}catch(e){throw kg(e,"endAt()","Query.endAt()")}}isEqual(e){return Gp(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=Fp(e,zp);const t=Fp(e.firestore,Xp),n=Zp(t),r=new sg(t);return function(e,t){const n=new Lo;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await Zh(e,t,!0),i=new Rf(t,r.zn),s=i.Po(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=ff(e,`Failed to execute query '${t} against cache`);n.reject(r)}}(await kp(e),t,n))),n.promise}(n,e._query).then((n=>new Vm(t,r,e,n)))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Fp(e,zp);const t=Fp(e.firestore,Xp),n=Zp(t),r=new sg(t);return Ap(n,e._query,{source:"server"}).then((n=>new Vm(t,r,e,n)))}(this._delegate):function(e){e=Fp(e,zp);const t=Fp(e.firestore,Xp),n=Zp(t),r=new sg(t);return Bm(e._query),Ap(n,e._query).then((n=>new Vm(t,r,e,n)))}(this._delegate),t.then((e=>new Rg(this.firestore,new Vm(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(...e){const t=Tg(e),n=Sg(e,(e=>new Rg(this.firestore,new Vm(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return lg(this._delegate,t,n)}withConverter(e){return new Ag(this.firestore,e?this._delegate.withConverter(Eg.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class xg{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Ng(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Rg{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ag(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new Ng(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new xg(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new Ng(this._firestore,n))}))}isEqual(e){return qm(this._delegate,e._delegate)}}class Og extends Ag{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ig(this.firestore,e):null}doc(e){try{return new Ig(this.firestore,void 0===e?Hp(this._delegate):Hp(this._delegate,e))}catch(e){throw kg(e,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=Fp(e.firestore,Xp),r=Hp(e),i=tg(e.converter,t);return ug(n,[pm(fm(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Ll.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new Ig(this.firestore,e)))}isEqual(e){return Kp(this._delegate,e._delegate)}withConverter(e){return new Og(this.firestore,e?this._delegate.withConverter(Eg.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Pg(e){return Fp(e,Bp)}class Dg{constructor(...e){this._delegate=new rm(...e)}static documentId(){return new Dg(ia.keyField().canonicalString())}isEqual(e){return(e=Et(e))instanceof rm&&this._delegate._internalPath.isEqual(e._internalPath)}}class Lg{constructor(e){this._delegate=e}static serverTimestamp(){const e=new ym("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Lg(e)}static delete(){const e=new mm("deleteField");return e._methodName="FieldValue.delete",new Lg(e)}static arrayUnion(...e){const t=function(...e){return new vm("arrayUnion",e)}(...e);return t._methodName="FieldValue.arrayUnion",new Lg(t)}static arrayRemove(...e){const t=function(...e){return new wm("arrayRemove",e)}(...e);return t._methodName="FieldValue.arrayRemove",new Lg(t)}static increment(e){const t=function(e){return new bm("increment",e)}(e);return t._methodName="FieldValue.increment",new Lg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Mg={Firestore:vg,GeoPoint:om,Timestamp:Jo,Blob:mg,Transaction:bg,WriteBatch:_g,DocumentReference:Ig,DocumentSnapshot:Cg,Query:Ag,QueryDocumentSnapshot:Ng,QuerySnapshot:Rg,CollectionReference:Og,FieldPath:Dg,FieldValue:Lg,setLogLevel:function(e){!function(e){ko.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};var Ug;function Fg(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(Ug=un).INTERNAL.registerComponent(new It("firestore-compat",(e=>((e,t)=>new vg(e,t,new yg))(e.getProvider("app-compat").getImmediate(),e.getProvider("firestore").getImmediate())),"PUBLIC").setServiceProps(Object.assign({},Mg))),Ug.registerVersion("@firebase/firestore-compat","0.1.12"),Object.create,Object.create;const Vg=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},jg=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},qg=new ht("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Bg=new Pt("@firebase/auth");function zg(e,...t){Bg.logLevel<=Nt.ERROR&&Bg.error(`Auth (${Jt}): ${e}`,...t)}function $g(e,...t){throw Gg(e,...t)}function Wg(e,...t){return Gg(e,...t)}function Hg(e,t,n){const r=Object.assign(Object.assign({},jg()),{[t]:n});return new ht("auth","Firebase",r).create(t,{appName:e.name})}function Kg(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&$g(e,"argument-error"),Hg(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Gg(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return qg.create(e,...t)}function Qg(e,t,...n){if(!e)throw Gg(t,...n)}function Jg(e){const t="INTERNAL ASSERTION FAILED: "+e;throw zg(t),new Error(t)}function Yg(e,t){e||Jg(t)}const Xg=new Map;function Zg(e){Yg(e instanceof Function,"Expected a class definition");let t=Xg.get(e);return t?(Yg(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Xg.set(e,t),t)}function ey(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ty(){return"http:"===ny()||"https:"===ny()}function ny(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class ry{constructor(e,t){this.shortDelay=e,this.longDelay=t,Yg(t>e,"Short delay should be less than long delay!"),this.isMobile=it()||at()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ty()||ot()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function iy(e,t){Yg(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class sy{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Jg("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Jg("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Jg("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const oy={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ay=new ry(3e4,6e4);function ly(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function uy(e,t,n,r,i={}){return cy(e,i,(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=gt(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),sy.fetch()(dy(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function cy(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},oy),t);try{const t=new fy(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw py(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw py(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw py(e,"email-already-in-use",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Hg(e,a,o);$g(e,a)}}catch(t){if(t instanceof ct)throw t;$g(e,"network-request-failed")}}async function hy(e,t,n,r,i={}){const s=await uy(e,t,n,r,i);return"mfaPendingCredential"in s&&$g(e,"multi-factor-auth-required",{_serverResponse:s}),s}function dy(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?iy(e.config,i):`${e.config.apiScheme}://${i}`}class fy{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Wg(this.auth,"network-request-failed"))),ay.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function py(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Wg(e,t,r);return i.customData._tokenResponse=n,i}function my(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function gy(e){return 1e3*Number(e)}function yy(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return zg("JWT malformed, contained fewer than 3 sections"),null;try{const e=function(e){try{return Ze.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(n);return e?JSON.parse(e):(zg("Failed to decode base64 JWT payload"),null)}catch(e){return zg("Caught error parsing JWT payload as JSON",e),null}}async function vy(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof ct&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class wy{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e.code&&this.schedule(!0))}this.schedule()}}class by{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=my(this.lastLoginAt),this.creationTime=my(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function _y(e){var t;const n=e.auth,r=await e.getIdToken(),i=await vy(e,async function(e,t){return uy(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Qg(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=Fg(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],a=(l=e.providerData,u=o,[...l.filter((e=>!u.some((t=>t.providerId===e.providerId)))),...u]);var l,u;const c=e.isAnonymous,h=!(e.email&&s.passwordHash||(null==a?void 0:a.length)),d=!!c&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new by(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class Ey{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Qg(e.idToken,"internal-error"),Qg(void 0!==e.idToken,"internal-error"),Qg(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=yy(e);return Qg(t,"internal-error"),Qg(void 0!==t.exp,"internal-error"),Qg(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return Qg(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await cy(e,{},(async()=>{const n=gt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=dy(e,r,"/v1/token",`key=${i}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",sy.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Ey;return n&&(Qg("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Qg("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Qg("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ey,this.toJSON())}_performRefresh(){return Jg("not implemented")}}function Iy(e,t){Qg("string"==typeof e||void 0===e,"internal-error",{appName:t})}class ky{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Fg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new wy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.metadata=new by(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await vy(this,this.stsTokenManager.getToken(this.auth,e));return Qg(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=Et(e),r=await n.getIdToken(t),i=yy(r);Qg(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:my(gy(i.auth_time)),issuedAtTime:my(gy(i.iat)),expirationTime:my(gy(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Et(e);await _y(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Qg(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ky(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){Qg(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await _y(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await vy(this,async function(e,t){return uy(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:v,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:E}=t;Qg(v&&E,e,"internal-error");const I=Ey.fromJSON(this.name,E);Qg("string"==typeof v,e,"internal-error"),Iy(c,e.name),Iy(h,e.name),Qg("boolean"==typeof w,e,"internal-error"),Qg("boolean"==typeof b,e,"internal-error"),Iy(d,e.name),Iy(f,e.name),Iy(p,e.name),Iy(m,e.name),Iy(g,e.name),Iy(y,e.name);const k=new ky({uid:v,auth:e,email:h,emailVerified:w,displayName:c,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:I,createdAt:g,lastLoginAt:y});return _&&Array.isArray(_)&&(k.providerData=_.map((e=>Object.assign({},e)))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t,n=!1){const r=new Ey;r.updateFromServerResponse(t);const i=new ky({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await _y(i),i}}class Ty{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ty.type="NONE";const Sy=Ty;function Cy(e,t,n){return`firebase:${e}:${t}:${n}`}class Ny{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Cy(this.userKey,r.apiKey,i),this.fullPersistenceKey=Cy("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ky._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Ny(Zg(Sy),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Zg(Sy);const s=Cy(n,e.config.apiKey,e.name);let o=null;for(const n of t)try{const t=await n._get(s);if(t){const r=ky._fromJSON(e,t);n!==i&&(o=r),i=n;break}}catch(e){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(e){}}))),new Ny(i,e,n)):new Ny(i,e,n)}}function Ay(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Py(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(xy(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ly(t))return"Blackberry";if(My(t))return"Webos";if(Ry(t))return"Safari";if((t.includes("chrome/")||Oy(t))&&!t.includes("edge/"))return"Chrome";if(Dy(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function xy(e=rt()){return/firefox\//i.test(e)}function Ry(e=rt()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Oy(e=rt()){return/crios\//i.test(e)}function Py(e=rt()){return/iemobile/i.test(e)}function Dy(e=rt()){return/android/i.test(e)}function Ly(e=rt()){return/blackberry/i.test(e)}function My(e=rt()){return/webos/i.test(e)}function Uy(e=rt()){return/iphone|ipad|ipod/i.test(e)}function Fy(e=rt()){return Uy(e)||Dy(e)||My(e)||Ly(e)||/windows phone/i.test(e)||Py(e)}function Vy(e,t=[]){let n;switch(e){case"Browser":n=Ay(rt());break;case"Worker":n=`${Ay(rt())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Jt}/${r}`}class jy{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new By(this),this.idTokenSubscription=new By(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qg,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Zg(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Ny.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e):void 0}async initializeCurrentUser(e){var t;let n=await this.assertedPersistence.getCurrentUser();if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null==n?void 0:n._redirectEventId,s=await this.tryRedirectSignIn(e);r&&r!==i||!(null==s?void 0:s.user)||(n=s.user)}return n?n._redirectEventId?(Qg(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)):this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await _y(e)}catch(e){if("auth/network-request-failed"!==e.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Et(e):null;return t&&Qg(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){if(!this._deleted)return e&&Qg(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Zg(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ht("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Zg(e)||this._popupRedirectResolver;Qg(t,this,"argument-error"),this.redirectPersistenceManager=await Ny.create(this,[Zg(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return Qg(s,this,"internal-error"),s.then((()=>i(this.currentUser))),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Qg(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Vy(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};return this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId),e}}function qy(e){return Et(e)}class By{constructor(e){this.auth=e,this.observer=null,this.addObserver=wt((e=>this.observer=e))}get next(){return Qg(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function zy(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function $y(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Wy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Jg("not implemented")}_getIdTokenResponse(e){return Jg("not implemented")}_linkToIdToken(e,t){return Jg("not implemented")}_getReauthenticationResolver(e){return Jg("not implemented")}}async function Hy(e,t){return uy(e,"POST","/v1/accounts:resetPassword",ly(e,t))}async function Ky(e,t){return uy(e,"POST","/v1/accounts:update",t)}async function Gy(e,t){return uy(e,"POST","/v1/accounts:sendOobCode",ly(e,t))}class Qy extends Wy{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Qy(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Qy(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return async function(e,t){return hy(e,"POST","/v1/accounts:signInWithPassword",ly(e,t))}(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return hy(e,"POST","/v1/accounts:signInWithEmailLink",ly(e,t))}(e,{email:this._email,oobCode:this._password});default:$g(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Ky(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return hy(e,"POST","/v1/accounts:signInWithEmailLink",ly(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:$g(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Jy(e,t){return hy(e,"POST","/v1/accounts:signInWithIdp",ly(e,t))}class Yy extends Wy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Yy(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):$g("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Fg(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Yy(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Jy(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Jy(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Jy(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=gt(t)}return e}}const Xy={USER_NOT_FOUND:"user-not-found"};class Zy extends Wy{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Zy({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Zy({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return hy(e,"POST","/v1/accounts:signInWithPhoneNumber",ly(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await hy(e,"POST","/v1/accounts:signInWithPhoneNumber",ly(e,t));if(n.temporaryProof)throw py(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return hy(e,"POST","/v1/accounts:signInWithPhoneNumber",ly(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Xy)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Zy({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class ev{constructor(e){var t,n,r,i,s,o;const a=yt(vt(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,u=null!==(n=a.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Qg(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=yt(vt(e)).link,n=t?yt(vt(t)).deep_link_id:null,r=yt(vt(e)).deep_link_id;return(r?yt(vt(r)).link:null)||r||n||t||e}(e);try{return new ev(t)}catch(e){return null}}}class tv{constructor(){this.providerId=tv.PROVIDER_ID}static credential(e,t){return Qy._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ev.parseLink(t);return Qg(n,"argument-error"),Qy._fromEmailAndCode(e,n.code,n.tenantId)}}tv.PROVIDER_ID="password",tv.EMAIL_PASSWORD_SIGN_IN_METHOD="password",tv.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class nv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class rv extends nv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class iv extends rv{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return Qg("providerId"in t&&"signInMethod"in t,"argument-error"),Yy._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Qg(e.idToken||e.accessToken,"argument-error"),Yy._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return iv.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return iv.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:s,providerId:o}=e;if(!(n||r||t||i))return null;if(!o)return null;try{return new iv(o)._credential({idToken:t,accessToken:n,nonce:s,pendingToken:i})}catch(e){return null}}}class sv extends rv{constructor(){super("facebook.com")}static credential(e){return Yy._fromParams({providerId:sv.PROVIDER_ID,signInMethod:sv.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sv.credentialFromTaggedObject(e)}static credentialFromError(e){return sv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return sv.credential(e.oauthAccessToken)}catch(e){return null}}}sv.FACEBOOK_SIGN_IN_METHOD="facebook.com",sv.PROVIDER_ID="facebook.com";class ov extends rv{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Yy._fromParams({providerId:ov.PROVIDER_ID,signInMethod:ov.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ov.credentialFromTaggedObject(e)}static credentialFromError(e){return ov.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return ov.credential(t,n)}catch(e){return null}}}ov.GOOGLE_SIGN_IN_METHOD="google.com",ov.PROVIDER_ID="google.com";class av extends rv{constructor(){super("github.com")}static credential(e){return Yy._fromParams({providerId:av.PROVIDER_ID,signInMethod:av.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return av.credentialFromTaggedObject(e)}static credentialFromError(e){return av.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return av.credential(e.oauthAccessToken)}catch(e){return null}}}av.GITHUB_SIGN_IN_METHOD="github.com",av.PROVIDER_ID="github.com";class lv extends Wy{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Jy(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Jy(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Jy(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new lv(n,i):null}static _create(e,t){return new lv(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class uv extends nv{constructor(e){Qg(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return uv.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return uv.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=lv.fromJSON(e);return Qg(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return lv._create(n,t)}catch(e){return null}}}class cv extends rv{constructor(){super("twitter.com")}static credential(e,t){return Yy._fromParams({providerId:cv.PROVIDER_ID,signInMethod:cv.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return cv.credentialFromTaggedObject(e)}static credentialFromError(e){return cv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return cv.credential(t,n)}catch(e){return null}}}async function hv(e,t){return hy(e,"POST","/v1/accounts:signUp",ly(e,t))}cv.TWITTER_SIGN_IN_METHOD="twitter.com",cv.PROVIDER_ID="twitter.com";class dv{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await ky._fromIdTokenResponse(e,n,r),s=fv(n);return new dv({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=fv(n);return new dv({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function fv(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class pv extends ct{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,pv.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new pv(e,t,n,r)}}function mv(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw pv._fromErrorAndOperation(e,n,t,r);throw n}))}function gv(e){return new Set(e.map((({providerId:e})=>e)).filter((e=>!!e)))}async function yv(e,t,n=!1){const r=await vy(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return dv._forOperation(e,"link",r)}async function vv(e,t,n){await _y(t);const r=!1===e?"provider-already-linked":"no-such-provider";Qg(gv(t.providerData).has(n)===e,t.auth,r)}async function wv(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=await vy(e,mv(r,i,t,e),n);Qg(s.idToken,r,"internal-error");const o=yy(s.idToken);Qg(o,r,"internal-error");const{sub:a}=o;return Qg(e.uid===a,r,"user-mismatch"),dv._forOperation(e,i,s)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&$g(r,"user-mismatch"),e}}async function bv(e,t,n=!1){const r="signIn",i=await mv(e,r,t),s=await dv._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function _v(e,t){return bv(qy(e),t)}async function Ev(e,t){const n=Et(e);return await vv(!1,n,t.providerId),yv(n,t)}async function Iv(e,t){return wv(Et(e),t)}class kv{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Tv._fromServerResponse(e,t):$g(e,"internal-error")}}class Tv extends kv{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Tv(t)}}function Sv(e,t,n){var r;Qg((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Qg(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Qg(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Qg(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Cv(e,t){const n=Et(e),r=await Hy(n,{oobCode:t}),i=r.requestType;switch(Qg(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Qg(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Qg(r.mfaInfo,n,"internal-error");default:Qg(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=kv._fromServerResponse(qy(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function Nv(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await vy(e,Ky(r,i));await e._updateTokensIfNecessary(s,!0)}class Av{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class xv extends Av{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Rv extends Av{constructor(e,t){super(e,"facebook.com",t)}}class Ov extends xv{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class Pv extends Av{constructor(e,t){super(e,"google.com",t)}}class Dv extends xv{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Lv(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){const r=null===(n=null===(t=yy(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Av(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new Rv(s,i);case"github.com":return new Ov(s,i);case"google.com":return new Pv(s,i);case"twitter.com":return new Dv(s,i,e.screenName||null);case"custom":case"anonymous":return new Av(s,null);default:return new Av(s,r,i)}}(n)}class Mv{constructor(e,t){this.type=e,this.credential=t}static _fromIdtoken(e){return new Mv("enroll",e)}static _fromMfaPendingCredential(e){return new Mv("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Mv._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Mv._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Uv{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=qy(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>kv._fromServerResponse(n,e)));Qg(r.mfaPendingCredential,n,"internal-error");const s=Mv._fromMfaPendingCredential(r.mfaPendingCredential);return new Uv(s,i,(async e=>{const i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;const o=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await dv._fromIdTokenResponse(n,t.operationType,o);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return Qg(t.user,n,"internal-error"),dv._forOperation(t.user,t.operationType,o);default:$g(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class Fv{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>kv._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new Fv(e)}async getSession(){return Mv._fromIdtoken(await this.user.getIdToken())}async enroll(e,t){const n=e,r=await this.getSession(),i=await vy(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"==typeof e?e:e.uid,n=await this.user.getIdToken(),r=await vy(this.user,(i=this.user.auth,s={idToken:n,mfaEnrollmentId:t},uy(i,"POST","/v2/accounts/mfaEnrollment:withdraw",ly(i,s))));var i,s;this.enrolledFactors=this.enrolledFactors.filter((({uid:e})=>e!==t)),await this.user._updateTokensIfNecessary(r);try{await this.user.reload()}catch(e){if("auth/user-token-expired"!==e.code)throw e}}}const Vv=new WeakMap,jv="__sak";class qv{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(jv,"1"),this.storage.removeItem(jv),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Bv extends qv{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=rt();return Ry(e)||Uy(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Fy(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);lt()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Bv.type="LOCAL";const zv=Bv;class $v extends qv{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}$v.type="SESSION";const Wv=$v;class Hv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Hv(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null==s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Kv(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}Hv.receivers=[];class Gv{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const l=Kv("",20);r.port1.start();const u=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(u),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Qv(){return window}function Jv(){return void 0!==Qv().WorkerGlobalScope&&"function"==typeof Qv().importScripts}const Yv="firebaseLocalStorageDb",Xv="firebaseLocalStorage",Zv="fbase_key";class ew{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function tw(e,t){return e.transaction([Xv],t?"readwrite":"readonly").objectStore(Xv)}function nw(){const e=indexedDB.open(Yv,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Xv,{keyPath:Zv})}catch(e){n(e)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Xv)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Yv);return new ew(e).toPromise()}(),t(await nw()))}))}))}async function rw(e,t,n){const r=tw(e,!0).put({[Zv]:t,value:n});return new ew(r).toPromise()}function iw(e,t){const n=tw(e,!0).delete(t);return new ew(n).toPromise()}class sw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await nw()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Jv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hv._getInstance(Jv()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Gv(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nw();return await rw(e,jv,"1"),await iw(e,jv),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>rw(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=tw(e,!1).get(t),r=await new ew(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>iw(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=tw(e,!1).getAll();return new ew(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}sw.type="LOCAL";const ow=sw;function aw(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Wg("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function lw(e){return`__${e}${Math.floor(1e6*Math.random())}`}const uw=1e12;class cw{constructor(e){this.auth=e,this.counter=uw,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new hw(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||uw;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||uw;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||uw;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class hw{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof e?document.getElementById(e):e;Qg(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let e=0;e<50;e++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}();const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(e){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(e){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const dw=lw("rcb"),fw=new ry(3e4,6e4);class pw{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Qv().grecaptcha}load(e,t=""){return Qg(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(Qv().grecaptcha):new Promise(((n,r)=>{const i=Qv().setTimeout((()=>{r(Wg(e,"network-request-failed"))}),fw.get());Qv()[dw]=()=>{Qv().clearTimeout(i),delete Qv()[dw];const s=Qv().grecaptcha;if(!s)return void r(Wg(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)},aw(`https://www.google.com/recaptcha/api.js??${gt({onload:dw,render:"explicit",hl:t})}`).catch((()=>{clearTimeout(i),r(Wg(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!Qv().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class mw{async load(e){return new cw(e)}clearedOneInstance(){}}const gw="recaptcha",yw={theme:"light",type:"image"};class vw{constructor(e,t=Object.assign({},yw),n){this.parameters=t,this.type=gw,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=qy(n),this.isInvisible="invisible"===this.parameters.size,Qg("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof e?document.getElementById(e):e;Qg(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new mw:new pw,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha();return t.getResponse(e)||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){Qg(!this.parameters.sitekey,this.auth,"argument-error"),Qg(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Qg("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"==typeof e)e(t);else if("string"==typeof e){const n=Qv()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){Qg(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Qg(ty()&&!Jv(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await uy(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);Qg(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Qg(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ww{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Zy._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function bw(e,t,n){var r;const i=await n.verify();try{let s;if(Qg("string"==typeof i,e,"argument-error"),Qg(n.type===gw,e,"argument-error"),s="string"==typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Qg("enroll"===t.type,e,"internal-error");const n=await function(e,t){return uy(e,"POST","/v2/accounts/mfaEnrollment:start",ly(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Qg("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Qg(n,e,"missing-multi-factor-info");const o=await function(e,t){return uy(e,"POST","/v2/accounts/mfaSignIn:start",ly(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return uy(e,"POST","/v1/accounts:sendVerificationCode",ly(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class _w{constructor(e){this.providerId=_w.PROVIDER_ID,this.auth=qy(e)}verifyPhoneNumber(e,t){return bw(this.auth,e,Et(t))}static credential(e,t){return Zy._fromVerification(e,t)}static credentialFromResult(e){const t=e;return _w.credentialFromTaggedObject(t)}static credentialFromError(e){return _w.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?Zy._fromTokenResponse(t,n):null}}function Ew(e,t){return t?Zg(t):(Qg(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}_w.PROVIDER_ID="phone",_w.PHONE_SIGN_IN_METHOD="phone";class Iw extends Wy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jy(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Jy(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Jy(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function kw(e){return bv(e.auth,new Iw(e),e.bypassAuthState)}function Tw(e){const{auth:t,user:n}=e;return Qg(n,t,"internal-error"),wv(n,new Iw(e),e.bypassAuthState)}async function Sw(e){const{auth:t,user:n}=e;return Qg(n,t,"internal-error"),yv(n,new Iw(e),e.bypassAuthState)}class Cw{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kw;case"linkViaPopup":case"linkViaRedirect":return Sw;case"reauthViaPopup":case"reauthViaRedirect":return Tw;default:$g(this.auth,"internal-error")}}resolve(e){Yg(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yg(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Nw=new ry(2e3,1e4);class Aw extends Cw{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Aw.currentPopupAction&&Aw.currentPopupAction.cancel(),Aw.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Qg(e,this.auth,"internal-error"),e}async onExecution(){Yg(1===this.filter.length,"Popup operations only handle one event");const e=Kv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Wg(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Wg(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Aw.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Wg(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(e,Nw.get())};e()}}Aw.currentPopupAction=null;const xw=new Map;class Rw extends Cw{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=xw.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Dw(t),r=Pw(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}xw.set(this.auth._key(),e)}return this.bypassAuthState||xw.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Ow(e,t){return Pw(e)._set(Dw(t),"true")}function Pw(e){return Zg(e._redirectPersistence)}function Dw(e){return Cy("pendingRedirect",e.config.apiKey,e.name)}async function Lw(e,t,n=!1){const r=qy(e),i=Ew(r,t),s=new Rw(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}async function Mw(e){const t=Kv(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class Uw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vw(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Vw(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Wg(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fw(e))}saveEventToCache(e){this.cachedEventUids.add(Fw(e)),this.lastProcessedEventTime=Date.now()}}function Fw(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Vw({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}async function jw(e,t={}){return uy(e,"GET","/v1/projects",t)}const qw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bw=/^https?/;function zw(e){const t=ey(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Bw.test(n))return!1;if(qw.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const $w=new ry(3e4,6e4);function Ww(){const e=Qv().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}let Hw=null;function Kw(e){return Hw=Hw||function(e){return new Promise(((t,n)=>{var r,i,s;function o(){Ww(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ww(),n(Wg(e,"network-request-failed"))},timeout:$w.get()})}if(null===(i=null===(r=Qv().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Qv().gapi)||void 0===s?void 0:s.load)){const t=lw("iframefcb");return Qv()[t]=()=>{gapi.load?o():n(Wg(e,"network-request-failed"))},aw(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}o()}})).catch((e=>{throw Hw=null,e}))}(e),Hw}const Gw=new ry(5e3,15e3),Qw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Jw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yw(e){const t=e.config;Qg(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?iy(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Jt},i=Jw.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${gt(r).slice(1)}`}const Xw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Zw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function eb(e,t,n,r,i,s){Qg(e.config.authDomain,e,"auth-domain-config-required"),Qg(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Jt,eventId:i};if(t instanceof nv){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof rv){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const e of Object.keys(a))void 0===a[e]&&delete a[e];return`${function({config:e}){return e.emulator?iy(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${gt(a).slice(1)}`}const tb="webStorageSupport";class nb extends class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Jg("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new nb(e)}_finalizeEnroll(e,t,n){return function(e,t){return uy(e,"POST","/v2/accounts/mfaEnrollment:finalize",ly(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return uy(e,"POST","/v2/accounts/mfaSignIn:finalize",ly(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class rb{constructor(){}static assertion(e){return nb._fromCredential(e)}}rb.FACTOR_ID="phone";var ib,sb="@firebase/auth",ob="0.19.6";class ab{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Qg(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function lb(){return window}ib="Browser",$t(new It("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),{apiKey:r,authDomain:i}=n.options;return(e=>{Qg(r&&!r.includes(":"),"invalid-api-key",{appName:e.name}),Qg(!(null==i?void 0:i.includes(":")),"argument-error",{appName:e.name});const n={apiKey:r,authDomain:i,clientPlatform:ib,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vy(ib)},s=new jy(e,n);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Zg);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(s,t),s})(n)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),$t(new It("auth-internal",(e=>{return t=qy(e.getProvider("auth").getImmediate()),new ab(t);var t}),"PRIVATE").setInstantiationMode("EXPLICIT")),tn(sb,ob,void 0),tn(sb,ob,"esm2017");class ub extends Uw{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function cb(e){const t=await db()._get(fb(e));return t&&await db()._remove(fb(e)),t}function hb(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function db(){return Zg(zv)}function fb(e){return Cy("authEvent",e.config.apiKey,e.name)}function pb(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return yt(n.join("?"))}function mb(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Wg("no-auth-event")}}function gb(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function yb(e=rt()){return!("file:"!==gb()&&"ionic:"!==gb()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function vb(){try{const e=self.localStorage,t=Kv();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(e=rt()){return lt()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(e=rt()){return/Edge\/\d+/.test(e)}(e)}()||ut()}catch(e){return wb()&&ut()}return!1}function wb(){return void 0!==n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function bb(){return("http:"===gb()||"https:"===gb()||ot()||yb())&&!(at()||st())&&vb()&&!wb()}function _b(){return yb()&&"undefined"!=typeof document}const Eb={LOCAL:"local",NONE:"none",SESSION:"session"},Ib=Qg,kb="persistence";async function Tb(e){await e._initializationPromise;const t=Sb(),n=Cy(kb,e.config.apiKey,e.name);(null==t?void 0:t.sessionStorage)&&t.sessionStorage.setItem(n,e._getPersistence())}function Sb(){return"undefined"!=typeof window?window:null}const Cb=Qg;class Nb{constructor(){this.browserResolver=Zg(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wv,this._completeRedirectFn=Lw}async _openPopup(e,t,n,r){var i;return Yg(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()"),function(e,t,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Xw),{width:r.toString(),height:i.toString(),top:s,left:o}),u=rt().toLowerCase();n&&(a=Oy(u)?"_blank":n),xy(u)&&(t=t||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=rt()){var t;return Uy(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Zw(null);const h=window.open(t||"",a,c);Qg(h,e,"popup-blocked");try{h.focus()}catch(e){}return new Zw(h)}(e,eb(e,t,n,ey(),r),Kv())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=eb(e,t,n,ey(),r),Qv().location.href=i,new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Yg(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await Kw(e),n=Qv().gapi;return Qg(n,e,"internal-error"),t.open({where:document.body,url:Yw(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qw,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Wg(e,"network-request-failed"),s=Qv().setTimeout((()=>{r(i)}),Gw.get());function o(){Qv().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}(e),n=new Uw(e);return t.register("authEvent",(t=>(Qg(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"})),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(tb,{type:tb},(n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),$g(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await jw(e);for(const e of t)try{if(zw(e))return}catch(e){}$g(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Fy()||Ry()||Uy()}}),this.cordovaResolver=Zg(class{constructor(){this._redirectPersistence=Wv,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Lw}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new ub(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){$g(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,s,o,a,l,u,c;const h=lb();Qg("function"==typeof(null===(t=null==h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Qg(void 0!==(null===(n=null==h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Qg("function"==typeof(null===(s=null===(i=null===(r=null==h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Qg("function"==typeof(null===(l=null===(a=null===(o=null==h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Qg("function"==typeof(null===(c=null===(u=null==h?void 0:h.cordova)||void 0===u?void 0:u.InAppBrowser)||void 0===c?void 0:c.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),xw.clear(),await this._originValidation(e);const s=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:hb(),postBody:null,tenantId:e.tenantId,error:Wg(e,"no-auth-event")}}(e,n,r);await function(e,t){return db()._set(fb(e),t)}(e,s);const o=await async function(e,t,n){var r;const{BuildInfo:i}=lb();Yg(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(Yg(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),o={};return Uy()?o.ibi=i.packageName:Dy()?o.apn=i.packageName:$g(e,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,eb(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)}(e,s,t);return async function(e,t,n){const{cordova:r}=lb();let i=()=>{};try{await new Promise(((s,o)=>{let a=null;function l(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function u(){a||(a=window.setTimeout((()=>{o(Wg(e,"redirect-cancelled-by-user"))}),2e3))}function c(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&u()}t.addPassiveListener(l),document.addEventListener("resume",u,!1),Dy()&&document.addEventListener("visibilitychange",c,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",c,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await function(e){const{cordova:t}=lb();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(e=rt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}(o))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=lb(),n={};Uy()?n.iosBundleId=t.packageName:Dy()?n.androidPackageName=t.packageName:$g(e,"operation-not-supported-in-this-environment"),await jw(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=lb(),s=setTimeout((async()=>{await cb(e),t.onEvent(mb())}),500),o=async n=>{clearTimeout(s);const r=await cb(e);let i=null;r&&(null==n?void 0:n.url)&&(i=function(e,t){var n,r;const i=function(e){const t=pb(e),n=t.link?decodeURIComponent(t.link):void 0,r=pb(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return pb(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=pb(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(e){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(r=null===(n=null==s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=o?Wg(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}(r,n.url)),t.onEvent(i||mb())};void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,o);const a=r,l=`${i.packageName.toLowerCase()}://`;lb().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&o({url:e}),"function"==typeof a)try{a(e)}catch(e){console.error(e)}}}}),this.underlyingResolver=null,this._redirectPersistence=Wv,this._completeRedirectFn=Lw}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return _b()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Cb(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!_b()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function Ab(e){return e.unwrap()}function xb(e){const{_tokenResponse:t}=e instanceof ct?e.customData:e;if(!t)return null;if(!(e instanceof ct)&&"temporaryProof"in t&&"phoneNumber"in t)return _w.credentialFromResult(e);const n=t.providerId;if(!n||"password"===n)return null;let r;switch(n){case"google.com":r=ov;break;case"facebook.com":r=sv;break;case"github.com":r=av;break;case"twitter.com":r=cv;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return i||s||e||o?o?n.startsWith("saml.")?lv._create(n,o):Yy._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:i}):new iv(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof ct?r.credentialFromError(e):r.credentialFromResult(e)}function Rb(e,t){return t.catch((t=>{throw t instanceof ct&&function(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Pb(e,function(e,t){var n;const r=Et(e),i=t;return Qg(t.customData.operationType,r,"argument-error"),Qg(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Uv._fromError(r,i)}(e,t));else if(r){const e=xb(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,xb(r)),additionalUserInfo:Lv(e),user:Db.getOrCreate(n)};var r}))}async function Ob(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>Rb(e,n.confirm(t))}}class Pb{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Rb(Ab(this.auth),this.resolver.resolveSignIn(e))}}class Db{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=Et(e);return Vv.has(t)||Vv.set(t,Fv._fromUser(t)),Vv.get(t)}(e)}static getOrCreate(e){return Db.USER_MAP.has(e)||Db.USER_MAP.set(e,new Db(e)),Db.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Rb(this.auth,Ev(this._delegate,e))}async linkWithPhoneNumber(e,t){return Ob(this.auth,async function(e,t,n){const r=Et(e);await vv(!1,r,"phone");const i=await bw(r.auth,t,Et(n));return new ww(i,(e=>Ev(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return Rb(this.auth,async function(e,t,n){const r=Et(e);Kg(r.auth,t,nv);const i=Ew(r.auth,n);return new Aw(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,Nb))}async linkWithRedirect(e){return await Tb(qy(this.auth)),function(e,t,n){return async function(e,t,n){const r=Et(e);Kg(r.auth,t,nv);const i=Ew(r.auth,n);await vv(!1,r,t.providerId),await Ow(i,r.auth);const s=await Mw(r);return i._openRedirect(r.auth,t,"linkViaRedirect",s)}(e,t,n)}(this._delegate,e,Nb)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Rb(this.auth,Iv(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return Ob(this.auth,async function(e,t,n){const r=Et(e),i=await bw(r.auth,t,Et(n));return new ww(i,(e=>Iv(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return Rb(this.auth,async function(e,t,n){const r=Et(e);Kg(r.auth,t,nv);const i=Ew(r.auth,n);return new Aw(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,Nb))}async reauthenticateWithRedirect(e){return await Tb(qy(this.auth)),function(e,t,n){return async function(e,t,n){const r=Et(e);Kg(r.auth,t,nv);const i=Ew(r.auth,n);await Ow(i,r.auth);const s=await Mw(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",s)}(e,t,n)}(this._delegate,e,Nb)}sendEmailVerification(e){return async function(e,t){const n=Et(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Sv(n.auth,r,t);const{email:i}=await async function(e,t){return Gy(e,t)}(n.auth,r);i!==e.email&&await e.reload()}(this._delegate,e)}async unlink(e){return await async function(e,t){const n=Et(e);await vv(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return uy(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=gv(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}(this._delegate,e),this}updateEmail(e){return function(e,t){return Nv(Et(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return Nv(Et(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await yv(Et(e),t)}(this._delegate,e)}updateProfile(e){return async function(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=Et(e),i={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},s=await vy(r,async function(e,t){return uy(e,"POST","/v1/accounts:update",t)}(r.auth,i));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const o=r.providerData.find((({providerId:e})=>"password"===e));o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return async function(e,t,n){const r=Et(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Sv(r.auth,i,n);const{email:s}=await async function(e,t){return Gy(e,t)}(r.auth,i);s!==e.email&&await e.reload()}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Db.USER_MAP=new WeakMap;const Lb=Qg;class Mb{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;Lb(n,"invalid-api-key",{appName:e.name}),Lb(n,"invalid-api-key",{appName:e.name});const r="undefined"!=typeof window?Nb:void 0;this._delegate=t.initialize({options:{persistence:Fb(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(Vg),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Db.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){!function(e,t,n){const r=qy(e);Qg(r._canInitEmulator,r,"emulator-config-failed"),Qg(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),s=zy(t),{host:o,port:a}=function(e){const t=zy(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:$y(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:$y(t)}}}(t),l=null===a?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(this._delegate,e,t)}applyActionCode(e){return async function(e,t){await async function(e,t){return uy(e,"POST","/v1/accounts:update",ly(e,t))}(Et(e),{oobCode:t})}(this._delegate,e)}checkActionCode(e){return Cv(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await Hy(Et(e),{oobCode:t,newPassword:n})}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Rb(this._delegate,async function(e,t,n){const r=qy(e),i=await hv(r,{returnSecureToken:!0,email:t,password:n}),s=await dv._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return async function(e,t){const n={identifier:t,continueUri:ty()?ey():"http://localhost"},{signinMethods:r}=await async function(e,t){return uy(e,"POST","/v1/accounts:createAuthUri",ly(e,t))}(Et(e),n);return r||[]}(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=ev.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){Lb(bb(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await qy(e)._initializationPromise,Lw(e,t,!1)}(this._delegate,Nb);return e?Rb(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){qy(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=Ub(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=Ub(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=Et(e),i={requestType:"EMAIL_SIGNIN",email:t};Qg(n.handleCodeInApp,r,"argument-error"),n&&Sv(r,i,n),await async function(e,t){return Gy(e,t)}(r,i)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=Et(e),i={requestType:"PASSWORD_RESET",email:t};n&&Sv(r,i,n),await async function(e,t){return Gy(e,t)}(r,i)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){Ib(Object.values(Eb).includes(t),e,"invalid-persistence-type"),at()?Ib(t!==Eb.SESSION,e,"unsupported-persistence-type"):st()?Ib(t===Eb.NONE,e,"unsupported-persistence-type"):wb()?Ib(t===Eb.NONE||t===Eb.LOCAL&&ut(),e,"unsupported-persistence-type"):Ib(t===Eb.NONE||vb(),e,"unsupported-persistence-type")}(this._delegate,e),e){case Eb.SESSION:t=Wv;break;case Eb.LOCAL:t=await Zg(ow)._isAvailable()?ow:zv;break;case Eb.NONE:t=Sy;break;default:return $g("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Rb(this._delegate,async function(e){var t;const n=qy(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new dv({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await hv(n,{returnSecureToken:!0}),i=await dv._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return Rb(this._delegate,_v(this._delegate,e))}signInWithCustomToken(e){return Rb(this._delegate,async function(e,t){const n=qy(e),r=await async function(e,t){return hy(e,"POST","/v1/accounts:signInWithCustomToken",ly(e,t))}(n,{token:t,returnSecureToken:!0}),i=await dv._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}(this._delegate,e))}signInWithEmailAndPassword(e,t){return Rb(this._delegate,function(e,t,n){return _v(Et(e),tv.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return Rb(this._delegate,async function(e,t,n){const r=Et(e),i=tv.credentialWithLink(t,n||ey());return Qg(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),_v(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Ob(this._delegate,async function(e,t,n){const r=qy(e),i=await bw(r,t,Et(n));return new ww(i,(e=>_v(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return Lb(bb(),this._delegate,"operation-not-supported-in-this-environment"),Rb(this._delegate,async function(e,t,n){const r=qy(e);Kg(e,t,nv);const i=Ew(r,n);return new Aw(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,Nb))}async signInWithRedirect(e){return Lb(bb(),this._delegate,"operation-not-supported-in-this-environment"),await Tb(this._delegate),function(e,t,n){return async function(e,t,n){const r=qy(e);Kg(e,t,nv);const i=Ew(r,n);return await Ow(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}(this._delegate,e,Nb)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Cv(Et(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function Ub(e,t,n){let r=e;"function"!=typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&Db.getOrCreate(e)),error:t,complete:n}}function Fb(e,t){const n=function(e,t){const n=Sb();if(!(null==n?void 0:n.sessionStorage))return[];const r=Cy(kb,e,t);switch(n.sessionStorage.getItem(r)){case Eb.NONE:return[Sy];case Eb.LOCAL:return[ow,Wv];case Eb.SESSION:return[Wv];default:return[]}}(e,t);if("undefined"==typeof self||n.includes(ow)||n.push(ow),"undefined"!=typeof window)for(const e of[zv,Wv])n.includes(e)||n.push(e);return n.includes(Sy)||n.push(Sy),n}Mb.Persistence=Eb;class Vb{constructor(){this.providerId="phone",this._delegate=new _w(Ab(un.auth()))}static credential(e,t){return _w.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}Vb.PHONE_SIGN_IN_METHOD=_w.PHONE_SIGN_IN_METHOD,Vb.PROVIDER_ID=_w.PROVIDER_ID;const jb=Qg;class qb{constructor(e,t,n=un.app()){var r;jb(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new vw(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(e){e.INTERNAL.registerComponent(new It("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Mb(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:tv,FacebookAuthProvider:sv,GithubAuthProvider:av,GoogleAuthProvider:ov,OAuthProvider:iv,SAMLAuthProvider:uv,PhoneAuthProvider:Vb,PhoneMultiFactorGenerator:rb,RecaptchaVerifier:qb,TwitterAuthProvider:cv,Auth:Mb,AuthCredential:Wy,Error:ct}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.6")}(un),un.initializeApp({apiKey:"AIzaSyA2u2h34eh0hGEXTQXlY5mw6mU2bjdXtQs",authDomain:"ecommerce-db-reactredux.firebaseapp.com",projectId:"ecommerce-db-reactredux",storageBucket:"ecommerce-db-reactredux.appspot.com",messagingSenderId:"349207307435",appId:"1:349207307435:web:74bfb8dc42466704b443ee",measurementId:"G-61S3YDL997"}),un.auth(),un.firestore();var Bb=new un.auth.GoogleAuthProvider;Bb.setCustomParameters({prompt:"select_account"});var zb=function(){return(0,t.signInWithPopup)(Bb)};function $b(e){return $b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$b(e)}function Wb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hb(e,t){return Hb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Hb(e,t)}function Kb(e,t){if(t&&("object"===$b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Gb(e)}function Gb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qb(e){return Qb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qb(e)}function Jb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hb(e,t)}(a,e);var t,n,i,s,o=(i=a,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Qb(i);if(s){var n=Qb(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Kb(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Jb(Gb(t=o.call(this,e)),"handleSubmit",(function(e){e.preventDefault(),t.setState({email:"",password:""})})),Jb(Gb(t),"handleChange",(function(e){var n=e.target,r=n.value,i=n.name;console.log(e),t.setState(Jb({},i,r))})),t.state={email:"",password:""},t}return t=a,(n=[{key:"render",value:function(){return r.createElement("div",{className:"sign-in"},r.createElement("h2",null,"I already have an account"),r.createElement("span",null,"Sign in with your email and password"),r.createElement("form",{onSubmit:this.handleSubmit},r.createElement($e,{type:"email",name:"email",handleChange:this.handleChange,value:this.state.email,label:"email",required:!0}),r.createElement($e,{type:"password",name:"password",handleChange:this.handleChange,value:this.state.password,label:"password",required:!0}),r.createElement(Qe,{type:"submit"}," Sign In "),r.createElement(Qe,{onClick:zb}," ","Sign In With Google"," "," ")))}}])&&Wb(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.Component);const Xb=Yb,Zb=function(){return r.createElement("div",{className:"sign-in-and-sign-up"},r.createElement(Xb,null))};var e_=n(874),t_={};t_.styleTagTransform=Y(),t_.setAttributes=K(),t_.insert=W().bind(null,"head"),t_.domAPI=z(),t_.insertStyleElement=Q(),q()(e_.Z,t_),e_.Z&&e_.Z.locals&&e_.Z.locals;const n_=function(){return r.createElement("div",null,r.createElement(Ue,null),r.createElement(U,null,r.createElement(M,{exact:!0,path:"/",component:pe}),r.createElement(M,{path:"/shop",component:Oe}),r.createElement(M,{path:"/signin",component:Zb})))};i.render(r.createElement(F,null,r.createElement(n_,null)),document.getElementById("root"))})()})();